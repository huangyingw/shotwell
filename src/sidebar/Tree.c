/* Tree.c generated by valac 0.34.4, the Vala compiler
 * generated from Tree.vala, do not modify */

/* Copyright 2016 Software Freedom Conservancy Inc.
 *
 * This software is licensed under the GNU Lesser General Public License
 * (version 2.1 or later).  See the COPYING file in this distribution.
 */

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <gdk/gdk.h>
#include <stdlib.h>
#include <string.h>
#include <gee.h>
#include <gio/gio.h>
#include <pango/pango.h>
#include <float.h>
#include <math.h>


#define SIDEBAR_TYPE_TREE (sidebar_tree_get_type ())
#define SIDEBAR_TREE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_TREE, SidebarTree))
#define SIDEBAR_TREE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SIDEBAR_TYPE_TREE, SidebarTreeClass))
#define SIDEBAR_IS_TREE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_TREE))
#define SIDEBAR_IS_TREE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SIDEBAR_TYPE_TREE))
#define SIDEBAR_TREE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SIDEBAR_TYPE_TREE, SidebarTreeClass))

typedef struct _SidebarTree SidebarTree;
typedef struct _SidebarTreeClass SidebarTreeClass;
typedef struct _SidebarTreePrivate SidebarTreePrivate;

#define SIDEBAR_TYPE_ENTRY (sidebar_entry_get_type ())
#define SIDEBAR_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_ENTRY, SidebarEntry))
#define SIDEBAR_IS_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_ENTRY))
#define SIDEBAR_ENTRY_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_ENTRY, SidebarEntryIface))

typedef struct _SidebarEntry SidebarEntry;
typedef struct _SidebarEntryIface SidebarEntryIface;

#define SIDEBAR_TREE_TYPE_ENTRY_WRAPPER (sidebar_tree_entry_wrapper_get_type ())
#define SIDEBAR_TREE_ENTRY_WRAPPER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TREE_TYPE_ENTRY_WRAPPER, SidebarTreeEntryWrapper))
#define SIDEBAR_TREE_ENTRY_WRAPPER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SIDEBAR_TREE_TYPE_ENTRY_WRAPPER, SidebarTreeEntryWrapperClass))
#define SIDEBAR_TREE_IS_ENTRY_WRAPPER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TREE_TYPE_ENTRY_WRAPPER))
#define SIDEBAR_TREE_IS_ENTRY_WRAPPER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SIDEBAR_TREE_TYPE_ENTRY_WRAPPER))
#define SIDEBAR_TREE_ENTRY_WRAPPER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SIDEBAR_TREE_TYPE_ENTRY_WRAPPER, SidebarTreeEntryWrapperClass))

typedef struct _SidebarTreeEntryWrapper SidebarTreeEntryWrapper;
typedef struct _SidebarTreeEntryWrapperClass SidebarTreeEntryWrapperClass;

#define SIDEBAR_TYPE_BRANCH (sidebar_branch_get_type ())
#define SIDEBAR_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_BRANCH, SidebarBranch))
#define SIDEBAR_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SIDEBAR_TYPE_BRANCH, SidebarBranchClass))
#define SIDEBAR_IS_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_BRANCH))
#define SIDEBAR_IS_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SIDEBAR_TYPE_BRANCH))
#define SIDEBAR_BRANCH_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SIDEBAR_TYPE_BRANCH, SidebarBranchClass))

typedef struct _SidebarBranch SidebarBranch;
typedef struct _SidebarBranchClass SidebarBranchClass;

#define SIDEBAR_TREE_TYPE_COLUMNS (sidebar_tree_columns_get_type ())
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _gtk_tree_row_reference_free0(var) ((var == NULL) ? NULL : (var = (gtk_tree_row_reference_free (var), NULL)))

#define LIBRARY_WINDOW_TYPE_TARGET_TYPE (library_window_target_type_get_type ())
typedef struct _SidebarTreeEntryWrapperPrivate SidebarTreeEntryWrapperPrivate;

#define SIDEBAR_TYPE_GROUPING (sidebar_grouping_get_type ())
#define SIDEBAR_GROUPING(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_GROUPING, SidebarGrouping))
#define SIDEBAR_GROUPING_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SIDEBAR_TYPE_GROUPING, SidebarGroupingClass))
#define SIDEBAR_IS_GROUPING(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_GROUPING))
#define SIDEBAR_IS_GROUPING_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SIDEBAR_TYPE_GROUPING))
#define SIDEBAR_GROUPING_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SIDEBAR_TYPE_GROUPING, SidebarGroupingClass))

typedef struct _SidebarGrouping SidebarGrouping;
typedef struct _SidebarGroupingClass SidebarGroupingClass;

#define SIDEBAR_TYPE_HEADER (sidebar_header_get_type ())
#define SIDEBAR_HEADER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_HEADER, SidebarHeader))
#define SIDEBAR_HEADER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SIDEBAR_TYPE_HEADER, SidebarHeaderClass))
#define SIDEBAR_IS_HEADER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_HEADER))
#define SIDEBAR_IS_HEADER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SIDEBAR_TYPE_HEADER))
#define SIDEBAR_HEADER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SIDEBAR_TYPE_HEADER, SidebarHeaderClass))

typedef struct _SidebarHeader SidebarHeader;
typedef struct _SidebarHeaderClass SidebarHeaderClass;
#define _gtk_tree_path_free0(var) ((var == NULL) ? NULL : (var = (gtk_tree_path_free (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

#define TYPE_APPLICATION (application_get_type ())
#define APPLICATION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_APPLICATION, Application))
#define APPLICATION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_APPLICATION, ApplicationClass))
#define IS_APPLICATION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_APPLICATION))
#define IS_APPLICATION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_APPLICATION))
#define APPLICATION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_APPLICATION, ApplicationClass))

typedef struct _Application Application;
typedef struct _ApplicationClass ApplicationClass;
#define _application_unref0(var) ((var == NULL) ? NULL : (var = (application_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
#define __g_list_free__gtk_tree_path_free0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__gtk_tree_path_free0_ (var), NULL)))

#define SIDEBAR_TYPE_EMPHASIZABLE_ENTRY (sidebar_emphasizable_entry_get_type ())
#define SIDEBAR_EMPHASIZABLE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_EMPHASIZABLE_ENTRY, SidebarEmphasizableEntry))
#define SIDEBAR_IS_EMPHASIZABLE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_EMPHASIZABLE_ENTRY))
#define SIDEBAR_EMPHASIZABLE_ENTRY_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_EMPHASIZABLE_ENTRY, SidebarEmphasizableEntryIface))

typedef struct _SidebarEmphasizableEntry SidebarEmphasizableEntry;
typedef struct _SidebarEmphasizableEntryIface SidebarEmphasizableEntryIface;

#define SIDEBAR_TYPE_RENAMEABLE_ENTRY (sidebar_renameable_entry_get_type ())
#define SIDEBAR_RENAMEABLE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_RENAMEABLE_ENTRY, SidebarRenameableEntry))
#define SIDEBAR_IS_RENAMEABLE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_RENAMEABLE_ENTRY))
#define SIDEBAR_RENAMEABLE_ENTRY_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_RENAMEABLE_ENTRY, SidebarRenameableEntryIface))

typedef struct _SidebarRenameableEntry SidebarRenameableEntry;
typedef struct _SidebarRenameableEntryIface SidebarRenameableEntryIface;

#define SIDEBAR_TYPE_SELECTABLE_ENTRY (sidebar_selectable_entry_get_type ())
#define SIDEBAR_SELECTABLE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_SELECTABLE_ENTRY, SidebarSelectableEntry))
#define SIDEBAR_IS_SELECTABLE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_SELECTABLE_ENTRY))
#define SIDEBAR_SELECTABLE_ENTRY_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_SELECTABLE_ENTRY, SidebarSelectableEntryIface))

typedef struct _SidebarSelectableEntry SidebarSelectableEntry;
typedef struct _SidebarSelectableEntryIface SidebarSelectableEntryIface;

#define SIDEBAR_TREE_TYPE_ROOT_WRAPPER (sidebar_tree_root_wrapper_get_type ())
#define SIDEBAR_TREE_ROOT_WRAPPER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TREE_TYPE_ROOT_WRAPPER, SidebarTreeRootWrapper))
#define SIDEBAR_TREE_ROOT_WRAPPER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SIDEBAR_TREE_TYPE_ROOT_WRAPPER, SidebarTreeRootWrapperClass))
#define SIDEBAR_TREE_IS_ROOT_WRAPPER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TREE_TYPE_ROOT_WRAPPER))
#define SIDEBAR_TREE_IS_ROOT_WRAPPER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SIDEBAR_TREE_TYPE_ROOT_WRAPPER))
#define SIDEBAR_TREE_ROOT_WRAPPER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SIDEBAR_TREE_TYPE_ROOT_WRAPPER, SidebarTreeRootWrapperClass))

typedef struct _SidebarTreeRootWrapper SidebarTreeRootWrapper;
typedef struct _SidebarTreeRootWrapperClass SidebarTreeRootWrapperClass;
typedef struct _SidebarTreeRootWrapperPrivate SidebarTreeRootWrapperPrivate;

#define SIDEBAR_TYPE_PAGE_REPRESENTATIVE (sidebar_page_representative_get_type ())
#define SIDEBAR_PAGE_REPRESENTATIVE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative))
#define SIDEBAR_IS_PAGE_REPRESENTATIVE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_PAGE_REPRESENTATIVE))
#define SIDEBAR_PAGE_REPRESENTATIVE_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentativeIface))

typedef struct _SidebarPageRepresentative SidebarPageRepresentative;
typedef struct _SidebarPageRepresentativeIface SidebarPageRepresentativeIface;

#define TYPE_PAGE (page_get_type ())
#define PAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_PAGE, Page))
#define PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_PAGE, PageClass))
#define IS_PAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_PAGE))
#define IS_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_PAGE))
#define PAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_PAGE, PageClass))

typedef struct _Page Page;
typedef struct _PageClass PageClass;

#define SIDEBAR_TYPE_CONTEXTABLE (sidebar_contextable_get_type ())
#define SIDEBAR_CONTEXTABLE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_CONTEXTABLE, SidebarContextable))
#define SIDEBAR_IS_CONTEXTABLE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_CONTEXTABLE))
#define SIDEBAR_CONTEXTABLE_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_CONTEXTABLE, SidebarContextableIface))

typedef struct _SidebarContextable SidebarContextable;
typedef struct _SidebarContextableIface SidebarContextableIface;

#define SIDEBAR_TYPE_EXPANDABLE_ENTRY (sidebar_expandable_entry_get_type ())
#define SIDEBAR_EXPANDABLE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_EXPANDABLE_ENTRY, SidebarExpandableEntry))
#define SIDEBAR_IS_EXPANDABLE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_EXPANDABLE_ENTRY))
#define SIDEBAR_EXPANDABLE_ENTRY_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_EXPANDABLE_ENTRY, SidebarExpandableEntryIface))

typedef struct _SidebarExpandableEntry SidebarExpandableEntry;
typedef struct _SidebarExpandableEntryIface SidebarExpandableEntryIface;

#define SIDEBAR_TYPE_INTERNAL_DROP_TARGET_ENTRY (sidebar_internal_drop_target_entry_get_type ())
#define SIDEBAR_INTERNAL_DROP_TARGET_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_INTERNAL_DROP_TARGET_ENTRY, SidebarInternalDropTargetEntry))
#define SIDEBAR_IS_INTERNAL_DROP_TARGET_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_INTERNAL_DROP_TARGET_ENTRY))
#define SIDEBAR_INTERNAL_DROP_TARGET_ENTRY_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_INTERNAL_DROP_TARGET_ENTRY, SidebarInternalDropTargetEntryIface))

typedef struct _SidebarInternalDropTargetEntry SidebarInternalDropTargetEntry;
typedef struct _SidebarInternalDropTargetEntryIface SidebarInternalDropTargetEntryIface;

#define TYPE_DATA_OBJECT (data_object_get_type ())
#define DATA_OBJECT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DATA_OBJECT, DataObject))
#define DATA_OBJECT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DATA_OBJECT, DataObjectClass))
#define IS_DATA_OBJECT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DATA_OBJECT))
#define IS_DATA_OBJECT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DATA_OBJECT))
#define DATA_OBJECT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DATA_OBJECT, DataObjectClass))

typedef struct _DataObject DataObject;
typedef struct _DataObjectClass DataObjectClass;

#define TYPE_DATA_SOURCE (data_source_get_type ())
#define DATA_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DATA_SOURCE, DataSource))
#define DATA_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DATA_SOURCE, DataSourceClass))
#define IS_DATA_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DATA_SOURCE))
#define IS_DATA_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DATA_SOURCE))
#define DATA_SOURCE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DATA_SOURCE, DataSourceClass))

typedef struct _DataSource DataSource;
typedef struct _DataSourceClass DataSourceClass;

#define TYPE_THUMBNAIL_SOURCE (thumbnail_source_get_type ())
#define THUMBNAIL_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_THUMBNAIL_SOURCE, ThumbnailSource))
#define THUMBNAIL_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_THUMBNAIL_SOURCE, ThumbnailSourceClass))
#define IS_THUMBNAIL_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_THUMBNAIL_SOURCE))
#define IS_THUMBNAIL_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_THUMBNAIL_SOURCE))
#define THUMBNAIL_SOURCE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_THUMBNAIL_SOURCE, ThumbnailSourceClass))

typedef struct _ThumbnailSource ThumbnailSource;
typedef struct _ThumbnailSourceClass ThumbnailSourceClass;

#define TYPE_MEDIA_SOURCE (media_source_get_type ())
#define MEDIA_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_MEDIA_SOURCE, MediaSource))
#define MEDIA_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_MEDIA_SOURCE, MediaSourceClass))
#define IS_MEDIA_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_MEDIA_SOURCE))
#define IS_MEDIA_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_MEDIA_SOURCE))
#define MEDIA_SOURCE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_MEDIA_SOURCE, MediaSourceClass))

typedef struct _MediaSource MediaSource;
typedef struct _MediaSourceClass MediaSourceClass;

#define SIDEBAR_TYPE_INTERNAL_DRAG_SOURCE_ENTRY (sidebar_internal_drag_source_entry_get_type ())
#define SIDEBAR_INTERNAL_DRAG_SOURCE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_INTERNAL_DRAG_SOURCE_ENTRY, SidebarInternalDragSourceEntry))
#define SIDEBAR_IS_INTERNAL_DRAG_SOURCE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_INTERNAL_DRAG_SOURCE_ENTRY))
#define SIDEBAR_INTERNAL_DRAG_SOURCE_ENTRY_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_INTERNAL_DRAG_SOURCE_ENTRY, SidebarInternalDragSourceEntryIface))

typedef struct _SidebarInternalDragSourceEntry SidebarInternalDragSourceEntry;
typedef struct _SidebarInternalDragSourceEntryIface SidebarInternalDragSourceEntryIface;

#define SIDEBAR_TYPE_DESTROYABLE_ENTRY (sidebar_destroyable_entry_get_type ())
#define SIDEBAR_DESTROYABLE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_DESTROYABLE_ENTRY, SidebarDestroyableEntry))
#define SIDEBAR_IS_DESTROYABLE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_DESTROYABLE_ENTRY))
#define SIDEBAR_DESTROYABLE_ENTRY_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_DESTROYABLE_ENTRY, SidebarDestroyableEntryIface))

typedef struct _SidebarDestroyableEntry SidebarDestroyableEntry;
typedef struct _SidebarDestroyableEntryIface SidebarDestroyableEntryIface;

#define TYPE_SAVED_SEARCH_DIALOG (saved_search_dialog_get_type ())
#define SAVED_SEARCH_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SAVED_SEARCH_DIALOG, SavedSearchDialog))
#define SAVED_SEARCH_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SAVED_SEARCH_DIALOG, SavedSearchDialogClass))
#define IS_SAVED_SEARCH_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SAVED_SEARCH_DIALOG))
#define IS_SAVED_SEARCH_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SAVED_SEARCH_DIALOG))
#define SAVED_SEARCH_DIALOG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SAVED_SEARCH_DIALOG, SavedSearchDialogClass))

typedef struct _SavedSearchDialog SavedSearchDialog;
typedef struct _SavedSearchDialogClass SavedSearchDialogClass;
#define _saved_search_dialog_unref0(var) ((var == NULL) ? NULL : (var = (saved_search_dialog_unref (var), NULL)))

#define TYPE_COMMAND (command_get_type ())
#define COMMAND(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_COMMAND, Command))
#define COMMAND_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_COMMAND, CommandClass))
#define IS_COMMAND(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_COMMAND))
#define IS_COMMAND_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_COMMAND))
#define COMMAND_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_COMMAND, CommandClass))

typedef struct _Command Command;
typedef struct _CommandClass CommandClass;

#define TYPE_PAGE_COMMAND (page_command_get_type ())
#define PAGE_COMMAND(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_PAGE_COMMAND, PageCommand))
#define PAGE_COMMAND_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_PAGE_COMMAND, PageCommandClass))
#define IS_PAGE_COMMAND(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_PAGE_COMMAND))
#define IS_PAGE_COMMAND_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_PAGE_COMMAND))
#define PAGE_COMMAND_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_PAGE_COMMAND, PageCommandClass))

typedef struct _PageCommand PageCommand;
typedef struct _PageCommandClass PageCommandClass;

#define TYPE_NEW_ROOT_TAG_COMMAND (new_root_tag_command_get_type ())
#define NEW_ROOT_TAG_COMMAND(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_NEW_ROOT_TAG_COMMAND, NewRootTagCommand))
#define NEW_ROOT_TAG_COMMAND_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_NEW_ROOT_TAG_COMMAND, NewRootTagCommandClass))
#define IS_NEW_ROOT_TAG_COMMAND(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_NEW_ROOT_TAG_COMMAND))
#define IS_NEW_ROOT_TAG_COMMAND_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_NEW_ROOT_TAG_COMMAND))
#define NEW_ROOT_TAG_COMMAND_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_NEW_ROOT_TAG_COMMAND, NewRootTagCommandClass))

typedef struct _NewRootTagCommand NewRootTagCommand;
typedef struct _NewRootTagCommandClass NewRootTagCommandClass;

#define TYPE_COMMAND_MANAGER (command_manager_get_type ())
#define COMMAND_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_COMMAND_MANAGER, CommandManager))
#define COMMAND_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_COMMAND_MANAGER, CommandManagerClass))
#define IS_COMMAND_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_COMMAND_MANAGER))
#define IS_COMMAND_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_COMMAND_MANAGER))
#define COMMAND_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_COMMAND_MANAGER, CommandManagerClass))

typedef struct _CommandManager CommandManager;
typedef struct _CommandManagerClass CommandManagerClass;
#define _command_manager_unref0(var) ((var == NULL) ? NULL : (var = (command_manager_unref (var), NULL)))

#define TYPE_PAGE_WINDOW (page_window_get_type ())
#define PAGE_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_PAGE_WINDOW, PageWindow))
#define PAGE_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_PAGE_WINDOW, PageWindowClass))
#define IS_PAGE_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_PAGE_WINDOW))
#define IS_PAGE_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_PAGE_WINDOW))
#define PAGE_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_PAGE_WINDOW, PageWindowClass))

typedef struct _PageWindow PageWindow;
typedef struct _PageWindowClass PageWindowClass;

#define TYPE_APP_WINDOW (app_window_get_type ())
#define APP_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_APP_WINDOW, AppWindow))
#define APP_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_APP_WINDOW, AppWindowClass))
#define IS_APP_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_APP_WINDOW))
#define IS_APP_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_APP_WINDOW))
#define APP_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_APP_WINDOW, AppWindowClass))

typedef struct _AppWindow AppWindow;
typedef struct _AppWindowClass AppWindowClass;

#define TYPE_LIBRARY_WINDOW (library_window_get_type ())
#define LIBRARY_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_LIBRARY_WINDOW, LibraryWindow))
#define LIBRARY_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_LIBRARY_WINDOW, LibraryWindowClass))
#define IS_LIBRARY_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_LIBRARY_WINDOW))
#define IS_LIBRARY_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_LIBRARY_WINDOW))
#define LIBRARY_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_LIBRARY_WINDOW, LibraryWindowClass))

typedef struct _LibraryWindow LibraryWindow;
typedef struct _LibraryWindowClass LibraryWindowClass;

#define TYPE_TAG (tag_get_type ())
#define TAG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_TAG, Tag))
#define TAG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_TAG, TagClass))
#define IS_TAG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_TAG))
#define IS_TAG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_TAG))
#define TAG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_TAG, TagClass))

typedef struct _Tag Tag;
typedef struct _TagClass TagClass;
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _SidebarTree {
	GtkTreeView parent_instance;
	SidebarTreePrivate * priv;
};

struct _SidebarTreeClass {
	GtkTreeViewClass parent_class;
	gboolean (*accept_cursor_changed) (SidebarTree* self);
};

struct _SidebarEntryIface {
	GTypeInterface parent_iface;
	gchar* (*get_sidebar_name) (SidebarEntry* self);
	gchar* (*get_sidebar_tooltip) (SidebarEntry* self);
	gchar* (*get_sidebar_icon) (SidebarEntry* self);
	gchar* (*to_string) (SidebarEntry* self);
	void (*grafted) (SidebarEntry* self, SidebarTree* tree);
	void (*pruned) (SidebarEntry* self, SidebarTree* tree);
};

typedef void (*SidebarTreeExternalDropHandler) (GdkDragContext* context, SidebarEntry* entry, GtkSelectionData* data, guint info, guint time, void* user_data);
struct _SidebarTreePrivate {
	GtkTreeStore* store;
	GtkBuilder* builder;
	GtkCellRendererText* text_renderer;
	SidebarTreeExternalDropHandler drop_handler;
	gpointer drop_handler_target;
	GtkEntry* text_entry;
	GeeHashMap* entry_map;
	GeeHashMap* branches;
	gint editing_disabled;
	gboolean mask_entry_selected_signal;
	SidebarTreeEntryWrapper* selected_wrapper;
	GtkMenu* default_context_menu;
	gboolean expander_called_manually;
	gint expander_special_count;
	gboolean is_internal_drag_in_progress;
	SidebarEntry* internal_drag_source_entry;
	GtkTreeRowReference* old_path_ref;
};

typedef enum  {
	SIDEBAR_TREE_COLUMNS_NAME,
	SIDEBAR_TREE_COLUMNS_TOOLTIP,
	SIDEBAR_TREE_COLUMNS_WRAPPER,
	SIDEBAR_TREE_COLUMNS_ICON,
	SIDEBAR_TREE_COLUMNS_N_COLUMNS
} SidebarTreeColumns;

typedef enum  {
	LIBRARY_WINDOW_TARGET_TYPE_URI_LIST,
	LIBRARY_WINDOW_TARGET_TYPE_MEDIA_LIST,
	LIBRARY_WINDOW_TARGET_TYPE_TAG_PATH
} LibraryWindowTargetType;

struct _SidebarTreeEntryWrapper {
	GObject parent_instance;
	SidebarTreeEntryWrapperPrivate * priv;
	SidebarEntry* entry;
	GtkTreeRowReference* row;
};

struct _SidebarTreeEntryWrapperClass {
	GObjectClass parent_class;
};

struct _SidebarEmphasizableEntryIface {
	GTypeInterface parent_iface;
	gboolean (*is_emphasized) (SidebarEmphasizableEntry* self);
};

struct _SidebarRenameableEntryIface {
	GTypeInterface parent_iface;
	void (*rename) (SidebarRenameableEntry* self, const gchar* new_name);
	gboolean (*is_user_renameable) (SidebarRenameableEntry* self);
};

struct _SidebarSelectableEntryIface {
	GTypeInterface parent_iface;
};

struct _SidebarTreeRootWrapper {
	SidebarTreeEntryWrapper parent_instance;
	SidebarTreeRootWrapperPrivate * priv;
	gint root_position;
};

struct _SidebarTreeRootWrapperClass {
	SidebarTreeEntryWrapperClass parent_class;
};

struct _SidebarPageRepresentativeIface {
	GTypeInterface parent_iface;
	gboolean (*has_page) (SidebarPageRepresentative* self);
	Page* (*get_page) (SidebarPageRepresentative* self);
};

struct _SidebarContextableIface {
	GTypeInterface parent_iface;
	GtkMenu* (*get_sidebar_context_menu) (SidebarContextable* self, GdkEventButton* event);
};

struct _SidebarExpandableEntryIface {
	GTypeInterface parent_iface;
	gboolean (*expand_on_select) (SidebarExpandableEntry* self);
};

struct _SidebarInternalDropTargetEntryIface {
	GTypeInterface parent_iface;
	gboolean (*internal_drop_received) (SidebarInternalDropTargetEntry* self, GeeList* sources);
	gboolean (*internal_drop_received_arbitrary) (SidebarInternalDropTargetEntry* self, GtkSelectionData* data);
};

struct _SidebarInternalDragSourceEntryIface {
	GTypeInterface parent_iface;
	void (*prepare_selection_data) (SidebarInternalDragSourceEntry* self, GtkSelectionData* data);
};

struct _SidebarDestroyableEntryIface {
	GTypeInterface parent_iface;
	void (*destroy_source) (SidebarDestroyableEntry* self);
};


static gpointer sidebar_tree_parent_class = NULL;
static gpointer sidebar_tree_entry_wrapper_parent_class = NULL;
static gpointer sidebar_tree_root_wrapper_parent_class = NULL;

GType sidebar_tree_get_type (void) G_GNUC_CONST;
GType sidebar_entry_get_type (void) G_GNUC_CONST;
static GType sidebar_tree_entry_wrapper_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
GType sidebar_branch_get_type (void) G_GNUC_CONST;
#define SIDEBAR_TREE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), SIDEBAR_TYPE_TREE, SidebarTreePrivate))
enum  {
	SIDEBAR_TREE_DUMMY_PROPERTY
};
static void sidebar_tree_on_editing_canceled (SidebarTree* self);
static void _sidebar_tree_on_editing_canceled_gtk_cell_renderer_editing_canceled (GtkCellRenderer* _sender, gpointer self);
static void sidebar_tree_on_editing_started (SidebarTree* self, GtkCellEditable* editable, const gchar* path);
static void _sidebar_tree_on_editing_started_gtk_cell_renderer_editing_started (GtkCellRenderer* _sender, GtkCellEditable* editable, const gchar* path, gpointer self);
static GType sidebar_tree_columns_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
#define SIDEBAR_TREE_ICON_SIZE 16
static void sidebar_tree_on_new_tag (SidebarTree* self);
static void _sidebar_tree_on_new_tag_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self);
static void sidebar_tree_on_new_search (SidebarTree* self);
static void _sidebar_tree_on_new_search_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self);
SidebarTree* sidebar_tree_new (GtkTargetEntry* target_entries, int target_entries_length1, GdkDragAction actions, SidebarTreeExternalDropHandler drop_handler, void* drop_handler_target);
SidebarTree* sidebar_tree_construct (GType object_type, GtkTargetEntry* target_entries, int target_entries_length1, GdkDragAction actions, SidebarTreeExternalDropHandler drop_handler, void* drop_handler_target);
void sidebar_tree_icon_renderer_function (SidebarTree* self, GtkCellLayout* layout, GtkCellRenderer* renderer, GtkTreeModel* model, GtkTreeIter* iter);
static void _sidebar_tree_icon_renderer_function_gtk_cell_layout_data_func (GtkCellLayout* cell_layout, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self);
static gboolean sidebar_tree_on_selection (SidebarTree* self, GtkTreeSelection* selection, GtkTreeModel* model, GtkTreePath* path, gboolean path_currently_selected);
static gboolean _sidebar_tree_on_selection_gtk_tree_selection_func (GtkTreeSelection* selection, GtkTreeModel* model, GtkTreePath* path, gboolean path_currently_selected, gpointer self);
gboolean sidebar_tree_on_toggle_row (SidebarTree* self, GtkTreeIter* iter, GtkTreePath* path);
static gboolean _sidebar_tree_on_toggle_row_gtk_tree_view_test_expand_row (GtkTreeView* _sender, GtkTreeIter* iter, GtkTreePath* path, gpointer self);
static gboolean _sidebar_tree_on_toggle_row_gtk_tree_view_test_collapse_row (GtkTreeView* _sender, GtkTreeIter* iter, GtkTreePath* path, gpointer self);
GType library_window_target_type_get_type (void) G_GNUC_CONST;
static void _vala_array_add64 (GtkTargetEntry** array, int* length, int* size, const GtkTargetEntry* value);
static gboolean sidebar_tree_on_context_menu_keypress (SidebarTree* self);
static gboolean _sidebar_tree_on_context_menu_keypress_gtk_widget_popup_menu (GtkWidget* _sender, gpointer self);
static void sidebar_tree_setup_default_context_menu (SidebarTree* self);
static void sidebar_tree_on_drag_begin (SidebarTree* self, GdkDragContext* ctx);
static void _sidebar_tree_on_drag_begin_gtk_widget_drag_begin (GtkWidget* _sender, GdkDragContext* context, gpointer self);
static void sidebar_tree_on_drag_end (SidebarTree* self, GdkDragContext* ctx);
static void _sidebar_tree_on_drag_end_gtk_widget_drag_end (GtkWidget* _sender, GdkDragContext* context, gpointer self);
static gboolean sidebar_tree_on_drag_motion (SidebarTree* self, GdkDragContext* context, gint x, gint y, guint time_);
static gboolean _sidebar_tree_on_drag_motion_gtk_widget_drag_motion (GtkWidget* _sender, GdkDragContext* context, gint x, gint y, guint time_, gpointer self);
static SidebarTreeEntryWrapper* sidebar_tree_get_wrapper_at_iter (SidebarTree* self, GtkTreeIter* iter);
GType sidebar_grouping_get_type (void) G_GNUC_CONST;
GType sidebar_header_get_type (void) G_GNUC_CONST;
static SidebarTreeEntryWrapper* sidebar_tree_get_wrapper_at_path (SidebarTree* self, GtkTreePath* path);
void app_window_error_message (const gchar* message, GtkWindow* parent);
gpointer application_ref (gpointer instance);
void application_unref (gpointer instance);
GParamSpec* param_spec_application (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_application (GValue* value, gpointer v_object);
void value_take_application (GValue* value, gpointer v_object);
gpointer value_get_application (const GValue* value);
GType application_get_type (void) G_GNUC_CONST;
Application* application_get_instance (void);
void application_panic (Application* self);
static gboolean sidebar_tree_has_wrapper (SidebarTree* self, SidebarEntry* entry);
static SidebarTreeEntryWrapper* sidebar_tree_get_wrapper (SidebarTree* self, SidebarEntry* entry);
gchar* sidebar_entry_to_string (SidebarEntry* self);
gboolean sidebar_tree_place_cursor (SidebarTree* self, SidebarEntry* entry, gboolean mask_signal);
gboolean sidebar_tree_expand_to_entry (SidebarTree* self, SidebarEntry* entry);
static GtkTreePath* sidebar_tree_entry_wrapper_get_path (SidebarTreeEntryWrapper* self);
gboolean sidebar_tree_scroll_to_entry (SidebarTree* self, SidebarEntry* entry);
gboolean sidebar_tree_is_selected (SidebarTree* self, SidebarEntry* entry);
gboolean sidebar_tree_is_any_selected (SidebarTree* self);
static GtkTreePath* sidebar_tree_get_selected_path (SidebarTree* self);
static void _gtk_tree_path_free0_ (gpointer var);
static void _g_list_free__gtk_tree_path_free0_ (GList* self);
static gchar* sidebar_tree_get_name_for_entry (SidebarTree* self, SidebarEntry* entry);
gchar* guarded_markup_escape_text (const gchar* plain);
gchar* sidebar_entry_get_sidebar_name (SidebarEntry* self);
GType sidebar_emphasizable_entry_get_type (void) G_GNUC_CONST;
gboolean sidebar_emphasizable_entry_is_emphasized (SidebarEmphasizableEntry* self);
gboolean sidebar_tree_accept_cursor_changed (SidebarTree* self);
static gboolean sidebar_tree_real_accept_cursor_changed (SidebarTree* self);
static void sidebar_tree_real_cursor_changed (GtkTreeView* base);
GType sidebar_renameable_entry_get_type (void) G_GNUC_CONST;
gboolean sidebar_renameable_entry_is_user_renameable (SidebarRenameableEntry* self);
GType sidebar_selectable_entry_get_type (void) G_GNUC_CONST;
void sidebar_tree_disable_editing (SidebarTree* self);
void sidebar_tree_enable_editing (SidebarTree* self);
void sidebar_tree_toggle_branch_expansion (SidebarTree* self, GtkTreePath* path, gboolean expand_all);
void sidebar_tree_expand_to_first_child (SidebarTree* self, SidebarEntry* entry);
void sidebar_tree_graft (SidebarTree* self, SidebarBranch* branch, gint position);
gboolean sidebar_branch_get_show_branch (SidebarBranch* self);
static void sidebar_tree_associate_branch (SidebarTree* self, SidebarBranch* branch);
gboolean sidebar_branch_is_startup_expand_to_first_child (SidebarBranch* self);
SidebarEntry* sidebar_branch_get_root (SidebarBranch* self);
gboolean sidebar_branch_is_startup_open_grouping (SidebarBranch* self);
static void sidebar_tree_on_branch_entry_added (SidebarTree* self, SidebarBranch* branch, SidebarEntry* entry);
static void _sidebar_tree_on_branch_entry_added_sidebar_branch_entry_added (SidebarBranch* _sender, SidebarEntry* entry, gpointer self);
static void sidebar_tree_on_branch_entry_removed (SidebarTree* self, SidebarBranch* branch, SidebarEntry* entry);
static void _sidebar_tree_on_branch_entry_removed_sidebar_branch_entry_removed (SidebarBranch* _sender, SidebarEntry* entry, gpointer self);
static void sidebar_tree_on_branch_entry_moved (SidebarTree* self, SidebarBranch* branch, SidebarEntry* entry);
static void _sidebar_tree_on_branch_entry_moved_sidebar_branch_entry_moved (SidebarBranch* _sender, SidebarEntry* entry, gpointer self);
static void sidebar_tree_on_branch_entry_reparented (SidebarTree* self, SidebarBranch* branch, SidebarEntry* entry, SidebarEntry* old_parent);
static void _sidebar_tree_on_branch_entry_reparented_sidebar_branch_entry_reparented (SidebarBranch* _sender, SidebarEntry* entry, SidebarEntry* old_parent, gpointer self);
static void sidebar_tree_on_branch_children_reordered (SidebarTree* self, SidebarBranch* branch, SidebarEntry* entry);
static void _sidebar_tree_on_branch_children_reordered_sidebar_branch_children_reordered (SidebarBranch* _sender, SidebarEntry* entry, gpointer self);
static void sidebar_tree_on_show_branch (SidebarTree* self, SidebarBranch* branch, gboolean shown);
static void _sidebar_tree_on_show_branch_sidebar_branch_show_branch (SidebarBranch* _sender, gboolean show, gpointer self);
static GType sidebar_tree_root_wrapper_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
static GtkTreeIter* _gtk_tree_iter_dup (GtkTreeIter* self);
static void sidebar_tree_associate_wrapper (SidebarTree* self, GtkTreeIter* assoc_iter, SidebarTreeEntryWrapper* wrapper);
static SidebarTreeRootWrapper* sidebar_tree_root_wrapper_new (GtkTreeModel* model, SidebarEntry* entry, GtkTreePath* path, gint root_position);
static SidebarTreeRootWrapper* sidebar_tree_root_wrapper_construct (GType object_type, GtkTreeModel* model, SidebarEntry* entry, GtkTreePath* path, gint root_position);
static void sidebar_tree_associate_children (SidebarTree* self, SidebarBranch* branch, SidebarEntry* parent, GtkTreeIter* parent_iter);
GeeList* sidebar_branch_get_children (SidebarBranch* self, SidebarEntry* parent);
static void sidebar_tree_associate_entry (SidebarTree* self, GtkTreeIter* assoc_iter, SidebarEntry* entry);
static SidebarTreeEntryWrapper* sidebar_tree_entry_wrapper_new (GtkTreeModel* model, SidebarEntry* entry, GtkTreePath* path);
static SidebarTreeEntryWrapper* sidebar_tree_entry_wrapper_construct (GType object_type, GtkTreeModel* model, SidebarEntry* entry, GtkTreePath* path);
gchar* sidebar_entry_get_sidebar_tooltip (SidebarEntry* self);
static void sidebar_tree_load_entry_icons (SidebarTree* self, GtkTreeIter* iter);
static void sidebar_tree_on_sidebar_tooltip_changed (SidebarTree* self, SidebarEntry* entry, const gchar* tooltip);
static void _sidebar_tree_on_sidebar_tooltip_changed_sidebar_entry_sidebar_tooltip_changed (SidebarEntry* _sender, const gchar* tooltip, gpointer self);
static void sidebar_tree_on_sidebar_icon_changed (SidebarTree* self, SidebarEntry* entry, const gchar* icon);
static void _sidebar_tree_on_sidebar_icon_changed_sidebar_entry_sidebar_icon_changed (SidebarEntry* _sender, const gchar* icon, gpointer self);
GType page_get_type (void) G_GNUC_CONST;
GType sidebar_page_representative_get_type (void) G_GNUC_CONST;
static void sidebar_tree_on_sidebar_page_created (SidebarTree* self, SidebarPageRepresentative* entry, Page* page);
static void _sidebar_tree_on_sidebar_page_created_sidebar_page_representative_page_created (SidebarPageRepresentative* _sender, Page* page, gpointer self);
static void sidebar_tree_on_sidebar_destroying_page (SidebarTree* self, SidebarPageRepresentative* entry, Page* page);
static void _sidebar_tree_on_sidebar_destroying_page_sidebar_page_representative_destroying_page (SidebarPageRepresentative* _sender, Page* page, gpointer self);
static void sidebar_tree_on_is_emphasized_changed (SidebarTree* self, SidebarEmphasizableEntry* entry, gboolean is_emphasized);
static void _sidebar_tree_on_is_emphasized_changed_sidebar_emphasizable_entry_is_emphasized_changed (SidebarEmphasizableEntry* _sender, gboolean emphasized, gpointer self);
static void sidebar_tree_on_sidebar_name_changed (SidebarTree* self, SidebarEntry* entry, const gchar* name);
static void _sidebar_tree_on_sidebar_name_changed_sidebar_renameable_entry_sidebar_name_changed (SidebarRenameableEntry* _sender, const gchar* name, gpointer self);
void sidebar_entry_grafted (SidebarEntry* self, SidebarTree* tree);
static SidebarTreeEntryWrapper* sidebar_tree_reparent_wrapper (SidebarTree* self, GtkTreeIter* new_iter, SidebarTreeEntryWrapper* current_wrapper);
void sidebar_tree_prune (SidebarTree* self, SidebarBranch* branch);
static void sidebar_tree_disassociate_branch (SidebarTree* self, SidebarBranch* branch);
static void sidebar_tree_disassociate_wrapper_and_signal (SidebarTree* self, SidebarTreeEntryWrapper* wrapper, gboolean only_children);
static void sidebar_tree_disassociate_wrapper (SidebarTree* self, SidebarTreeEntryWrapper* wrapper, gboolean only_children);
static void sidebar_tree_entry_wrapper_get_iter (SidebarTreeEntryWrapper* self, GtkTreeIter* result);
void sidebar_entry_pruned (SidebarEntry* self, SidebarTree* tree);
SidebarEntry* sidebar_branch_get_parent (SidebarBranch* self, SidebarEntry* entry);
SidebarEntry* sidebar_branch_get_next_sibling (SidebarBranch* self, SidebarEntry* entry);
gboolean sidebar_branch_is_auto_open_on_new_child (SidebarBranch* self);
SidebarEntry* sidebar_branch_get_previous_sibling (SidebarBranch* self, SidebarEntry* entry);
static GtkTreePath* sidebar_tree_get_current_path (SidebarTree* self);
static void sidebar_tree_rename_entry (SidebarTree* self, SidebarEntry* entry);
gchar* sidebar_entry_get_sidebar_icon (SidebarEntry* self);
static void sidebar_tree_load_branch_icons (SidebarTree* self, GtkTreeIter* iter);
static GtkTreePath* sidebar_tree_get_path_from_event (SidebarTree* self, GdkEventButton* event);
static gboolean sidebar_tree_popup_context_menu (SidebarTree* self, GtkTreePath* path, GdkEventButton* event);
GType sidebar_contextable_get_type (void) G_GNUC_CONST;
GtkMenu* sidebar_contextable_get_sidebar_context_menu (SidebarContextable* self, GdkEventButton* event);
static gboolean sidebar_tree_popup_default_context_menu (SidebarTree* self, GdkEventButton* event);
static gboolean sidebar_tree_real_button_press_event (GtkWidget* base, GdkEventButton* event);
GType sidebar_expandable_entry_get_type (void) G_GNUC_CONST;
GType data_object_get_type (void) G_GNUC_CONST;
GType data_source_get_type (void) G_GNUC_CONST;
GType thumbnail_source_get_type (void) G_GNUC_CONST;
GType media_source_get_type (void) G_GNUC_CONST;
GType sidebar_internal_drop_target_entry_get_type (void) G_GNUC_CONST;
gboolean sidebar_tree_is_keypress_interpreted (SidebarTree* self, GdkEventKey* event);
static gboolean sidebar_tree_real_key_press_event (GtkWidget* base, GdkEventKey* event);
static gboolean sidebar_tree_rename_in_place (SidebarTree* self);
static gboolean sidebar_tree_destroy_path (SidebarTree* self, GtkTreePath* path);
gboolean sidebar_tree_rename_entry_in_place (SidebarTree* self, SidebarEntry* entry);
static gboolean sidebar_tree_can_rename_path (SidebarTree* self, GtkTreePath* path);
static void sidebar_tree_real_drag_data_get (GtkWidget* base, GdkDragContext* context, GtkSelectionData* selection_data, guint info, guint time);
GType sidebar_internal_drag_source_entry_get_type (void) G_GNUC_CONST;
void sidebar_internal_drag_source_entry_prepare_selection_data (SidebarInternalDragSourceEntry* self, GtkSelectionData* data);
static void sidebar_tree_real_drag_data_received (GtkWidget* base, GdkDragContext* context, gint x, gint y, GtkSelectionData* selection_data, guint info, guint time);
#define LIBRARY_WINDOW_TAG_PATH_MIME_TYPE "shotwell/tag-path"
gboolean sidebar_internal_drop_target_entry_internal_drop_received_arbitrary (SidebarInternalDropTargetEntry* self, GtkSelectionData* data);
GeeList* unserialize_media_sources (guchar* serialized, gint size);
gboolean sidebar_internal_drop_target_entry_internal_drop_received (SidebarInternalDropTargetEntry* self, GeeList* sources);
static gboolean sidebar_tree_real_drag_motion (GtkWidget* base, GdkDragContext* context, gint x, gint y, guint time);
GType sidebar_destroyable_entry_get_type (void) G_GNUC_CONST;
void sidebar_destroyable_entry_destroy_source (SidebarDestroyableEntry* self);
static void sidebar_tree_on_editing_done (SidebarTree* self);
static void _sidebar_tree_on_editing_done_gtk_cell_editable_editing_done (GtkCellEditable* _sender, gpointer self);
static gboolean sidebar_tree_on_editing_focus_out (SidebarTree* self, GdkEventFocus* event);
static gboolean _sidebar_tree_on_editing_focus_out_gtk_widget_focus_out_event (GtkWidget* _sender, GdkEventFocus* event, gpointer self);
void sidebar_renameable_entry_rename (SidebarRenameableEntry* self, const gchar* new_name);
SavedSearchDialog* saved_search_dialog_new (void);
SavedSearchDialog* saved_search_dialog_construct (GType object_type);
gpointer saved_search_dialog_ref (gpointer instance);
void saved_search_dialog_unref (gpointer instance);
GParamSpec* param_spec_saved_search_dialog (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_saved_search_dialog (GValue* value, gpointer v_object);
void value_take_saved_search_dialog (GValue* value, gpointer v_object);
gpointer value_get_saved_search_dialog (const GValue* value);
GType saved_search_dialog_get_type (void) G_GNUC_CONST;
void saved_search_dialog_show (SavedSearchDialog* self);
GType command_get_type (void) G_GNUC_CONST;
GType page_command_get_type (void) G_GNUC_CONST;
GType new_root_tag_command_get_type (void) G_GNUC_CONST;
NewRootTagCommand* new_root_tag_command_new (void);
NewRootTagCommand* new_root_tag_command_construct (GType object_type);
gpointer command_manager_ref (gpointer instance);
void command_manager_unref (gpointer instance);
GParamSpec* param_spec_command_manager (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_command_manager (GValue* value, gpointer v_object);
void value_take_command_manager (GValue* value, gpointer v_object);
gpointer value_get_command_manager (const GValue* value);
GType command_manager_get_type (void) G_GNUC_CONST;
CommandManager* app_window_get_command_manager (void);
void command_manager_execute (CommandManager* self, Command* command);
GType page_window_get_type (void) G_GNUC_CONST;
GType app_window_get_type (void) G_GNUC_CONST;
GType library_window_get_type (void) G_GNUC_CONST;
LibraryWindow* library_window_get_app (void);
GType tag_get_type (void) G_GNUC_CONST;
void library_window_rename_tag_in_sidebar (LibraryWindow* self, Tag* tag);
Tag* new_root_tag_command_get_created_tag (NewRootTagCommand* self);
static void g_cclosure_user_marshal_VOID__OBJECT_BOOLEAN (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data);
static void g_cclosure_user_marshal_VOID__OBJECT_OBJECT (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data);
enum  {
	SIDEBAR_TREE_ENTRY_WRAPPER_DUMMY_PROPERTY
};
static void sidebar_tree_entry_wrapper_finalize (GObject* obj);
enum  {
	SIDEBAR_TREE_ROOT_WRAPPER_DUMMY_PROPERTY
};
static void sidebar_tree_root_wrapper_finalize (GObject* obj);
static void sidebar_tree_finalize (GObject* obj);

static const GActionEntry SIDEBAR_TREE_entries[2] = {{"tag.new", _sidebar_tree_on_new_tag_gsimple_action_activate_callback}, {"search.new", _sidebar_tree_on_new_search_gsimple_action_activate_callback}};

static void _sidebar_tree_on_editing_canceled_gtk_cell_renderer_editing_canceled (GtkCellRenderer* _sender, gpointer self) {
#line 156 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_editing_canceled ((SidebarTree*) self);
#line 683 "Tree.c"
}


static void _sidebar_tree_on_editing_started_gtk_cell_renderer_editing_started (GtkCellRenderer* _sender, GtkCellEditable* editable, const gchar* path, gpointer self) {
#line 157 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_editing_started ((SidebarTree*) self, editable, path);
#line 690 "Tree.c"
}


static GType sidebar_tree_columns_get_type (void) {
	static volatile gsize sidebar_tree_columns_type_id__volatile = 0;
	if (g_once_init_enter (&sidebar_tree_columns_type_id__volatile)) {
		static const GEnumValue values[] = {{SIDEBAR_TREE_COLUMNS_NAME, "SIDEBAR_TREE_COLUMNS_NAME", "name"}, {SIDEBAR_TREE_COLUMNS_TOOLTIP, "SIDEBAR_TREE_COLUMNS_TOOLTIP", "tooltip"}, {SIDEBAR_TREE_COLUMNS_WRAPPER, "SIDEBAR_TREE_COLUMNS_WRAPPER", "wrapper"}, {SIDEBAR_TREE_COLUMNS_ICON, "SIDEBAR_TREE_COLUMNS_ICON", "icon"}, {SIDEBAR_TREE_COLUMNS_N_COLUMNS, "SIDEBAR_TREE_COLUMNS_N_COLUMNS", "n-columns"}, {0, NULL, NULL}};
		GType sidebar_tree_columns_type_id;
		sidebar_tree_columns_type_id = g_enum_register_static ("SidebarTreeColumns", values);
		g_once_init_leave (&sidebar_tree_columns_type_id__volatile, sidebar_tree_columns_type_id);
	}
	return sidebar_tree_columns_type_id__volatile;
}


static void _sidebar_tree_on_new_tag_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self) {
#line 193 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_new_tag ((SidebarTree*) self);
#line 709 "Tree.c"
}


static void _sidebar_tree_on_new_search_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self) {
#line 193 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_new_search ((SidebarTree*) self);
#line 716 "Tree.c"
}


static void _sidebar_tree_icon_renderer_function_gtk_cell_layout_data_func (GtkCellLayout* cell_layout, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self) {
#line 104 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_icon_renderer_function ((SidebarTree*) self, cell_layout, cell, tree_model, iter);
#line 723 "Tree.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 127 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return self ? g_object_ref (self) : NULL;
#line 730 "Tree.c"
}


static gboolean _sidebar_tree_on_selection_gtk_tree_selection_func (GtkTreeSelection* selection, GtkTreeModel* model, GtkTreePath* path, gboolean path_currently_selected, gpointer self) {
	gboolean result;
	result = sidebar_tree_on_selection ((SidebarTree*) self, selection, model, path, path_currently_selected);
#line 129 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 739 "Tree.c"
}


static gboolean _sidebar_tree_on_toggle_row_gtk_tree_view_test_expand_row (GtkTreeView* _sender, GtkTreeIter* iter, GtkTreePath* path, gpointer self) {
	gboolean result;
	result = sidebar_tree_on_toggle_row ((SidebarTree*) self, iter, path);
#line 131 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 748 "Tree.c"
}


static gboolean _sidebar_tree_on_toggle_row_gtk_tree_view_test_collapse_row (GtkTreeView* _sender, GtkTreeIter* iter, GtkTreePath* path, gpointer self) {
	gboolean result;
	result = sidebar_tree_on_toggle_row ((SidebarTree*) self, iter, path);
#line 132 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 757 "Tree.c"
}


static void _vala_array_add64 (GtkTargetEntry** array, int* length, int* size, const GtkTargetEntry* value) {
#line 140 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if ((*length) == (*size)) {
#line 140 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 140 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		*array = g_renew (GtkTargetEntry, *array, *size);
#line 768 "Tree.c"
	}
#line 140 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	(*array)[(*length)++] = *value;
#line 772 "Tree.c"
}


static gboolean _sidebar_tree_on_context_menu_keypress_gtk_widget_popup_menu (GtkWidget* _sender, gpointer self) {
	gboolean result;
	result = sidebar_tree_on_context_menu_keypress ((SidebarTree*) self);
#line 146 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 781 "Tree.c"
}


static void _sidebar_tree_on_drag_begin_gtk_widget_drag_begin (GtkWidget* _sender, GdkDragContext* context, gpointer self) {
#line 150 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_drag_begin ((SidebarTree*) self, context);
#line 788 "Tree.c"
}


static void _sidebar_tree_on_drag_end_gtk_widget_drag_end (GtkWidget* _sender, GdkDragContext* context, gpointer self) {
#line 151 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_drag_end ((SidebarTree*) self, context);
#line 795 "Tree.c"
}


static gboolean _sidebar_tree_on_drag_motion_gtk_widget_drag_motion (GtkWidget* _sender, GdkDragContext* context, gint x, gint y, guint time_, gpointer self) {
	gboolean result;
	result = sidebar_tree_on_drag_motion ((SidebarTree*) self, context, x, y, time_);
#line 152 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 804 "Tree.c"
}


SidebarTree* sidebar_tree_construct (GType object_type, GtkTargetEntry* target_entries, int target_entries_length1, GdkDragAction actions, SidebarTreeExternalDropHandler drop_handler, void* drop_handler_target) {
	SidebarTree * self = NULL;
	GtkTreeStore* _tmp0_ = NULL;
	GtkStyleContext* _tmp1_ = NULL;
	GtkTreeViewColumn* text_column = NULL;
	GtkTreeViewColumn* _tmp2_ = NULL;
	GtkCellRendererPixbuf* icon_renderer = NULL;
	GtkCellRendererPixbuf* _tmp3_ = NULL;
	GtkCellRendererText* _tmp4_ = NULL;
	GtkCellRendererText* _tmp5_ = NULL;
	GtkCellRendererText* _tmp6_ = NULL;
	GtkCellRendererText* _tmp7_ = NULL;
	GtkCellRendererText* _tmp8_ = NULL;
	GtkCellRendererText* _tmp9_ = NULL;
	GtkCellRendererText* invisitext = NULL;
	GtkCellRendererText* _tmp10_ = NULL;
	GtkTreeViewColumn* page_holder = NULL;
	GtkTreeViewColumn* _tmp11_ = NULL;
	GtkTreeSelection* selection = NULL;
	GtkTreeSelection* _tmp12_ = NULL;
	GtkTreeSelection* _tmp13_ = NULL;
	GtkTargetEntry* _tmp14_ = NULL;
	gint _tmp14__length1 = 0;
	GdkDragAction _tmp15_ = 0;
	GtkTargetEntry* source_entries = NULL;
	GtkTargetEntry* _tmp16_ = NULL;
	gint source_entries_length1 = 0;
	gint _source_entries_size_ = 0;
	GtkTargetEntry* _tmp17_ = NULL;
	gint _tmp17__length1 = 0;
	GtkTargetEntry* _tmp18_ = NULL;
	gint _tmp18__length1 = 0;
	GtkTargetEntry _tmp19_ = {0};
	GtkTargetEntry* _tmp20_ = NULL;
	gint _tmp20__length1 = 0;
	SidebarTreeExternalDropHandler _tmp21_ = NULL;
	void* _tmp21__target = NULL;
#line 93 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self = (SidebarTree*) g_object_new (object_type, NULL);
#line 95 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->priv->store;
#line 95 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_set_model (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GTK_TYPE_TREE_MODEL, GtkTreeModel));
#line 96 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = gtk_widget_get_style_context (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_widget_get_type (), GtkWidget));
#line 96 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_style_context_add_class (_tmp1_, "sidebar");
#line 98 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = gtk_tree_view_column_new ();
#line 98 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_object_ref_sink (_tmp2_);
#line 98 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	text_column = _tmp2_;
#line 99 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_column_set_expand (text_column, TRUE);
#line 100 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = (GtkCellRendererPixbuf*) gtk_cell_renderer_pixbuf_new ();
#line 100 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_object_ref_sink (_tmp3_);
#line 100 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	icon_renderer = _tmp3_;
#line 101 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_object_set (icon_renderer, "follow-state", TRUE, NULL);
#line 102 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_cell_layout_pack_start (G_TYPE_CHECK_INSTANCE_CAST (text_column, GTK_TYPE_CELL_LAYOUT, GtkCellLayout), G_TYPE_CHECK_INSTANCE_CAST (icon_renderer, gtk_cell_renderer_get_type (), GtkCellRenderer), FALSE);
#line 103 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_cell_layout_add_attribute (G_TYPE_CHECK_INSTANCE_CAST (text_column, GTK_TYPE_CELL_LAYOUT, GtkCellLayout), G_TYPE_CHECK_INSTANCE_CAST (icon_renderer, gtk_cell_renderer_get_type (), GtkCellRenderer), "icon_name", (gint) SIDEBAR_TREE_COLUMNS_ICON);
#line 104 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_cell_layout_set_cell_data_func (G_TYPE_CHECK_INSTANCE_CAST (text_column, GTK_TYPE_CELL_LAYOUT, GtkCellLayout), G_TYPE_CHECK_INSTANCE_CAST (icon_renderer, gtk_cell_renderer_get_type (), GtkCellRenderer), _sidebar_tree_icon_renderer_function_gtk_cell_layout_data_func, g_object_ref (self), g_object_unref);
#line 105 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = (GtkCellRendererText*) gtk_cell_renderer_text_new ();
#line 105 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_object_ref_sink (_tmp4_);
#line 105 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (self->priv->text_renderer);
#line 105 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->text_renderer = _tmp4_;
#line 106 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = self->priv->text_renderer;
#line 106 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_object_set (_tmp5_, "ellipsize", PANGO_ELLIPSIZE_END, NULL);
#line 107 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = self->priv->text_renderer;
#line 107 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, gtk_cell_renderer_get_type (), GtkCellRenderer), "editing-canceled", (GCallback) _sidebar_tree_on_editing_canceled_gtk_cell_renderer_editing_canceled, self, 0);
#line 108 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = self->priv->text_renderer;
#line 108 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, gtk_cell_renderer_get_type (), GtkCellRenderer), "editing-started", (GCallback) _sidebar_tree_on_editing_started_gtk_cell_renderer_editing_started, self, 0);
#line 109 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = self->priv->text_renderer;
#line 109 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_cell_layout_pack_start (G_TYPE_CHECK_INSTANCE_CAST (text_column, GTK_TYPE_CELL_LAYOUT, GtkCellLayout), G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, gtk_cell_renderer_get_type (), GtkCellRenderer), TRUE);
#line 110 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp9_ = self->priv->text_renderer;
#line 110 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_cell_layout_add_attribute (G_TYPE_CHECK_INSTANCE_CAST (text_column, GTK_TYPE_CELL_LAYOUT, GtkCellLayout), G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, gtk_cell_renderer_get_type (), GtkCellRenderer), "markup", (gint) SIDEBAR_TREE_COLUMNS_NAME);
#line 111 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_append_column (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), text_column);
#line 113 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp10_ = (GtkCellRendererText*) gtk_cell_renderer_text_new ();
#line 113 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_object_ref_sink (_tmp10_);
#line 113 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	invisitext = _tmp10_;
#line 114 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp11_ = gtk_tree_view_column_new ();
#line 114 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_object_ref_sink (_tmp11_);
#line 114 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	page_holder = _tmp11_;
#line 115 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_cell_layout_pack_start (G_TYPE_CHECK_INSTANCE_CAST (page_holder, GTK_TYPE_CELL_LAYOUT, GtkCellLayout), G_TYPE_CHECK_INSTANCE_CAST (invisitext, gtk_cell_renderer_get_type (), GtkCellRenderer), TRUE);
#line 116 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_column_set_visible (page_holder, FALSE);
#line 117 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_append_column (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), page_holder);
#line 119 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_set_headers_visible (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), FALSE);
#line 120 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_set_enable_search (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), FALSE);
#line 121 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_set_show_expanders (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), TRUE);
#line 122 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_set_reorderable (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), FALSE);
#line 123 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_set_enable_tree_lines (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), FALSE);
#line 124 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_set_grid_lines (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), GTK_TREE_VIEW_GRID_LINES_NONE);
#line 125 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_set_tooltip_column (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), (gint) SIDEBAR_TREE_COLUMNS_TOOLTIP);
#line 127 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp12_ = gtk_tree_view_get_selection (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView));
#line 127 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp13_ = _g_object_ref0 (_tmp12_);
#line 127 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	selection = _tmp13_;
#line 128 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_selection_set_mode (selection, GTK_SELECTION_BROWSE);
#line 129 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_selection_set_select_function (selection, _sidebar_tree_on_selection_gtk_tree_selection_func, g_object_ref (self), g_object_unref);
#line 131 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), "test-expand-row", (GCallback) _sidebar_tree_on_toggle_row_gtk_tree_view_test_expand_row, self, 0);
#line 132 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), "test-collapse-row", (GCallback) _sidebar_tree_on_toggle_row_gtk_tree_view_test_collapse_row, self, 0);
#line 137 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp14_ = target_entries;
#line 137 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp14__length1 = target_entries_length1;
#line 137 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp15_ = actions;
#line 137 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_enable_model_drag_dest (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp14_, _tmp14__length1, _tmp15_);
#line 139 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp16_ = g_new0 (GtkTargetEntry, 0);
#line 139 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	source_entries = _tmp16_;
#line 139 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	source_entries_length1 = 0;
#line 139 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_source_entries_size_ = source_entries_length1;
#line 140 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp17_ = source_entries;
#line 140 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp17__length1 = source_entries_length1;
#line 140 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp18_ = target_entries;
#line 140 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp18__length1 = target_entries_length1;
#line 140 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp19_ = _tmp18_[LIBRARY_WINDOW_TARGET_TYPE_TAG_PATH];
#line 140 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_array_add64 (&source_entries, &source_entries_length1, &_source_entries_size_, &_tmp19_);
#line 141 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp20_ = source_entries;
#line 141 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp20__length1 = source_entries_length1;
#line 141 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_enable_model_drag_source (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), GDK_BUTTON1_MASK, _tmp20_, _tmp20__length1, GDK_ACTION_COPY);
#line 144 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp21_ = drop_handler;
#line 144 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp21__target = drop_handler_target;
#line 144 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->drop_handler = _tmp21_;
#line 144 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->drop_handler_target = _tmp21__target;
#line 146 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_widget_get_type (), GtkWidget), "popup-menu", (GCallback) _sidebar_tree_on_context_menu_keypress_gtk_widget_popup_menu, self, 0);
#line 148 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_setup_default_context_menu (self);
#line 150 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_widget_get_type (), GtkWidget), "drag-begin", (GCallback) _sidebar_tree_on_drag_begin_gtk_widget_drag_begin, self, 0);
#line 151 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_widget_get_type (), GtkWidget), "drag-end", (GCallback) _sidebar_tree_on_drag_end_gtk_widget_drag_end, self, 0);
#line 152 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_widget_get_type (), GtkWidget), "drag-motion", (GCallback) _sidebar_tree_on_drag_motion_gtk_widget_drag_motion, self, 0);
#line 93 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	source_entries = (g_free (source_entries), NULL);
#line 93 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (selection);
#line 93 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (page_holder);
#line 93 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (invisitext);
#line 93 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (icon_renderer);
#line 93 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (text_column);
#line 93 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return self;
#line 1019 "Tree.c"
}


SidebarTree* sidebar_tree_new (GtkTargetEntry* target_entries, int target_entries_length1, GdkDragAction actions, SidebarTreeExternalDropHandler drop_handler, void* drop_handler_target) {
#line 93 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return sidebar_tree_construct (SIDEBAR_TYPE_TREE, target_entries, target_entries_length1, actions, drop_handler, drop_handler_target);
#line 1026 "Tree.c"
}


void sidebar_tree_icon_renderer_function (SidebarTree* self, GtkCellLayout* layout, GtkCellRenderer* renderer, GtkTreeModel* model, GtkTreeIter* iter) {
	SidebarTreeEntryWrapper* wrapper = NULL;
	GtkTreeIter _tmp0_ = {0};
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	SidebarTreeEntryWrapper* _tmp2_ = NULL;
	GtkCellRenderer* _tmp3_ = NULL;
	SidebarTreeEntryWrapper* _tmp4_ = NULL;
	SidebarEntry* _tmp5_ = NULL;
#line 160 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 160 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (GTK_IS_CELL_LAYOUT (layout));
#line 160 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (GTK_IS_CELL_RENDERER (renderer));
#line 160 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (GTK_IS_TREE_MODEL (model));
#line 160 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (iter != NULL);
#line 161 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = *iter;
#line 161 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper_at_iter (self, &_tmp0_);
#line 161 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 162 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = wrapper;
#line 162 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp2_ == NULL) {
#line 163 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 163 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return;
#line 1062 "Tree.c"
	}
#line 165 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = renderer;
#line 165 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = wrapper;
#line 165 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = _tmp4_->entry;
#line 165 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_cell_renderer_set_visible (_tmp3_, !G_TYPE_CHECK_INSTANCE_TYPE (_tmp5_, SIDEBAR_TYPE_HEADER));
#line 160 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 1074 "Tree.c"
}


static void sidebar_tree_on_drag_begin (SidebarTree* self, GdkDragContext* ctx) {
#line 168 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 168 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (GDK_IS_DRAG_CONTEXT (ctx));
#line 169 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->is_internal_drag_in_progress = TRUE;
#line 1085 "Tree.c"
}


static void sidebar_tree_on_drag_end (SidebarTree* self, GdkDragContext* ctx) {
#line 172 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 172 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (GDK_IS_DRAG_CONTEXT (ctx));
#line 173 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->is_internal_drag_in_progress = FALSE;
#line 174 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (self->priv->internal_drag_source_entry);
#line 174 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->internal_drag_source_entry = NULL;
#line 1100 "Tree.c"
}


static gboolean sidebar_tree_on_drag_motion (SidebarTree* self, GdkDragContext* context, gint x, gint y, guint time_) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
#line 177 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 177 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (GDK_IS_DRAG_CONTEXT (context), FALSE);
#line 178 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = self->priv->is_internal_drag_in_progress;
#line 178 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp1_) {
#line 1116 "Tree.c"
		SidebarEntry* _tmp2_ = NULL;
#line 178 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp2_ = self->priv->internal_drag_source_entry;
#line 178 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp0_ = _tmp2_ == NULL;
#line 1122 "Tree.c"
	} else {
#line 178 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp0_ = FALSE;
#line 1126 "Tree.c"
	}
#line 178 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp0_) {
#line 1130 "Tree.c"
		GtkTreePath* path = NULL;
		GtkTreeViewDropPosition position = 0;
		gint _tmp3_ = 0;
		gint _tmp4_ = 0;
		GtkTreePath* _tmp5_ = NULL;
		GtkTreeViewDropPosition _tmp6_ = 0;
		GtkTreePath* _tmp7_ = NULL;
#line 181 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp3_ = x;
#line 181 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = y;
#line 181 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_tree_view_get_dest_row_at_pos (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp3_, _tmp4_, &_tmp5_, &_tmp6_);
#line 181 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_gtk_tree_path_free0 (path);
#line 181 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		path = _tmp5_;
#line 181 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		position = _tmp6_;
#line 183 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = path;
#line 183 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp7_ != NULL) {
#line 1154 "Tree.c"
			SidebarTreeEntryWrapper* wrapper = NULL;
			GtkTreePath* _tmp8_ = NULL;
			SidebarTreeEntryWrapper* _tmp9_ = NULL;
			SidebarTreeEntryWrapper* _tmp10_ = NULL;
#line 184 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp8_ = path;
#line 184 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp9_ = sidebar_tree_get_wrapper_at_path (self, _tmp8_);
#line 184 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			wrapper = _tmp9_;
#line 185 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp10_ = wrapper;
#line 185 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			if (_tmp10_ != NULL) {
#line 1169 "Tree.c"
				SidebarTreeEntryWrapper* _tmp11_ = NULL;
				SidebarEntry* _tmp12_ = NULL;
				SidebarEntry* _tmp13_ = NULL;
#line 186 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp11_ = wrapper;
#line 186 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp12_ = _tmp11_->entry;
#line 186 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp13_ = _g_object_ref0 (_tmp12_);
#line 186 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_g_object_unref0 (self->priv->internal_drag_source_entry);
#line 186 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				self->priv->internal_drag_source_entry = _tmp13_;
#line 1183 "Tree.c"
			}
#line 183 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (wrapper);
#line 1187 "Tree.c"
		}
#line 178 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_gtk_tree_path_free0 (path);
#line 1191 "Tree.c"
	}
#line 190 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = FALSE;
#line 190 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 1197 "Tree.c"
}


static void sidebar_tree_setup_default_context_menu (SidebarTree* self) {
	GError * _inner_error_ = NULL;
#line 198 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 1205 "Tree.c"
	{
		GtkBuilder* _tmp0_ = NULL;
		GMenuModel* model = NULL;
		GtkBuilder* _tmp1_ = NULL;
		GObject* _tmp2_ = NULL;
		GMenuModel* _tmp3_ = NULL;
		GMenuModel* _tmp4_ = NULL;
		GtkMenu* _tmp5_ = NULL;
		GSimpleActionGroup* group = NULL;
		GSimpleActionGroup* _tmp6_ = NULL;
		GSimpleActionGroup* _tmp7_ = NULL;
		GSimpleActionGroup* _tmp8_ = NULL;
		GtkMenu* _tmp9_ = NULL;
#line 200 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp0_ = self->priv->builder;
#line 200 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_builder_add_from_resource (_tmp0_, "/org/gnome/Shotwell/sidebar_default_context.ui", &_inner_error_);
#line 200 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1225 "Tree.c"
			goto __catch50_g_error;
		}
#line 202 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp1_ = self->priv->builder;
#line 202 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp2_ = gtk_builder_get_object (_tmp1_, "popup-menu");
#line 202 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp3_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, g_menu_model_get_type ()) ? ((GMenuModel*) _tmp2_) : NULL);
#line 202 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		model = _tmp3_;
#line 203 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = model;
#line 203 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = (GtkMenu*) gtk_menu_new_from_model (_tmp4_);
#line 203 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_object_ref_sink (_tmp5_);
#line 203 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (self->priv->default_context_menu);
#line 203 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		self->priv->default_context_menu = _tmp5_;
#line 204 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = g_simple_action_group_new ();
#line 204 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		group = _tmp6_;
#line 205 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = group;
#line 205 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_action_map_add_action_entries (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, g_action_map_get_type (), GActionMap), SIDEBAR_TREE_entries, G_N_ELEMENTS (SIDEBAR_TREE_entries), self);
#line 206 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = group;
#line 206 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_widget_insert_action_group (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_widget_get_type (), GtkWidget), "sidebar", G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, g_action_group_get_type (), GActionGroup));
#line 207 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = self->priv->default_context_menu;
#line 207 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_menu_attach_to_widget (_tmp9_, G_TYPE_CHECK_INSTANCE_CAST (self, gtk_widget_get_type (), GtkWidget), NULL);
#line 199 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (group);
#line 199 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (model);
#line 1266 "Tree.c"
	}
	goto __finally50;
	__catch50_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp10_ = NULL;
		const gchar* _tmp11_ = NULL;
		gchar* _tmp12_ = NULL;
		gchar* _tmp13_ = NULL;
		Application* _tmp14_ = NULL;
		Application* _tmp15_ = NULL;
#line 199 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_error_ = _inner_error_;
#line 199 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_inner_error_ = NULL;
#line 209 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = _error_;
#line 209 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = _tmp10_->message;
#line 209 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp12_ = g_strdup_printf ("Error loading UI resource: %s", _tmp11_);
#line 209 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp13_ = _tmp12_;
#line 209 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		app_window_error_message (_tmp13_, NULL);
#line 209 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_free0 (_tmp13_);
#line 211 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp14_ = application_get_instance ();
#line 211 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp15_ = _tmp14_;
#line 211 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		application_panic (_tmp15_);
#line 211 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_application_unref0 (_tmp15_);
#line 199 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_error_free0 (_error_);
#line 1304 "Tree.c"
	}
	__finally50:
#line 199 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 199 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 199 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_clear_error (&_inner_error_);
#line 199 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return;
#line 1315 "Tree.c"
	}
}


static gboolean sidebar_tree_has_wrapper (SidebarTree* self, SidebarEntry* entry) {
	gboolean result = FALSE;
	GeeHashMap* _tmp0_ = NULL;
	SidebarEntry* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
#line 215 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 215 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), FALSE);
#line 216 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->priv->entry_map;
#line 216 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = entry;
#line 216 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = gee_abstract_map_has_key (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp1_);
#line 216 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = _tmp2_;
#line 216 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 1339 "Tree.c"
}


static SidebarTreeEntryWrapper* sidebar_tree_get_wrapper (SidebarTree* self, SidebarEntry* entry) {
	SidebarTreeEntryWrapper* result = NULL;
	SidebarTreeEntryWrapper* wrapper = NULL;
	GeeHashMap* _tmp0_ = NULL;
	SidebarEntry* _tmp1_ = NULL;
	gpointer _tmp2_ = NULL;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
#line 219 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), NULL);
#line 219 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), NULL);
#line 220 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->priv->entry_map;
#line 220 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = entry;
#line 220 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp1_);
#line 220 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = (SidebarTreeEntryWrapper*) _tmp2_;
#line 221 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = wrapper;
#line 221 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp3_ == NULL) {
#line 1366 "Tree.c"
		SidebarEntry* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
		gchar* _tmp6_ = NULL;
#line 222 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = entry;
#line 222 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = sidebar_entry_to_string (_tmp4_);
#line 222 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = _tmp5_;
#line 222 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_warning ("Tree.vala:222: Entry %s not found in sidebar", _tmp6_);
#line 222 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_free0 (_tmp6_);
#line 1380 "Tree.c"
	}
#line 224 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = wrapper;
#line 224 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 1386 "Tree.c"
}


static SidebarTreeEntryWrapper* sidebar_tree_get_wrapper_at_iter (SidebarTree* self, GtkTreeIter* iter) {
	SidebarTreeEntryWrapper* result = NULL;
	GValue val = {0};
	GtkTreeStore* _tmp0_ = NULL;
	GtkTreeIter _tmp1_ = {0};
	GValue _tmp2_ = {0};
	SidebarTreeEntryWrapper* wrapper = NULL;
	GValue _tmp3_ = {0};
	SidebarTreeEntryWrapper* _tmp4_ = NULL;
	SidebarTreeEntryWrapper* _tmp5_ = NULL;
#line 227 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), NULL);
#line 227 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (iter != NULL, NULL);
#line 229 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->priv->store;
#line 229 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = *iter;
#line 229 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_model_get_value (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &_tmp1_, (gint) SIDEBAR_TREE_COLUMNS_WRAPPER, &_tmp2_);
#line 229 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	G_IS_VALUE (&val) ? (g_value_unset (&val), NULL) : NULL;
#line 229 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	val = _tmp2_;
#line 231 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = val;
#line 231 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = _g_object_ref0 (g_value_get_object (&_tmp3_));
#line 231 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp4_;
#line 232 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = wrapper;
#line 232 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp5_ == NULL) {
#line 1424 "Tree.c"
		GtkTreeStore* _tmp6_ = NULL;
		GtkTreeIter _tmp7_ = {0};
		GtkTreePath* _tmp8_ = NULL;
		GtkTreePath* _tmp9_ = NULL;
		gchar* _tmp10_ = NULL;
		gchar* _tmp11_ = NULL;
#line 233 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = self->priv->store;
#line 233 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = *iter;
#line 233 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = gtk_tree_model_get_path (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &_tmp7_);
#line 233 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = _tmp8_;
#line 233 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = gtk_tree_path_to_string (_tmp9_);
#line 233 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = _tmp10_;
#line 233 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_message ("Tree.vala:233: No entry found in sidebar at %s", _tmp11_);
#line 233 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_free0 (_tmp11_);
#line 233 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_gtk_tree_path_free0 (_tmp9_);
#line 1449 "Tree.c"
	}
#line 235 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = wrapper;
#line 235 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	G_IS_VALUE (&val) ? (g_value_unset (&val), NULL) : NULL;
#line 235 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 1457 "Tree.c"
}


static SidebarTreeEntryWrapper* sidebar_tree_get_wrapper_at_path (SidebarTree* self, GtkTreePath* path) {
	SidebarTreeEntryWrapper* result = NULL;
	GtkTreeIter iter = {0};
	GtkTreeStore* _tmp0_ = NULL;
	GtkTreePath* _tmp1_ = NULL;
	GtkTreeIter _tmp2_ = {0};
	gboolean _tmp3_ = FALSE;
	GtkTreeIter _tmp7_ = {0};
	SidebarTreeEntryWrapper* _tmp8_ = NULL;
#line 238 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), NULL);
#line 238 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (path != NULL, NULL);
#line 240 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->priv->store;
#line 240 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = path;
#line 240 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = gtk_tree_model_get_iter (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &_tmp2_, _tmp1_);
#line 240 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	iter = _tmp2_;
#line 240 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (!_tmp3_) {
#line 1484 "Tree.c"
		GtkTreePath* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
		gchar* _tmp6_ = NULL;
#line 241 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = path;
#line 241 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = gtk_tree_path_to_string (_tmp4_);
#line 241 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = _tmp5_;
#line 241 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_message ("Tree.vala:241: No entry found in sidebar at %s", _tmp6_);
#line 241 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_free0 (_tmp6_);
#line 243 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = NULL;
#line 243 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 1502 "Tree.c"
	}
#line 246 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = iter;
#line 246 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = sidebar_tree_get_wrapper_at_iter (self, &_tmp7_);
#line 246 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = _tmp8_;
#line 246 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 1512 "Tree.c"
}


gboolean sidebar_tree_place_cursor (SidebarTree* self, SidebarEntry* entry, gboolean mask_signal) {
	gboolean result = FALSE;
	SidebarEntry* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	SidebarTreeEntryWrapper* wrapper = NULL;
	SidebarEntry* _tmp2_ = NULL;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
	SidebarTreeEntryWrapper* _tmp4_ = NULL;
	GtkTreeSelection* _tmp5_ = NULL;
	SidebarTreeEntryWrapper* _tmp6_ = NULL;
	GtkTreePath* _tmp7_ = NULL;
	GtkTreePath* _tmp8_ = NULL;
	gboolean _tmp9_ = FALSE;
	SidebarTreeEntryWrapper* _tmp10_ = NULL;
	GtkTreePath* _tmp11_ = NULL;
	GtkTreePath* _tmp12_ = NULL;
	SidebarEntry* _tmp13_ = NULL;
	gboolean _tmp14_ = FALSE;
#line 251 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 251 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), FALSE);
#line 252 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 252 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_expand_to_entry (self, _tmp0_);
#line 252 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (!_tmp1_) {
#line 253 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 253 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 1548 "Tree.c"
	}
#line 255 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = entry;
#line 255 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = sidebar_tree_get_wrapper (self, _tmp2_);
#line 255 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp3_;
#line 256 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = wrapper;
#line 256 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp4_ == NULL) {
#line 257 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 257 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 257 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 1566 "Tree.c"
	}
#line 259 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = gtk_tree_view_get_selection (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView));
#line 259 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = wrapper;
#line 259 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = sidebar_tree_entry_wrapper_get_path (_tmp6_);
#line 259 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = _tmp7_;
#line 259 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_selection_select_path (_tmp5_, _tmp8_);
#line 259 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (_tmp8_);
#line 261 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp9_ = mask_signal;
#line 261 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->mask_entry_selected_signal = _tmp9_;
#line 262 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp10_ = wrapper;
#line 262 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp11_ = sidebar_tree_entry_wrapper_get_path (_tmp10_);
#line 262 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp12_ = _tmp11_;
#line 262 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_set_cursor (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp12_, NULL, FALSE);
#line 262 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (_tmp12_);
#line 263 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->mask_entry_selected_signal = FALSE;
#line 265 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp13_ = entry;
#line 265 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp14_ = sidebar_tree_scroll_to_entry (self, _tmp13_);
#line 265 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = _tmp14_;
#line 265 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 265 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 1606 "Tree.c"
}


gboolean sidebar_tree_is_selected (SidebarTree* self, SidebarEntry* entry) {
	gboolean result = FALSE;
	SidebarTreeEntryWrapper* wrapper = NULL;
	SidebarEntry* _tmp0_ = NULL;
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	GtkTreeSelection* selection = NULL;
	GtkTreeSelection* _tmp2_ = NULL;
	GtkTreeSelection* _tmp3_ = NULL;
	GtkTreeSelection* _tmp4_ = NULL;
	gboolean _tmp5_ = FALSE;
	SidebarTreeEntryWrapper* _tmp6_ = NULL;
#line 268 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 268 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), FALSE);
#line 269 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 269 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper (self, _tmp0_);
#line 269 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 273 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = gtk_tree_view_get_selection (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView));
#line 273 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = _g_object_ref0 (_tmp2_);
#line 273 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	selection = _tmp3_;
#line 274 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = selection;
#line 274 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp4_ == NULL) {
#line 275 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 275 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (selection);
#line 275 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 275 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 1649 "Tree.c"
	}
#line 277 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = wrapper;
#line 277 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp6_ != NULL) {
#line 1655 "Tree.c"
		GtkTreeSelection* _tmp7_ = NULL;
		SidebarTreeEntryWrapper* _tmp8_ = NULL;
		GtkTreePath* _tmp9_ = NULL;
		GtkTreePath* _tmp10_ = NULL;
		gboolean _tmp11_ = FALSE;
#line 277 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = selection;
#line 277 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = wrapper;
#line 277 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = sidebar_tree_entry_wrapper_get_path (_tmp8_);
#line 277 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = _tmp9_;
#line 277 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = gtk_tree_selection_path_is_selected (_tmp7_, _tmp10_);
#line 277 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = _tmp11_;
#line 277 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_gtk_tree_path_free0 (_tmp10_);
#line 1675 "Tree.c"
	} else {
#line 277 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = FALSE;
#line 1679 "Tree.c"
	}
#line 277 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = _tmp5_;
#line 277 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (selection);
#line 277 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 277 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 1689 "Tree.c"
}


gboolean sidebar_tree_is_any_selected (SidebarTree* self) {
	gboolean result = FALSE;
	GtkTreeSelection* _tmp0_ = NULL;
	gint _tmp1_ = 0;
#line 280 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 281 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = gtk_tree_view_get_selection (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView));
#line 281 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = gtk_tree_selection_count_selected_rows (_tmp0_);
#line 281 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = _tmp1_ != 0;
#line 281 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 1707 "Tree.c"
}


static gpointer _gtk_tree_path_copy0 (gpointer self) {
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return self ? gtk_tree_path_copy (self) : NULL;
#line 1714 "Tree.c"
}


static void _gtk_tree_path_free0_ (gpointer var) {
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	(var == NULL) ? NULL : (var = (gtk_tree_path_free (var), NULL));
#line 1721 "Tree.c"
}


static void _g_list_free__gtk_tree_path_free0_ (GList* self) {
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_list_foreach (self, (GFunc) _gtk_tree_path_free0_, NULL);
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_list_free (self);
#line 1730 "Tree.c"
}


static GtkTreePath* sidebar_tree_get_selected_path (SidebarTree* self) {
	GtkTreePath* result = NULL;
	GtkTreeModel* model = NULL;
	GtkTreeSelection* selection = NULL;
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_ = NULL;
	GtkTreeSelection* _tmp2_ = NULL;
	GList* rows = NULL;
	GtkTreeSelection* _tmp3_ = NULL;
	GtkTreeModel* _tmp4_ = NULL;
	GList* _tmp5_ = NULL;
	GtkTreeModel* _tmp6_ = NULL;
	gboolean _tmp7_ = FALSE;
	GList* _tmp8_ = NULL;
	guint _tmp9_ = 0U;
	GtkTreePath* _tmp12_ = NULL;
	GList* _tmp13_ = NULL;
	guint _tmp14_ = 0U;
	GtkTreePath* _tmp17_ = NULL;
#line 284 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), NULL);
#line 286 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = gtk_tree_view_get_selection (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView));
#line 286 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 286 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	selection = _tmp1_;
#line 287 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = selection;
#line 287 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp2_ == NULL) {
#line 288 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = NULL;
#line 288 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (selection);
#line 288 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (model);
#line 288 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 1773 "Tree.c"
	}
#line 290 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = selection;
#line 290 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = gtk_tree_selection_get_selected_rows (_tmp3_, &_tmp4_);
#line 290 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (model);
#line 290 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = _g_object_ref0 (_tmp4_);
#line 290 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	model = _tmp6_;
#line 290 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	rows = _tmp5_;
#line 291 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = rows;
#line 291 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp9_ = g_list_length (_tmp8_);
#line 291 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp9_ == ((guint) 0)) {
#line 291 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = TRUE;
#line 1795 "Tree.c"
	} else {
		GList* _tmp10_ = NULL;
		guint _tmp11_ = 0U;
#line 291 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = rows;
#line 291 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = g_list_length (_tmp10_);
#line 291 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = _tmp11_ == ((guint) 1);
#line 1805 "Tree.c"
	}
#line 291 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (_tmp7_, "rows.length() == 0 || rows.length() == 1");
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp13_ = rows;
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp14_ = g_list_length (_tmp13_);
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp14_ != ((guint) 0)) {
#line 1815 "Tree.c"
		GList* _tmp15_ = NULL;
		gconstpointer _tmp16_ = NULL;
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp15_ = rows;
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp16_ = g_list_nth_data (_tmp15_, (guint) 0);
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp12_ = (GtkTreePath*) _tmp16_;
#line 1824 "Tree.c"
	} else {
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp12_ = NULL;
#line 1828 "Tree.c"
	}
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp17_ = _gtk_tree_path_copy0 (_tmp12_);
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = _tmp17_;
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	__g_list_free__gtk_tree_path_free0_0 (rows);
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (selection);
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (model);
#line 293 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 1842 "Tree.c"
}


static gchar* sidebar_tree_get_name_for_entry (SidebarTree* self, SidebarEntry* entry) {
	gchar* result = NULL;
	gchar* name = NULL;
	SidebarEntry* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	SidebarEmphasizableEntry* emphasizable_entry = NULL;
	SidebarEntry* _tmp5_ = NULL;
	SidebarEmphasizableEntry* _tmp6_ = NULL;
	gboolean _tmp7_ = FALSE;
	SidebarEmphasizableEntry* _tmp8_ = NULL;
#line 296 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), NULL);
#line 296 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), NULL);
#line 297 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 297 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_entry_get_sidebar_name (_tmp0_);
#line 297 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = _tmp1_;
#line 297 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = guarded_markup_escape_text (_tmp2_);
#line 297 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = _tmp3_;
#line 297 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_free0 (_tmp2_);
#line 297 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	name = _tmp4_;
#line 299 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = entry;
#line 299 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp5_, SIDEBAR_TYPE_EMPHASIZABLE_ENTRY) ? ((SidebarEmphasizableEntry*) _tmp5_) : NULL);
#line 299 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	emphasizable_entry = _tmp6_;
#line 300 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = emphasizable_entry;
#line 300 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp8_ != NULL) {
#line 1887 "Tree.c"
		SidebarEmphasizableEntry* _tmp9_ = NULL;
		gboolean _tmp10_ = FALSE;
#line 300 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = emphasizable_entry;
#line 300 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = sidebar_emphasizable_entry_is_emphasized (_tmp9_);
#line 300 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = _tmp10_;
#line 1896 "Tree.c"
	} else {
#line 300 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = FALSE;
#line 1900 "Tree.c"
	}
#line 300 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp7_) {
#line 1904 "Tree.c"
		const gchar* _tmp11_ = NULL;
		gchar* _tmp12_ = NULL;
#line 301 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = name;
#line 301 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp12_ = g_strdup_printf ("<b>%s</b>", _tmp11_);
#line 301 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_free0 (name);
#line 301 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		name = _tmp12_;
#line 1915 "Tree.c"
	}
#line 303 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = name;
#line 303 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (emphasizable_entry);
#line 303 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 1923 "Tree.c"
}


static gboolean sidebar_tree_real_accept_cursor_changed (SidebarTree* self) {
	gboolean result = FALSE;
#line 307 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = TRUE;
#line 307 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 1933 "Tree.c"
}


gboolean sidebar_tree_accept_cursor_changed (SidebarTree* self) {
#line 306 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 306 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return SIDEBAR_TREE_GET_CLASS (self)->accept_cursor_changed (self);
#line 1942 "Tree.c"
}


static void sidebar_tree_real_cursor_changed (GtkTreeView* base) {
	SidebarTree * self;
	GtkTreePath* path = NULL;
	GtkTreePath* _tmp0_ = NULL;
	GtkTreePath* _tmp1_ = NULL;
	SidebarTreeEntryWrapper* wrapper = NULL;
	GtkTreePath* _tmp2_ = NULL;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
	SidebarTreeEntryWrapper* _tmp4_ = NULL;
	SidebarTreeEntryWrapper* _tmp5_ = NULL;
#line 310 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, SIDEBAR_TYPE_TREE, SidebarTree);
#line 311 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = sidebar_tree_get_selected_path (self);
#line 311 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	path = _tmp0_;
#line 312 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = path;
#line 312 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp1_ == NULL) {
#line 313 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (GTK_TREE_VIEW_CLASS (sidebar_tree_parent_class)->cursor_changed != NULL) {
#line 314 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			GTK_TREE_VIEW_CLASS (sidebar_tree_parent_class)->cursor_changed (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView));
#line 1970 "Tree.c"
		}
#line 315 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_gtk_tree_path_free0 (path);
#line 315 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return;
#line 1976 "Tree.c"
	}
#line 318 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = path;
#line 318 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = sidebar_tree_get_wrapper_at_path (self, _tmp2_);
#line 318 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp3_;
#line 320 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = self->priv->selected_wrapper;
#line 320 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = wrapper;
#line 320 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp4_ != _tmp5_) {
#line 1990 "Tree.c"
		SidebarTreeEntryWrapper* old_wrapper = NULL;
		SidebarTreeEntryWrapper* _tmp6_ = NULL;
		SidebarTreeEntryWrapper* _tmp7_ = NULL;
		SidebarTreeEntryWrapper* _tmp8_ = NULL;
		gboolean _tmp9_ = FALSE;
		gboolean _tmp10_ = FALSE;
		gint _tmp11_ = 0;
		gboolean _tmp19_ = FALSE;
		SidebarTreeEntryWrapper* _tmp20_ = NULL;
#line 321 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = self->priv->selected_wrapper;
#line 321 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = _g_object_ref0 (_tmp6_);
#line 321 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		old_wrapper = _tmp7_;
#line 322 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = wrapper;
#line 322 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		self->priv->selected_wrapper = _tmp8_;
#line 324 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = self->priv->editing_disabled;
#line 324 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp11_ == 0) {
#line 2014 "Tree.c"
			SidebarTreeEntryWrapper* _tmp12_ = NULL;
#line 324 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp12_ = wrapper;
#line 324 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp10_ = _tmp12_ != NULL;
#line 2020 "Tree.c"
		} else {
#line 324 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp10_ = FALSE;
#line 2024 "Tree.c"
		}
#line 324 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp10_) {
#line 2028 "Tree.c"
			SidebarTreeEntryWrapper* _tmp13_ = NULL;
			SidebarEntry* _tmp14_ = NULL;
#line 324 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp13_ = wrapper;
#line 324 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp14_ = _tmp13_->entry;
#line 324 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp9_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp14_, SIDEBAR_TYPE_RENAMEABLE_ENTRY);
#line 2037 "Tree.c"
		} else {
#line 324 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp9_ = FALSE;
#line 2041 "Tree.c"
		}
#line 324 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp9_) {
#line 2045 "Tree.c"
			GtkCellRendererText* _tmp15_ = NULL;
			SidebarTreeEntryWrapper* _tmp16_ = NULL;
			SidebarEntry* _tmp17_ = NULL;
			gboolean _tmp18_ = FALSE;
#line 325 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp15_ = self->priv->text_renderer;
#line 325 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp16_ = wrapper;
#line 325 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp17_ = _tmp16_->entry;
#line 325 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp18_ = sidebar_renameable_entry_is_user_renameable (G_TYPE_CHECK_INSTANCE_CAST (_tmp17_, SIDEBAR_TYPE_RENAMEABLE_ENTRY, SidebarRenameableEntry));
#line 325 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			g_object_set (_tmp15_, "editable", _tmp18_, NULL);
#line 2060 "Tree.c"
		}
#line 327 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp20_ = wrapper;
#line 327 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp20_ != NULL) {
#line 2066 "Tree.c"
			gboolean _tmp21_ = FALSE;
#line 327 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp21_ = self->priv->mask_entry_selected_signal;
#line 327 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp19_ = !_tmp21_;
#line 2072 "Tree.c"
		} else {
#line 327 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp19_ = FALSE;
#line 2076 "Tree.c"
		}
#line 327 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp19_) {
#line 2080 "Tree.c"
			SidebarSelectableEntry* selectable = NULL;
			SidebarTreeEntryWrapper* _tmp22_ = NULL;
			SidebarEntry* _tmp23_ = NULL;
			SidebarSelectableEntry* _tmp24_ = NULL;
			SidebarSelectableEntry* _tmp25_ = NULL;
#line 328 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp22_ = wrapper;
#line 328 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp23_ = _tmp22_->entry;
#line 328 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp24_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp23_, SIDEBAR_TYPE_SELECTABLE_ENTRY) ? ((SidebarSelectableEntry*) _tmp23_) : NULL);
#line 328 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			selectable = _tmp24_;
#line 329 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp25_ = selectable;
#line 329 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			if (_tmp25_ != NULL) {
#line 2098 "Tree.c"
				gboolean _tmp26_ = FALSE;
#line 330 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp26_ = sidebar_tree_accept_cursor_changed (self);
#line 330 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				if (_tmp26_) {
#line 2104 "Tree.c"
					SidebarSelectableEntry* _tmp27_ = NULL;
#line 331 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
					_tmp27_ = selectable;
#line 331 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
					g_signal_emit_by_name (self, "entry-selected", _tmp27_);
#line 2110 "Tree.c"
				} else {
					SidebarTreeEntryWrapper* _tmp28_ = NULL;
					SidebarEntry* _tmp29_ = NULL;
#line 333 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
					_tmp28_ = old_wrapper;
#line 333 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
					_tmp29_ = _tmp28_->entry;
#line 333 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
					sidebar_tree_place_cursor (self, _tmp29_, TRUE);
#line 2120 "Tree.c"
				}
			}
#line 327 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (selectable);
#line 2125 "Tree.c"
		}
#line 320 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (old_wrapper);
#line 2129 "Tree.c"
	}
#line 339 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (GTK_TREE_VIEW_CLASS (sidebar_tree_parent_class)->cursor_changed != NULL) {
#line 340 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		GTK_TREE_VIEW_CLASS (sidebar_tree_parent_class)->cursor_changed (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView));
#line 2135 "Tree.c"
	}
#line 310 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 310 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (path);
#line 2141 "Tree.c"
}


void sidebar_tree_disable_editing (SidebarTree* self) {
	gint _tmp0_ = 0;
#line 343 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 344 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->priv->editing_disabled;
#line 344 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->editing_disabled = _tmp0_ + 1;
#line 344 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp0_ == 0) {
#line 2155 "Tree.c"
		GtkCellRendererText* _tmp1_ = NULL;
#line 345 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp1_ = self->priv->text_renderer;
#line 345 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_object_set (_tmp1_, "editable", FALSE, NULL);
#line 2161 "Tree.c"
	}
}


void sidebar_tree_enable_editing (SidebarTree* self) {
	GtkTreePath* path = NULL;
	GtkTreePath* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	GtkTreePath* _tmp3_ = NULL;
#line 348 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 349 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = sidebar_tree_get_selected_path (self);
#line 349 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	path = _tmp0_;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = path;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp3_ != NULL) {
#line 2182 "Tree.c"
		gint _tmp4_ = 0;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = self->priv->editing_disabled;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp2_ = _tmp4_ > 0;
#line 2188 "Tree.c"
	} else {
#line 350 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp2_ = FALSE;
#line 2192 "Tree.c"
	}
#line 350 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp2_) {
#line 2196 "Tree.c"
		gint _tmp5_ = 0;
		gint _tmp6_ = 0;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = self->priv->editing_disabled;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		self->priv->editing_disabled = _tmp5_ - 1;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = self->priv->editing_disabled;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp1_ = _tmp6_ == 0;
#line 2207 "Tree.c"
	} else {
#line 350 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp1_ = FALSE;
#line 2211 "Tree.c"
	}
#line 350 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp1_) {
#line 2215 "Tree.c"
		SidebarTreeEntryWrapper* wrapper = NULL;
		GtkTreePath* _tmp7_ = NULL;
		SidebarTreeEntryWrapper* _tmp8_ = NULL;
		gboolean _tmp9_ = FALSE;
		SidebarTreeEntryWrapper* _tmp10_ = NULL;
#line 351 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = path;
#line 351 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = sidebar_tree_get_wrapper_at_path (self, _tmp7_);
#line 351 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		wrapper = _tmp8_;
#line 352 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = wrapper;
#line 352 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp10_ != NULL) {
#line 2231 "Tree.c"
			SidebarTreeEntryWrapper* _tmp11_ = NULL;
			SidebarEntry* _tmp12_ = NULL;
#line 352 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp11_ = wrapper;
#line 352 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp12_ = _tmp11_->entry;
#line 352 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp9_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp12_, SIDEBAR_TYPE_RENAMEABLE_ENTRY);
#line 2240 "Tree.c"
		} else {
#line 352 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp9_ = FALSE;
#line 2244 "Tree.c"
		}
#line 352 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp9_) {
#line 2248 "Tree.c"
			GtkCellRendererText* _tmp13_ = NULL;
			SidebarTreeEntryWrapper* _tmp14_ = NULL;
			SidebarEntry* _tmp15_ = NULL;
			gboolean _tmp16_ = FALSE;
#line 353 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp13_ = self->priv->text_renderer;
#line 353 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp14_ = wrapper;
#line 353 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp15_ = _tmp14_->entry;
#line 353 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp16_ = sidebar_renameable_entry_is_user_renameable (G_TYPE_CHECK_INSTANCE_CAST (_tmp15_, SIDEBAR_TYPE_RENAMEABLE_ENTRY, SidebarRenameableEntry));
#line 353 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			g_object_set (_tmp13_, "editable", _tmp16_, NULL);
#line 2263 "Tree.c"
		}
#line 350 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 2267 "Tree.c"
	}
#line 348 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (path);
#line 2271 "Tree.c"
}


void sidebar_tree_toggle_branch_expansion (SidebarTree* self, GtkTreePath* path, gboolean expand_all) {
	GtkTreePath* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
#line 358 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 358 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (path != NULL);
#line 359 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->expander_called_manually = TRUE;
#line 360 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = path;
#line 360 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = gtk_tree_view_row_expanded (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp0_);
#line 360 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp1_) {
#line 2290 "Tree.c"
		GtkTreePath* _tmp2_ = NULL;
#line 361 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp2_ = path;
#line 361 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_tree_view_collapse_row (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp2_);
#line 2296 "Tree.c"
	} else {
		GtkTreePath* _tmp3_ = NULL;
		gboolean _tmp4_ = FALSE;
#line 363 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp3_ = path;
#line 363 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = expand_all;
#line 363 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_tree_view_expand_row (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp3_, _tmp4_);
#line 2306 "Tree.c"
	}
}


gboolean sidebar_tree_expand_to_entry (SidebarTree* self, SidebarEntry* entry) {
	gboolean result = FALSE;
	SidebarTreeEntryWrapper* wrapper = NULL;
	SidebarEntry* _tmp0_ = NULL;
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	SidebarTreeEntryWrapper* _tmp2_ = NULL;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
	GtkTreePath* _tmp4_ = NULL;
	GtkTreePath* _tmp5_ = NULL;
#line 366 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 366 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), FALSE);
#line 367 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->expander_called_manually = TRUE;
#line 368 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 368 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper (self, _tmp0_);
#line 368 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 369 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = wrapper;
#line 369 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp2_ == NULL) {
#line 370 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 370 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 370 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 2342 "Tree.c"
	}
#line 372 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = wrapper;
#line 372 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = sidebar_tree_entry_wrapper_get_path (_tmp3_);
#line 372 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = _tmp4_;
#line 372 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_expand_to_path (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp5_);
#line 372 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (_tmp5_);
#line 374 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = TRUE;
#line 374 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 374 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 2360 "Tree.c"
}


void sidebar_tree_expand_to_first_child (SidebarTree* self, SidebarEntry* entry) {
	SidebarTreeEntryWrapper* wrapper = NULL;
	SidebarEntry* _tmp0_ = NULL;
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	SidebarTreeEntryWrapper* _tmp2_ = NULL;
	GtkTreePath* path = NULL;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
	GtkTreePath* _tmp4_ = NULL;
	GtkTreeIter iter = {0};
	GtkTreePath* _tmp13_ = NULL;
#line 377 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 377 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 378 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->expander_called_manually = TRUE;
#line 379 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 379 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper (self, _tmp0_);
#line 379 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 380 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = wrapper;
#line 380 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp2_ == NULL) {
#line 381 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 381 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return;
#line 2394 "Tree.c"
	}
#line 383 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = wrapper;
#line 383 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = sidebar_tree_entry_wrapper_get_path (_tmp3_);
#line 383 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	path = _tmp4_;
#line 386 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	while (TRUE) {
#line 2404 "Tree.c"
		GtkTreeStore* _tmp5_ = NULL;
		GtkTreePath* _tmp6_ = NULL;
		GtkTreeIter _tmp7_ = {0};
		gboolean _tmp8_ = FALSE;
		GtkTreeStore* _tmp9_ = NULL;
		GtkTreeIter _tmp10_ = {0};
		gboolean _tmp11_ = FALSE;
		GtkTreePath* _tmp12_ = NULL;
#line 386 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = self->priv->store;
#line 386 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = path;
#line 386 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = gtk_tree_model_get_iter (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &_tmp7_, _tmp6_);
#line 386 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		iter = _tmp7_;
#line 386 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (!_tmp8_) {
#line 386 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			break;
#line 2425 "Tree.c"
		}
#line 387 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = self->priv->store;
#line 387 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = iter;
#line 387 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = gtk_tree_model_iter_has_child (G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &_tmp10_);
#line 387 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (!_tmp11_) {
#line 388 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			break;
#line 2437 "Tree.c"
		}
#line 390 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp12_ = path;
#line 390 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_tree_path_down (_tmp12_);
#line 2443 "Tree.c"
	}
#line 393 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp13_ = path;
#line 393 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_expand_to_path (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp13_);
#line 377 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (path);
#line 377 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 2453 "Tree.c"
}


static void _sidebar_tree_on_branch_entry_added_sidebar_branch_entry_added (SidebarBranch* _sender, SidebarEntry* entry, gpointer self) {
#line 411 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_branch_entry_added ((SidebarTree*) self, _sender, entry);
#line 2460 "Tree.c"
}


static void _sidebar_tree_on_branch_entry_removed_sidebar_branch_entry_removed (SidebarBranch* _sender, SidebarEntry* entry, gpointer self) {
#line 412 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_branch_entry_removed ((SidebarTree*) self, _sender, entry);
#line 2467 "Tree.c"
}


static void _sidebar_tree_on_branch_entry_moved_sidebar_branch_entry_moved (SidebarBranch* _sender, SidebarEntry* entry, gpointer self) {
#line 413 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_branch_entry_moved ((SidebarTree*) self, _sender, entry);
#line 2474 "Tree.c"
}


static void _sidebar_tree_on_branch_entry_reparented_sidebar_branch_entry_reparented (SidebarBranch* _sender, SidebarEntry* entry, SidebarEntry* old_parent, gpointer self) {
#line 414 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_branch_entry_reparented ((SidebarTree*) self, _sender, entry, old_parent);
#line 2481 "Tree.c"
}


static void _sidebar_tree_on_branch_children_reordered_sidebar_branch_children_reordered (SidebarBranch* _sender, SidebarEntry* entry, gpointer self) {
#line 415 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_branch_children_reordered ((SidebarTree*) self, _sender, entry);
#line 2488 "Tree.c"
}


static void _sidebar_tree_on_show_branch_sidebar_branch_show_branch (SidebarBranch* _sender, gboolean show, gpointer self) {
#line 416 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_show_branch ((SidebarTree*) self, _sender, show);
#line 2495 "Tree.c"
}


void sidebar_tree_graft (SidebarTree* self, SidebarBranch* branch, gint position) {
	gint _tmp0_ = 0;
	GeeHashMap* _tmp1_ = NULL;
	SidebarBranch* _tmp2_ = NULL;
	gboolean _tmp3_ = FALSE;
	GeeHashMap* _tmp4_ = NULL;
	SidebarBranch* _tmp5_ = NULL;
	gint _tmp6_ = 0;
	SidebarBranch* _tmp7_ = NULL;
	gboolean _tmp8_ = FALSE;
	SidebarBranch* _tmp20_ = NULL;
	SidebarBranch* _tmp21_ = NULL;
	SidebarBranch* _tmp22_ = NULL;
	SidebarBranch* _tmp23_ = NULL;
	SidebarBranch* _tmp24_ = NULL;
	SidebarBranch* _tmp25_ = NULL;
	SidebarBranch* _tmp26_ = NULL;
#line 396 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 396 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (branch));
#line 396 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = position;
#line 396 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_return_if_fail (_tmp0_ >= 0, "position >= 0");
#line 397 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = self->priv->branches;
#line 397 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = branch;
#line 397 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = gee_abstract_map_has_key (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp2_);
#line 397 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (!_tmp3_, "!branches.has_key(branch)");
#line 399 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = self->priv->branches;
#line 399 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = branch;
#line 399 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = position;
#line 399 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gee_abstract_map_set (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp5_, (gpointer) ((gintptr) _tmp6_));
#line 401 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = branch;
#line 401 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = sidebar_branch_get_show_branch (_tmp7_);
#line 401 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp8_) {
#line 2546 "Tree.c"
		SidebarBranch* _tmp9_ = NULL;
		SidebarBranch* _tmp10_ = NULL;
		gboolean _tmp11_ = FALSE;
		SidebarBranch* _tmp15_ = NULL;
		gboolean _tmp16_ = FALSE;
#line 402 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = branch;
#line 402 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		sidebar_tree_associate_branch (self, _tmp9_);
#line 404 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = branch;
#line 404 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = sidebar_branch_is_startup_expand_to_first_child (_tmp10_);
#line 404 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp11_) {
#line 2562 "Tree.c"
			SidebarBranch* _tmp12_ = NULL;
			SidebarEntry* _tmp13_ = NULL;
			SidebarEntry* _tmp14_ = NULL;
#line 405 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp12_ = branch;
#line 405 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp13_ = sidebar_branch_get_root (_tmp12_);
#line 405 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp14_ = _tmp13_;
#line 405 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			sidebar_tree_expand_to_first_child (self, _tmp14_);
#line 405 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (_tmp14_);
#line 2576 "Tree.c"
		}
#line 407 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp15_ = branch;
#line 407 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp16_ = sidebar_branch_is_startup_open_grouping (_tmp15_);
#line 407 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp16_) {
#line 2584 "Tree.c"
			SidebarBranch* _tmp17_ = NULL;
			SidebarEntry* _tmp18_ = NULL;
			SidebarEntry* _tmp19_ = NULL;
#line 408 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp17_ = branch;
#line 408 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp18_ = sidebar_branch_get_root (_tmp17_);
#line 408 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp19_ = _tmp18_;
#line 408 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			sidebar_tree_expand_to_entry (self, _tmp19_);
#line 408 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (_tmp19_);
#line 2598 "Tree.c"
		}
	}
#line 411 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp20_ = branch;
#line 411 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (_tmp20_, "entry-added", (GCallback) _sidebar_tree_on_branch_entry_added_sidebar_branch_entry_added, self, 0);
#line 412 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp21_ = branch;
#line 412 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (_tmp21_, "entry-removed", (GCallback) _sidebar_tree_on_branch_entry_removed_sidebar_branch_entry_removed, self, 0);
#line 413 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp22_ = branch;
#line 413 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (_tmp22_, "entry-moved", (GCallback) _sidebar_tree_on_branch_entry_moved_sidebar_branch_entry_moved, self, 0);
#line 414 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp23_ = branch;
#line 414 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (_tmp23_, "entry-reparented", (GCallback) _sidebar_tree_on_branch_entry_reparented_sidebar_branch_entry_reparented, self, 0);
#line 415 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp24_ = branch;
#line 415 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (_tmp24_, "children-reordered", (GCallback) _sidebar_tree_on_branch_children_reordered_sidebar_branch_children_reordered, self, 0);
#line 416 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp25_ = branch;
#line 416 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (_tmp25_, "show-branch", (GCallback) _sidebar_tree_on_show_branch_sidebar_branch_show_branch, self, 0);
#line 418 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp26_ = branch;
#line 418 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_emit_by_name (self, "branch-added", _tmp26_);
#line 2629 "Tree.c"
}


static GtkTreeIter* _gtk_tree_iter_dup (GtkTreeIter* self) {
	GtkTreeIter* dup;
#line 437 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	dup = g_new0 (GtkTreeIter, 1);
#line 437 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	memcpy (dup, self, sizeof (GtkTreeIter));
#line 437 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return dup;
#line 2641 "Tree.c"
}


static gpointer __gtk_tree_iter_dup0 (gpointer self) {
#line 437 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return self ? _gtk_tree_iter_dup (self) : NULL;
#line 2648 "Tree.c"
}


static void sidebar_tree_associate_branch (SidebarTree* self, SidebarBranch* branch) {
	GeeHashMap* _tmp0_ = NULL;
	SidebarBranch* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	gint position = 0;
	GeeHashMap* _tmp3_ = NULL;
	SidebarBranch* _tmp4_ = NULL;
	gpointer _tmp5_ = NULL;
	GtkTreeIter* insertion_iter = NULL;
	GtkTreeIter iter = {0};
	gboolean found = FALSE;
	GtkTreeStore* _tmp6_ = NULL;
	GtkTreeIter _tmp7_ = {0};
	gboolean _tmp8_ = FALSE;
	GtkTreeIter* _tmp24_ = NULL;
	GtkTreeIter* _tmp29_ = NULL;
	GtkTreeStore* _tmp30_ = NULL;
	SidebarBranch* _tmp31_ = NULL;
	SidebarEntry* _tmp32_ = NULL;
	SidebarEntry* _tmp33_ = NULL;
	GtkTreeStore* _tmp34_ = NULL;
	GtkTreeIter* _tmp35_ = NULL;
	GtkTreeIter _tmp36_ = {0};
	GtkTreePath* _tmp37_ = NULL;
	GtkTreePath* _tmp38_ = NULL;
	gint _tmp39_ = 0;
	SidebarTreeRootWrapper* _tmp40_ = NULL;
	SidebarTreeRootWrapper* _tmp41_ = NULL;
	GtkTreeIter _tmp42_ = {0};
	SidebarBranch* _tmp43_ = NULL;
	SidebarBranch* _tmp44_ = NULL;
	SidebarEntry* _tmp45_ = NULL;
	SidebarEntry* _tmp46_ = NULL;
	GtkTreeIter* _tmp47_ = NULL;
	GtkTreeIter _tmp48_ = {0};
#line 422 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 422 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (branch));
#line 423 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->priv->branches;
#line 423 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = branch;
#line 423 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = gee_abstract_map_has_key (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp1_);
#line 423 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (_tmp2_, "branches.has_key(branch)");
#line 425 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = self->priv->branches;
#line 425 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = branch;
#line 425 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp4_);
#line 425 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	position = (gint) ((gintptr) _tmp5_);
#line 427 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	insertion_iter = NULL;
#line 431 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = self->priv->store;
#line 431 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = gtk_tree_model_get_iter_first (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &_tmp7_);
#line 431 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	iter = _tmp7_;
#line 431 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	found = _tmp8_;
#line 432 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	while (TRUE) {
#line 2719 "Tree.c"
		gboolean _tmp9_ = FALSE;
		SidebarTreeRootWrapper* root_wrapper = NULL;
		GtkTreeIter _tmp10_ = {0};
		SidebarTreeEntryWrapper* _tmp11_ = NULL;
		SidebarTreeRootWrapper* _tmp12_ = NULL;
		SidebarTreeRootWrapper* _tmp13_ = NULL;
		gint _tmp14_ = 0;
		SidebarTreeRootWrapper* _tmp15_ = NULL;
		gint _tmp16_ = 0;
		GtkTreeStore* _tmp22_ = NULL;
		gboolean _tmp23_ = FALSE;
#line 432 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = found;
#line 432 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (!_tmp9_) {
#line 432 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			break;
#line 2737 "Tree.c"
		}
#line 433 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = iter;
#line 433 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = sidebar_tree_get_wrapper_at_iter (self, &_tmp10_);
#line 433 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp12_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp11_, SIDEBAR_TREE_TYPE_ROOT_WRAPPER) ? ((SidebarTreeRootWrapper*) _tmp11_) : NULL;
#line 433 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp12_ == NULL) {
#line 433 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (_tmp11_);
#line 2749 "Tree.c"
		}
#line 433 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		root_wrapper = _tmp12_;
#line 434 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp13_ = root_wrapper;
#line 434 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_vala_assert (_tmp13_ != NULL, "root_wrapper != null");
#line 436 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp14_ = position;
#line 436 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp15_ = root_wrapper;
#line 436 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp16_ = _tmp15_->root_position;
#line 436 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp14_ < _tmp16_) {
#line 2765 "Tree.c"
			GtkTreeStore* _tmp17_ = NULL;
			GtkTreeIter _tmp18_ = {0};
			GtkTreeIter _tmp19_ = {0};
			GtkTreeIter _tmp20_ = {0};
			GtkTreeIter* _tmp21_ = NULL;
#line 437 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp17_ = self->priv->store;
#line 437 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp18_ = iter;
#line 437 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			gtk_tree_store_insert_before (_tmp17_, &_tmp19_, NULL, &_tmp18_);
#line 437 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_free0 (insertion_iter);
#line 437 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp20_ = _tmp19_;
#line 437 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp21_ = __gtk_tree_iter_dup0 (&_tmp20_);
#line 437 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			insertion_iter = _tmp21_;
#line 439 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (root_wrapper);
#line 439 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			break;
#line 2789 "Tree.c"
		}
#line 442 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp22_ = self->priv->store;
#line 442 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp23_ = gtk_tree_model_iter_next (G_TYPE_CHECK_INSTANCE_CAST (_tmp22_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &iter);
#line 442 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		found = _tmp23_;
#line 432 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (root_wrapper);
#line 2799 "Tree.c"
	}
#line 446 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp24_ = insertion_iter;
#line 446 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp24_ == NULL) {
#line 2805 "Tree.c"
		GtkTreeStore* _tmp25_ = NULL;
		GtkTreeIter _tmp26_ = {0};
		GtkTreeIter _tmp27_ = {0};
		GtkTreeIter* _tmp28_ = NULL;
#line 447 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp25_ = self->priv->store;
#line 447 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_tree_store_append (_tmp25_, &_tmp26_, NULL);
#line 447 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_free0 (insertion_iter);
#line 447 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp27_ = _tmp26_;
#line 447 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp28_ = __gtk_tree_iter_dup0 (&_tmp27_);
#line 447 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		insertion_iter = _tmp28_;
#line 2822 "Tree.c"
	}
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp29_ = insertion_iter;
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp30_ = self->priv->store;
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp31_ = branch;
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp32_ = sidebar_branch_get_root (_tmp31_);
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp33_ = _tmp32_;
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp34_ = self->priv->store;
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp35_ = insertion_iter;
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp36_ = *_tmp35_;
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp37_ = gtk_tree_model_get_path (G_TYPE_CHECK_INSTANCE_CAST (_tmp34_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &_tmp36_);
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp38_ = _tmp37_;
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp39_ = position;
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp40_ = sidebar_tree_root_wrapper_new (G_TYPE_CHECK_INSTANCE_CAST (_tmp30_, GTK_TYPE_TREE_MODEL, GtkTreeModel), _tmp33_, _tmp38_, _tmp39_);
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp41_ = _tmp40_;
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp42_ = *_tmp29_;
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_associate_wrapper (self, &_tmp42_, G_TYPE_CHECK_INSTANCE_CAST (_tmp41_, SIDEBAR_TREE_TYPE_ENTRY_WRAPPER, SidebarTreeEntryWrapper));
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (_tmp41_);
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (_tmp38_);
#line 449 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (_tmp33_);
#line 454 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp43_ = branch;
#line 454 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp44_ = branch;
#line 454 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp45_ = sidebar_branch_get_root (_tmp44_);
#line 454 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp46_ = _tmp45_;
#line 454 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp47_ = insertion_iter;
#line 454 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp48_ = *_tmp47_;
#line 454 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_associate_children (self, _tmp43_, _tmp46_, &_tmp48_);
#line 454 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (_tmp46_);
#line 422 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_free0 (insertion_iter);
#line 2878 "Tree.c"
}


static void sidebar_tree_associate_children (SidebarTree* self, SidebarBranch* branch, SidebarEntry* parent, GtkTreeIter* parent_iter) {
	GeeList* children = NULL;
	SidebarBranch* _tmp0_ = NULL;
	SidebarEntry* _tmp1_ = NULL;
	GeeList* _tmp2_ = NULL;
	GeeList* _tmp3_ = NULL;
#line 457 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 457 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (branch));
#line 457 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (parent));
#line 457 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (parent_iter != NULL);
#line 459 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = branch;
#line 459 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = parent;
#line 459 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = sidebar_branch_get_children (_tmp0_, _tmp1_);
#line 459 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	children = _tmp2_;
#line 460 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = children;
#line 460 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp3_ == NULL) {
#line 461 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (children);
#line 461 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return;
#line 2912 "Tree.c"
	}
	{
		GeeList* _child_list = NULL;
		GeeList* _tmp4_ = NULL;
		GeeList* _tmp5_ = NULL;
		gint _child_size = 0;
		GeeList* _tmp6_ = NULL;
		gint _tmp7_ = 0;
		gint _tmp8_ = 0;
		gint _child_index = 0;
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = children;
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = _g_object_ref0 (_tmp4_);
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_child_list = _tmp5_;
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = _child_list;
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = gee_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GEE_TYPE_COLLECTION, GeeCollection));
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = _tmp7_;
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_child_size = _tmp8_;
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_child_index = -1;
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		while (TRUE) {
#line 2941 "Tree.c"
			gint _tmp9_ = 0;
			gint _tmp10_ = 0;
			gint _tmp11_ = 0;
			SidebarEntry* child = NULL;
			GeeList* _tmp12_ = NULL;
			gint _tmp13_ = 0;
			gpointer _tmp14_ = NULL;
			GtkTreeIter append_iter = {0};
			GtkTreeStore* _tmp15_ = NULL;
			GtkTreeIter _tmp16_ = {0};
			GtkTreeIter _tmp17_ = {0};
			GtkTreeIter _tmp18_ = {0};
			SidebarEntry* _tmp19_ = NULL;
			SidebarBranch* _tmp20_ = NULL;
			SidebarEntry* _tmp21_ = NULL;
			GtkTreeIter _tmp22_ = {0};
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp9_ = _child_index;
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_child_index = _tmp9_ + 1;
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp10_ = _child_index;
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp11_ = _child_size;
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			if (!(_tmp10_ < _tmp11_)) {
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				break;
#line 2970 "Tree.c"
			}
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp12_ = _child_list;
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp13_ = _child_index;
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp14_ = gee_list_get (_tmp12_, _tmp13_);
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			child = (SidebarEntry*) _tmp14_;
#line 465 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp15_ = self->priv->store;
#line 465 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp16_ = *parent_iter;
#line 465 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			gtk_tree_store_append (_tmp15_, &_tmp17_, &_tmp16_);
#line 465 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			append_iter = _tmp17_;
#line 467 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp18_ = append_iter;
#line 467 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp19_ = child;
#line 467 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			sidebar_tree_associate_entry (self, &_tmp18_, _tmp19_);
#line 468 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp20_ = branch;
#line 468 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp21_ = child;
#line 468 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp22_ = append_iter;
#line 468 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			sidebar_tree_associate_children (self, _tmp20_, _tmp21_, &_tmp22_);
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (child);
#line 3004 "Tree.c"
		}
#line 463 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (_child_list);
#line 3008 "Tree.c"
	}
#line 457 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (children);
#line 3012 "Tree.c"
}


static void sidebar_tree_associate_entry (SidebarTree* self, GtkTreeIter* assoc_iter, SidebarEntry* entry) {
	GtkTreeIter _tmp0_ = {0};
	GtkTreeStore* _tmp1_ = NULL;
	SidebarEntry* _tmp2_ = NULL;
	GtkTreeStore* _tmp3_ = NULL;
	GtkTreeIter _tmp4_ = {0};
	GtkTreePath* _tmp5_ = NULL;
	GtkTreePath* _tmp6_ = NULL;
	SidebarTreeEntryWrapper* _tmp7_ = NULL;
	SidebarTreeEntryWrapper* _tmp8_ = NULL;
#line 472 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 472 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (assoc_iter != NULL);
#line 472 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 473 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = *assoc_iter;
#line 473 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = self->priv->store;
#line 473 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = entry;
#line 473 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = self->priv->store;
#line 473 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = *assoc_iter;
#line 473 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = gtk_tree_model_get_path (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &_tmp4_);
#line 473 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = _tmp5_;
#line 473 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = sidebar_tree_entry_wrapper_new (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GTK_TYPE_TREE_MODEL, GtkTreeModel), _tmp2_, _tmp6_);
#line 473 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = _tmp7_;
#line 473 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_associate_wrapper (self, &_tmp0_, _tmp8_);
#line 473 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (_tmp8_);
#line 473 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (_tmp6_);
#line 3056 "Tree.c"
}


static void _sidebar_tree_on_sidebar_tooltip_changed_sidebar_entry_sidebar_tooltip_changed (SidebarEntry* _sender, const gchar* tooltip, gpointer self) {
#line 487 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_sidebar_tooltip_changed ((SidebarTree*) self, _sender, tooltip);
#line 3063 "Tree.c"
}


static void _sidebar_tree_on_sidebar_icon_changed_sidebar_entry_sidebar_icon_changed (SidebarEntry* _sender, const gchar* icon, gpointer self) {
#line 488 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_sidebar_icon_changed ((SidebarTree*) self, _sender, icon);
#line 3070 "Tree.c"
}


static void _sidebar_tree_on_sidebar_page_created_sidebar_page_representative_page_created (SidebarPageRepresentative* _sender, Page* page, gpointer self) {
#line 492 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_sidebar_page_created ((SidebarTree*) self, _sender, page);
#line 3077 "Tree.c"
}


static void _sidebar_tree_on_sidebar_destroying_page_sidebar_page_representative_destroying_page (SidebarPageRepresentative* _sender, Page* page, gpointer self) {
#line 493 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_sidebar_destroying_page ((SidebarTree*) self, _sender, page);
#line 3084 "Tree.c"
}


static void _sidebar_tree_on_is_emphasized_changed_sidebar_emphasizable_entry_is_emphasized_changed (SidebarEmphasizableEntry* _sender, gboolean emphasized, gpointer self) {
#line 498 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_is_emphasized_changed ((SidebarTree*) self, _sender, emphasized);
#line 3091 "Tree.c"
}


static void _sidebar_tree_on_sidebar_name_changed_sidebar_renameable_entry_sidebar_name_changed (SidebarRenameableEntry* _sender, const gchar* name, gpointer self) {
#line 502 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_sidebar_name_changed ((SidebarTree*) self, _sender, name);
#line 3098 "Tree.c"
}


static void sidebar_tree_associate_wrapper (SidebarTree* self, GtkTreeIter* assoc_iter, SidebarTreeEntryWrapper* wrapper) {
	SidebarEntry* entry = NULL;
	SidebarTreeEntryWrapper* _tmp0_ = NULL;
	SidebarEntry* _tmp1_ = NULL;
	SidebarEntry* _tmp2_ = NULL;
	GeeHashMap* _tmp3_ = NULL;
	SidebarEntry* _tmp4_ = NULL;
	gboolean _tmp5_ = FALSE;
	GeeHashMap* _tmp6_ = NULL;
	SidebarEntry* _tmp7_ = NULL;
	SidebarTreeEntryWrapper* _tmp8_ = NULL;
	GtkTreeStore* _tmp9_ = NULL;
	GtkTreeIter _tmp10_ = {0};
	SidebarEntry* _tmp11_ = NULL;
	gchar* _tmp12_ = NULL;
	gchar* _tmp13_ = NULL;
	GtkTreeStore* _tmp14_ = NULL;
	GtkTreeIter _tmp15_ = {0};
	SidebarEntry* _tmp16_ = NULL;
	gchar* _tmp17_ = NULL;
	gchar* _tmp18_ = NULL;
	gchar* _tmp19_ = NULL;
	gchar* _tmp20_ = NULL;
	GtkTreeStore* _tmp21_ = NULL;
	GtkTreeIter _tmp22_ = {0};
	SidebarTreeEntryWrapper* _tmp23_ = NULL;
	GtkTreeIter _tmp24_ = {0};
	SidebarEntry* _tmp25_ = NULL;
	SidebarEntry* _tmp26_ = NULL;
	SidebarPageRepresentative* pageable = NULL;
	SidebarEntry* _tmp27_ = NULL;
	SidebarPageRepresentative* _tmp28_ = NULL;
	SidebarPageRepresentative* _tmp29_ = NULL;
	SidebarEmphasizableEntry* emphasizable = NULL;
	SidebarEntry* _tmp32_ = NULL;
	SidebarEmphasizableEntry* _tmp33_ = NULL;
	SidebarEmphasizableEntry* _tmp34_ = NULL;
	SidebarRenameableEntry* renameable = NULL;
	SidebarEntry* _tmp36_ = NULL;
	SidebarRenameableEntry* _tmp37_ = NULL;
	SidebarRenameableEntry* _tmp38_ = NULL;
	SidebarEntry* _tmp40_ = NULL;
#line 476 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 476 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (assoc_iter != NULL);
#line 476 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_TREE_IS_ENTRY_WRAPPER (wrapper));
#line 477 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = wrapper;
#line 477 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = _tmp0_->entry;
#line 477 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 477 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	entry = _tmp2_;
#line 479 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = self->priv->entry_map;
#line 479 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = entry;
#line 479 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = gee_abstract_map_has_key (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp4_);
#line 479 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (!_tmp5_, "!entry_map.has_key(entry)");
#line 480 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = self->priv->entry_map;
#line 480 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = entry;
#line 480 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = wrapper;
#line 480 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gee_abstract_map_set (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp7_, _tmp8_);
#line 482 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp9_ = self->priv->store;
#line 482 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp10_ = *assoc_iter;
#line 482 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp11_ = entry;
#line 482 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp12_ = sidebar_tree_get_name_for_entry (self, _tmp11_);
#line 482 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp13_ = _tmp12_;
#line 482 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_store_set (_tmp9_, &_tmp10_, SIDEBAR_TREE_COLUMNS_NAME, _tmp13_, -1);
#line 482 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_free0 (_tmp13_);
#line 483 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp14_ = self->priv->store;
#line 483 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp15_ = *assoc_iter;
#line 483 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp16_ = entry;
#line 483 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp17_ = sidebar_entry_get_sidebar_tooltip (_tmp16_);
#line 483 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp18_ = _tmp17_;
#line 483 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp19_ = guarded_markup_escape_text (_tmp18_);
#line 483 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp20_ = _tmp19_;
#line 483 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_store_set (_tmp14_, &_tmp15_, SIDEBAR_TREE_COLUMNS_TOOLTIP, _tmp20_, -1);
#line 483 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_free0 (_tmp20_);
#line 483 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_free0 (_tmp18_);
#line 484 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp21_ = self->priv->store;
#line 484 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp22_ = *assoc_iter;
#line 484 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp23_ = wrapper;
#line 484 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_store_set (_tmp21_, &_tmp22_, SIDEBAR_TREE_COLUMNS_WRAPPER, _tmp23_, -1);
#line 485 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp24_ = *assoc_iter;
#line 485 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_load_entry_icons (self, &_tmp24_);
#line 487 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp25_ = entry;
#line 487 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (_tmp25_, "sidebar-tooltip-changed", (GCallback) _sidebar_tree_on_sidebar_tooltip_changed_sidebar_entry_sidebar_tooltip_changed, self, 0);
#line 488 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp26_ = entry;
#line 488 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_connect_object (_tmp26_, "sidebar-icon-changed", (GCallback) _sidebar_tree_on_sidebar_icon_changed_sidebar_entry_sidebar_icon_changed, self, 0);
#line 490 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp27_ = entry;
#line 490 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp28_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp27_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE) ? ((SidebarPageRepresentative*) _tmp27_) : NULL);
#line 490 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	pageable = _tmp28_;
#line 491 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp29_ = pageable;
#line 491 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp29_ != NULL) {
#line 3238 "Tree.c"
		SidebarPageRepresentative* _tmp30_ = NULL;
		SidebarPageRepresentative* _tmp31_ = NULL;
#line 492 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp30_ = pageable;
#line 492 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_connect_object (_tmp30_, "page-created", (GCallback) _sidebar_tree_on_sidebar_page_created_sidebar_page_representative_page_created, self, 0);
#line 493 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp31_ = pageable;
#line 493 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_connect_object (_tmp31_, "destroying-page", (GCallback) _sidebar_tree_on_sidebar_destroying_page_sidebar_page_representative_destroying_page, self, 0);
#line 3249 "Tree.c"
	}
#line 496 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp32_ = entry;
#line 496 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp33_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp32_, SIDEBAR_TYPE_EMPHASIZABLE_ENTRY) ? ((SidebarEmphasizableEntry*) _tmp32_) : NULL);
#line 496 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	emphasizable = _tmp33_;
#line 497 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp34_ = emphasizable;
#line 497 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp34_ != NULL) {
#line 3261 "Tree.c"
		SidebarEmphasizableEntry* _tmp35_ = NULL;
#line 498 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp35_ = emphasizable;
#line 498 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_connect_object (_tmp35_, "is-emphasized-changed", (GCallback) _sidebar_tree_on_is_emphasized_changed_sidebar_emphasizable_entry_is_emphasized_changed, self, 0);
#line 3267 "Tree.c"
	}
#line 500 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp36_ = entry;
#line 500 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp37_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp36_, SIDEBAR_TYPE_RENAMEABLE_ENTRY) ? ((SidebarRenameableEntry*) _tmp36_) : NULL);
#line 500 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	renameable = _tmp37_;
#line 501 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp38_ = renameable;
#line 501 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp38_ != NULL) {
#line 3279 "Tree.c"
		SidebarRenameableEntry* _tmp39_ = NULL;
#line 502 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp39_ = renameable;
#line 502 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_connect_object (_tmp39_, "sidebar-name-changed", (GCallback) _sidebar_tree_on_sidebar_name_changed_sidebar_renameable_entry_sidebar_name_changed, self, 0);
#line 3285 "Tree.c"
	}
#line 504 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp40_ = entry;
#line 504 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_entry_grafted (_tmp40_, self);
#line 476 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (renameable);
#line 476 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (emphasizable);
#line 476 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (pageable);
#line 476 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (entry);
#line 3299 "Tree.c"
}


static SidebarTreeEntryWrapper* sidebar_tree_reparent_wrapper (SidebarTree* self, GtkTreeIter* new_iter, SidebarTreeEntryWrapper* current_wrapper) {
	SidebarTreeEntryWrapper* result = NULL;
	SidebarEntry* entry = NULL;
	SidebarTreeEntryWrapper* _tmp0_ = NULL;
	SidebarEntry* _tmp1_ = NULL;
	SidebarEntry* _tmp2_ = NULL;
	gboolean removed = FALSE;
	GeeHashMap* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	SidebarTreeEntryWrapper* new_wrapper = NULL;
	GtkTreeStore* _tmp5_ = NULL;
	GtkTreeStore* _tmp6_ = NULL;
	GtkTreeIter _tmp7_ = {0};
	GtkTreePath* _tmp8_ = NULL;
	GtkTreePath* _tmp9_ = NULL;
	SidebarTreeEntryWrapper* _tmp10_ = NULL;
	SidebarTreeEntryWrapper* _tmp11_ = NULL;
	GeeHashMap* _tmp12_ = NULL;
	GtkTreeStore* _tmp13_ = NULL;
	GtkTreeIter _tmp14_ = {0};
	gchar* _tmp15_ = NULL;
	gchar* _tmp16_ = NULL;
	GtkTreeStore* _tmp17_ = NULL;
	GtkTreeIter _tmp18_ = {0};
	gchar* _tmp19_ = NULL;
	gchar* _tmp20_ = NULL;
	gchar* _tmp21_ = NULL;
	gchar* _tmp22_ = NULL;
	GtkTreeStore* _tmp23_ = NULL;
	GtkTreeIter _tmp24_ = {0};
	GtkTreeIter _tmp25_ = {0};
#line 507 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), NULL);
#line 507 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (new_iter != NULL, NULL);
#line 507 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_TREE_IS_ENTRY_WRAPPER (current_wrapper), NULL);
#line 508 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = current_wrapper;
#line 508 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = _tmp0_->entry;
#line 508 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 508 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	entry = _tmp2_;
#line 510 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = self->priv->entry_map;
#line 510 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = gee_abstract_map_unset (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry, NULL);
#line 510 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	removed = _tmp4_;
#line 511 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (removed, "removed");
#line 513 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = self->priv->store;
#line 513 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = self->priv->store;
#line 513 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = *new_iter;
#line 513 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = gtk_tree_model_get_path (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &_tmp7_);
#line 513 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp9_ = _tmp8_;
#line 513 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp10_ = sidebar_tree_entry_wrapper_new (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, GTK_TYPE_TREE_MODEL, GtkTreeModel), entry, _tmp9_);
#line 513 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp11_ = _tmp10_;
#line 513 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (_tmp9_);
#line 513 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	new_wrapper = _tmp11_;
#line 514 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp12_ = self->priv->entry_map;
#line 514 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gee_abstract_map_set (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry, new_wrapper);
#line 516 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp13_ = self->priv->store;
#line 516 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp14_ = *new_iter;
#line 516 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp15_ = sidebar_tree_get_name_for_entry (self, entry);
#line 516 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp16_ = _tmp15_;
#line 516 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_store_set (_tmp13_, &_tmp14_, SIDEBAR_TREE_COLUMNS_NAME, _tmp16_, -1);
#line 516 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_free0 (_tmp16_);
#line 517 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp17_ = self->priv->store;
#line 517 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp18_ = *new_iter;
#line 517 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp19_ = sidebar_entry_get_sidebar_tooltip (entry);
#line 517 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp20_ = _tmp19_;
#line 517 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp21_ = guarded_markup_escape_text (_tmp20_);
#line 517 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp22_ = _tmp21_;
#line 517 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_store_set (_tmp17_, &_tmp18_, SIDEBAR_TREE_COLUMNS_TOOLTIP, _tmp22_, -1);
#line 517 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_free0 (_tmp22_);
#line 517 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_free0 (_tmp20_);
#line 518 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp23_ = self->priv->store;
#line 518 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp24_ = *new_iter;
#line 518 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_store_set (_tmp23_, &_tmp24_, SIDEBAR_TREE_COLUMNS_WRAPPER, new_wrapper, -1);
#line 519 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp25_ = *new_iter;
#line 519 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_load_entry_icons (self, &_tmp25_);
#line 521 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = new_wrapper;
#line 521 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (entry);
#line 521 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 3424 "Tree.c"
}


void sidebar_tree_prune (SidebarTree* self, SidebarBranch* branch) {
	GeeHashMap* _tmp0_ = NULL;
	SidebarBranch* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	SidebarBranch* _tmp3_ = NULL;
	SidebarEntry* _tmp4_ = NULL;
	SidebarEntry* _tmp5_ = NULL;
	gboolean _tmp6_ = FALSE;
	gboolean _tmp7_ = FALSE;
	SidebarBranch* _tmp9_ = NULL;
	guint _tmp10_ = 0U;
	SidebarBranch* _tmp11_ = NULL;
	guint _tmp12_ = 0U;
	SidebarBranch* _tmp13_ = NULL;
	guint _tmp14_ = 0U;
	SidebarBranch* _tmp15_ = NULL;
	guint _tmp16_ = 0U;
	SidebarBranch* _tmp17_ = NULL;
	guint _tmp18_ = 0U;
	SidebarBranch* _tmp19_ = NULL;
	guint _tmp20_ = 0U;
	gboolean removed = FALSE;
	GeeHashMap* _tmp21_ = NULL;
	SidebarBranch* _tmp22_ = NULL;
	gboolean _tmp23_ = FALSE;
	SidebarBranch* _tmp24_ = NULL;
#line 524 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 524 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (branch));
#line 525 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->priv->branches;
#line 525 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = branch;
#line 525 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = gee_abstract_map_has_key (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp1_);
#line 525 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (_tmp2_, "branches.has_key(branch)");
#line 527 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = branch;
#line 527 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = sidebar_branch_get_root (_tmp3_);
#line 527 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = _tmp4_;
#line 527 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = sidebar_tree_has_wrapper (self, _tmp5_);
#line 527 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = _tmp6_;
#line 527 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (_tmp5_);
#line 527 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp7_) {
#line 3480 "Tree.c"
		SidebarBranch* _tmp8_ = NULL;
#line 528 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = branch;
#line 528 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		sidebar_tree_disassociate_branch (self, _tmp8_);
#line 3486 "Tree.c"
	}
#line 530 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp9_ = branch;
#line 530 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_parse_name ("entry-added", SIDEBAR_TYPE_BRANCH, &_tmp10_, NULL, FALSE);
#line 530 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_handlers_disconnect_matched (_tmp9_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp10_, 0, NULL, (GCallback) _sidebar_tree_on_branch_entry_added_sidebar_branch_entry_added, self);
#line 531 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp11_ = branch;
#line 531 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_parse_name ("entry-removed", SIDEBAR_TYPE_BRANCH, &_tmp12_, NULL, FALSE);
#line 531 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_handlers_disconnect_matched (_tmp11_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp12_, 0, NULL, (GCallback) _sidebar_tree_on_branch_entry_removed_sidebar_branch_entry_removed, self);
#line 532 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp13_ = branch;
#line 532 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_parse_name ("entry-moved", SIDEBAR_TYPE_BRANCH, &_tmp14_, NULL, FALSE);
#line 532 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_handlers_disconnect_matched (_tmp13_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp14_, 0, NULL, (GCallback) _sidebar_tree_on_branch_entry_moved_sidebar_branch_entry_moved, self);
#line 533 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp15_ = branch;
#line 533 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_parse_name ("entry-reparented", SIDEBAR_TYPE_BRANCH, &_tmp16_, NULL, FALSE);
#line 533 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_handlers_disconnect_matched (_tmp15_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp16_, 0, NULL, (GCallback) _sidebar_tree_on_branch_entry_reparented_sidebar_branch_entry_reparented, self);
#line 534 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp17_ = branch;
#line 534 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_parse_name ("children-reordered", SIDEBAR_TYPE_BRANCH, &_tmp18_, NULL, FALSE);
#line 534 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_handlers_disconnect_matched (_tmp17_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp18_, 0, NULL, (GCallback) _sidebar_tree_on_branch_children_reordered_sidebar_branch_children_reordered, self);
#line 535 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp19_ = branch;
#line 535 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_parse_name ("show-branch", SIDEBAR_TYPE_BRANCH, &_tmp20_, NULL, FALSE);
#line 535 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_handlers_disconnect_matched (_tmp19_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp20_, 0, NULL, (GCallback) _sidebar_tree_on_show_branch_sidebar_branch_show_branch, self);
#line 537 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp21_ = self->priv->branches;
#line 537 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp22_ = branch;
#line 537 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp23_ = gee_abstract_map_unset (G_TYPE_CHECK_INSTANCE_CAST (_tmp21_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp22_, NULL);
#line 537 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	removed = _tmp23_;
#line 538 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (removed, "removed");
#line 540 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp24_ = branch;
#line 540 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_emit_by_name (self, "branch-removed", _tmp24_);
#line 3538 "Tree.c"
}


static void sidebar_tree_disassociate_branch (SidebarTree* self, SidebarBranch* branch) {
	SidebarTreeRootWrapper* root_wrapper = NULL;
	SidebarBranch* _tmp0_ = NULL;
	SidebarEntry* _tmp1_ = NULL;
	SidebarEntry* _tmp2_ = NULL;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
	SidebarTreeRootWrapper* _tmp4_ = NULL;
	SidebarTreeRootWrapper* _tmp5_ = NULL;
#line 543 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 543 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (branch));
#line 544 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = branch;
#line 544 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_branch_get_root (_tmp0_);
#line 544 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = _tmp1_;
#line 544 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = sidebar_tree_get_wrapper (self, _tmp2_);
#line 544 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, SIDEBAR_TREE_TYPE_ROOT_WRAPPER) ? ((SidebarTreeRootWrapper*) _tmp3_) : NULL;
#line 544 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp4_ == NULL) {
#line 544 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (_tmp3_);
#line 3568 "Tree.c"
	}
#line 544 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = _tmp4_;
#line 544 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (_tmp2_);
#line 544 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	root_wrapper = _tmp5_;
#line 545 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (root_wrapper != NULL, "root_wrapper != null");
#line 547 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_disassociate_wrapper_and_signal (self, G_TYPE_CHECK_INSTANCE_CAST (root_wrapper, SIDEBAR_TREE_TYPE_ENTRY_WRAPPER, SidebarTreeEntryWrapper), FALSE);
#line 543 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (root_wrapper);
#line 3582 "Tree.c"
}


static void sidebar_tree_disassociate_wrapper_and_signal (SidebarTree* self, SidebarTreeEntryWrapper* wrapper, gboolean only_children) {
	gboolean selected = FALSE;
	SidebarTreeEntryWrapper* _tmp0_ = NULL;
	SidebarEntry* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
#line 552 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 552 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_TREE_IS_ENTRY_WRAPPER (wrapper));
#line 553 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = wrapper;
#line 553 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = _tmp0_->entry;
#line 553 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = sidebar_tree_is_selected (self, _tmp1_);
#line 553 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	selected = _tmp2_;
#line 555 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = wrapper;
#line 555 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = only_children;
#line 555 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_disassociate_wrapper (self, _tmp3_, _tmp4_);
#line 557 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = selected;
#line 557 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp5_) {
#line 3616 "Tree.c"
		SidebarSelectableEntry* selectable = NULL;
		SidebarTreeEntryWrapper* _tmp6_ = NULL;
		SidebarEntry* _tmp7_ = NULL;
		SidebarSelectableEntry* _tmp8_ = NULL;
		SidebarSelectableEntry* _tmp9_ = NULL;
		SidebarSelectableEntry* _tmp10_ = NULL;
#line 558 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = wrapper;
#line 558 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = _tmp6_->entry;
#line 558 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp7_, SIDEBAR_TYPE_SELECTABLE_ENTRY) ? ((SidebarSelectableEntry*) _tmp7_) : NULL);
#line 558 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		selectable = _tmp8_;
#line 559 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = selectable;
#line 559 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_vala_assert (_tmp9_ != NULL, "selectable != null");
#line 561 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = selectable;
#line 561 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_emit_by_name (self, "selected-entry-removed", _tmp10_);
#line 557 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (selectable);
#line 3641 "Tree.c"
	}
}


static void sidebar_tree_disassociate_wrapper (SidebarTree* self, SidebarTreeEntryWrapper* wrapper, gboolean only_children) {
	GeeArrayList* children = NULL;
	GeeArrayList* _tmp0_ = NULL;
	GtkTreeIter child_iter = {0};
	gboolean found = FALSE;
	GtkTreeStore* _tmp1_ = NULL;
	SidebarTreeEntryWrapper* _tmp2_ = NULL;
	GtkTreeIter _tmp3_ = {0};
	GtkTreeIter _tmp4_ = {0};
	gboolean _tmp5_ = FALSE;
	gboolean _tmp26_ = FALSE;
	GtkTreeIter iter = {0};
	SidebarTreeEntryWrapper* _tmp27_ = NULL;
	GtkTreeIter _tmp28_ = {0};
	GtkTreeStore* _tmp29_ = NULL;
	SidebarTreeEntryWrapper* _tmp30_ = NULL;
	SidebarTreeEntryWrapper* _tmp31_ = NULL;
	SidebarEntry* entry = NULL;
	SidebarTreeEntryWrapper* _tmp32_ = NULL;
	SidebarEntry* _tmp33_ = NULL;
	SidebarEntry* _tmp34_ = NULL;
	SidebarEntry* _tmp35_ = NULL;
	SidebarEntry* _tmp36_ = NULL;
	guint _tmp37_ = 0U;
	SidebarEntry* _tmp38_ = NULL;
	guint _tmp39_ = 0U;
	SidebarPageRepresentative* pageable = NULL;
	SidebarEntry* _tmp40_ = NULL;
	SidebarPageRepresentative* _tmp41_ = NULL;
	SidebarPageRepresentative* _tmp42_ = NULL;
	SidebarRenameableEntry* renameable = NULL;
	SidebarEntry* _tmp47_ = NULL;
	SidebarRenameableEntry* _tmp48_ = NULL;
	SidebarRenameableEntry* _tmp49_ = NULL;
	SidebarEmphasizableEntry* emphasizable = NULL;
	SidebarEntry* _tmp52_ = NULL;
	SidebarEmphasizableEntry* _tmp53_ = NULL;
	SidebarEmphasizableEntry* _tmp54_ = NULL;
	gboolean removed = FALSE;
	GeeHashMap* _tmp57_ = NULL;
	SidebarEntry* _tmp58_ = NULL;
	gboolean _tmp59_ = FALSE;
	gboolean _tmp60_ = FALSE;
#line 565 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 565 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_TREE_IS_ENTRY_WRAPPER (wrapper));
#line 566 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = gee_array_list_new (SIDEBAR_TREE_TYPE_ENTRY_WRAPPER, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
#line 566 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	children = _tmp0_;
#line 569 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = self->priv->store;
#line 569 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = wrapper;
#line 569 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_entry_wrapper_get_iter (_tmp2_, &_tmp3_);
#line 569 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = gtk_tree_model_iter_children (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &_tmp4_, &_tmp3_);
#line 569 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	child_iter = _tmp4_;
#line 569 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	found = _tmp5_;
#line 570 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	while (TRUE) {
#line 3711 "Tree.c"
		gboolean _tmp6_ = FALSE;
		SidebarTreeEntryWrapper* child_wrapper = NULL;
		GtkTreeIter _tmp7_ = {0};
		SidebarTreeEntryWrapper* _tmp8_ = NULL;
		SidebarTreeEntryWrapper* _tmp9_ = NULL;
		GeeArrayList* _tmp10_ = NULL;
		SidebarTreeEntryWrapper* _tmp11_ = NULL;
		GtkTreeStore* _tmp12_ = NULL;
		gboolean _tmp13_ = FALSE;
#line 570 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = found;
#line 570 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (!_tmp6_) {
#line 570 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			break;
#line 3727 "Tree.c"
		}
#line 571 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = child_iter;
#line 571 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = sidebar_tree_get_wrapper_at_iter (self, &_tmp7_);
#line 571 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		child_wrapper = _tmp8_;
#line 572 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = child_wrapper;
#line 572 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_vala_assert (_tmp9_ != NULL, "child_wrapper != null");
#line 574 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = children;
#line 574 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = child_wrapper;
#line 574 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp11_);
#line 576 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp12_ = self->priv->store;
#line 576 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp13_ = gtk_tree_model_iter_next (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &child_iter);
#line 576 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		found = _tmp13_;
#line 570 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (child_wrapper);
#line 3753 "Tree.c"
	}
	{
		GeeArrayList* _child_wrapper_list = NULL;
		GeeArrayList* _tmp14_ = NULL;
		GeeArrayList* _tmp15_ = NULL;
		gint _child_wrapper_size = 0;
		GeeArrayList* _tmp16_ = NULL;
		gint _tmp17_ = 0;
		gint _tmp18_ = 0;
		gint _child_wrapper_index = 0;
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp14_ = children;
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp15_ = _g_object_ref0 (_tmp14_);
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_child_wrapper_list = _tmp15_;
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp16_ = _child_wrapper_list;
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp17_ = gee_abstract_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp16_, GEE_TYPE_COLLECTION, GeeCollection));
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp18_ = _tmp17_;
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_child_wrapper_size = _tmp18_;
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_child_wrapper_index = -1;
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		while (TRUE) {
#line 3782 "Tree.c"
			gint _tmp19_ = 0;
			gint _tmp20_ = 0;
			gint _tmp21_ = 0;
			SidebarTreeEntryWrapper* child_wrapper = NULL;
			GeeArrayList* _tmp22_ = NULL;
			gint _tmp23_ = 0;
			gpointer _tmp24_ = NULL;
			SidebarTreeEntryWrapper* _tmp25_ = NULL;
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp19_ = _child_wrapper_index;
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_child_wrapper_index = _tmp19_ + 1;
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp20_ = _child_wrapper_index;
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp21_ = _child_wrapper_size;
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			if (!(_tmp20_ < _tmp21_)) {
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				break;
#line 3803 "Tree.c"
			}
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp22_ = _child_wrapper_list;
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp23_ = _child_wrapper_index;
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp24_ = gee_abstract_list_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp22_, GEE_TYPE_ABSTRACT_LIST, GeeAbstractList), _tmp23_);
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			child_wrapper = (SidebarTreeEntryWrapper*) _tmp24_;
#line 580 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp25_ = child_wrapper;
#line 580 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			sidebar_tree_disassociate_wrapper (self, _tmp25_, FALSE);
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (child_wrapper);
#line 3819 "Tree.c"
		}
#line 579 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (_child_wrapper_list);
#line 3823 "Tree.c"
	}
#line 582 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp26_ = only_children;
#line 582 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp26_) {
#line 583 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (children);
#line 583 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return;
#line 3833 "Tree.c"
	}
#line 585 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp27_ = wrapper;
#line 585 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_entry_wrapper_get_iter (_tmp27_, &_tmp28_);
#line 585 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	iter = _tmp28_;
#line 586 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp29_ = self->priv->store;
#line 586 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_store_remove (_tmp29_, &iter);
#line 588 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp30_ = self->priv->selected_wrapper;
#line 588 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp31_ = wrapper;
#line 588 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp30_ == _tmp31_) {
#line 589 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		self->priv->selected_wrapper = NULL;
#line 3853 "Tree.c"
	}
#line 591 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp32_ = wrapper;
#line 591 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp33_ = _tmp32_->entry;
#line 591 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp34_ = _g_object_ref0 (_tmp33_);
#line 591 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	entry = _tmp34_;
#line 593 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp35_ = entry;
#line 593 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_entry_pruned (_tmp35_, self);
#line 595 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp36_ = entry;
#line 595 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_parse_name ("sidebar-tooltip-changed", SIDEBAR_TYPE_ENTRY, &_tmp37_, NULL, FALSE);
#line 595 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_handlers_disconnect_matched (_tmp36_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp37_, 0, NULL, (GCallback) _sidebar_tree_on_sidebar_tooltip_changed_sidebar_entry_sidebar_tooltip_changed, self);
#line 596 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp38_ = entry;
#line 596 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_parse_name ("sidebar-icon-changed", SIDEBAR_TYPE_ENTRY, &_tmp39_, NULL, FALSE);
#line 596 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_handlers_disconnect_matched (_tmp38_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp39_, 0, NULL, (GCallback) _sidebar_tree_on_sidebar_icon_changed_sidebar_entry_sidebar_icon_changed, self);
#line 598 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp40_ = entry;
#line 598 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp41_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp40_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE) ? ((SidebarPageRepresentative*) _tmp40_) : NULL);
#line 598 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	pageable = _tmp41_;
#line 599 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp42_ = pageable;
#line 599 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp42_ != NULL) {
#line 3889 "Tree.c"
		SidebarPageRepresentative* _tmp43_ = NULL;
		guint _tmp44_ = 0U;
		SidebarPageRepresentative* _tmp45_ = NULL;
		guint _tmp46_ = 0U;
#line 600 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp43_ = pageable;
#line 600 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_parse_name ("page-created", SIDEBAR_TYPE_PAGE_REPRESENTATIVE, &_tmp44_, NULL, FALSE);
#line 600 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_handlers_disconnect_matched (_tmp43_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp44_, 0, NULL, (GCallback) _sidebar_tree_on_sidebar_page_created_sidebar_page_representative_page_created, self);
#line 601 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp45_ = pageable;
#line 601 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_parse_name ("destroying-page", SIDEBAR_TYPE_PAGE_REPRESENTATIVE, &_tmp46_, NULL, FALSE);
#line 601 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_handlers_disconnect_matched (_tmp45_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp46_, 0, NULL, (GCallback) _sidebar_tree_on_sidebar_destroying_page_sidebar_page_representative_destroying_page, self);
#line 3906 "Tree.c"
	}
#line 604 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp47_ = entry;
#line 604 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp48_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp47_, SIDEBAR_TYPE_RENAMEABLE_ENTRY) ? ((SidebarRenameableEntry*) _tmp47_) : NULL);
#line 604 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	renameable = _tmp48_;
#line 605 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp49_ = renameable;
#line 605 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp49_ != NULL) {
#line 3918 "Tree.c"
		SidebarRenameableEntry* _tmp50_ = NULL;
		guint _tmp51_ = 0U;
#line 606 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp50_ = renameable;
#line 606 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_parse_name ("sidebar-name-changed", SIDEBAR_TYPE_RENAMEABLE_ENTRY, &_tmp51_, NULL, FALSE);
#line 606 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_handlers_disconnect_matched (_tmp50_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp51_, 0, NULL, (GCallback) _sidebar_tree_on_sidebar_name_changed_sidebar_renameable_entry_sidebar_name_changed, self);
#line 3927 "Tree.c"
	}
#line 608 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp52_ = entry;
#line 608 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp53_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp52_, SIDEBAR_TYPE_EMPHASIZABLE_ENTRY) ? ((SidebarEmphasizableEntry*) _tmp52_) : NULL);
#line 608 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	emphasizable = _tmp53_;
#line 609 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp54_ = emphasizable;
#line 609 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp54_ != NULL) {
#line 3939 "Tree.c"
		SidebarEmphasizableEntry* _tmp55_ = NULL;
		guint _tmp56_ = 0U;
#line 610 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp55_ = emphasizable;
#line 610 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_parse_name ("is-emphasized-changed", SIDEBAR_TYPE_EMPHASIZABLE_ENTRY, &_tmp56_, NULL, FALSE);
#line 610 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_handlers_disconnect_matched (_tmp55_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp56_, 0, NULL, (GCallback) _sidebar_tree_on_is_emphasized_changed_sidebar_emphasizable_entry_is_emphasized_changed, self);
#line 3948 "Tree.c"
	}
#line 612 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp57_ = self->priv->entry_map;
#line 612 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp58_ = entry;
#line 612 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp59_ = gee_abstract_map_unset (G_TYPE_CHECK_INSTANCE_CAST (_tmp57_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp58_, NULL);
#line 612 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	removed = _tmp59_;
#line 613 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp60_ = removed;
#line 613 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (_tmp60_, "removed");
#line 565 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (emphasizable);
#line 565 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (renameable);
#line 565 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (pageable);
#line 565 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (entry);
#line 565 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (children);
#line 3972 "Tree.c"
}


static void sidebar_tree_on_branch_entry_added (SidebarTree* self, SidebarBranch* branch, SidebarEntry* entry) {
	SidebarEntry* parent = NULL;
	SidebarBranch* _tmp0_ = NULL;
	SidebarEntry* _tmp1_ = NULL;
	SidebarEntry* _tmp2_ = NULL;
	SidebarEntry* _tmp3_ = NULL;
	SidebarTreeEntryWrapper* parent_wrapper = NULL;
	SidebarEntry* _tmp4_ = NULL;
	SidebarTreeEntryWrapper* _tmp5_ = NULL;
	SidebarTreeEntryWrapper* _tmp6_ = NULL;
	GtkTreeIter insertion_iter = {0};
	SidebarEntry* next = NULL;
	SidebarBranch* _tmp7_ = NULL;
	SidebarEntry* _tmp8_ = NULL;
	SidebarEntry* _tmp9_ = NULL;
	SidebarEntry* _tmp10_ = NULL;
	GtkTreeIter _tmp23_ = {0};
	SidebarEntry* _tmp24_ = NULL;
	SidebarBranch* _tmp25_ = NULL;
	SidebarEntry* _tmp26_ = NULL;
	GtkTreeIter _tmp27_ = {0};
	SidebarBranch* _tmp28_ = NULL;
	gboolean _tmp29_ = FALSE;
#line 616 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 616 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (branch));
#line 616 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 617 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = branch;
#line 617 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = entry;
#line 617 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = sidebar_branch_get_parent (_tmp0_, _tmp1_);
#line 617 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	parent = _tmp2_;
#line 618 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = parent;
#line 618 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (_tmp3_ != NULL, "parent != null");
#line 620 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = parent;
#line 620 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = sidebar_tree_get_wrapper (self, _tmp4_);
#line 620 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	parent_wrapper = _tmp5_;
#line 621 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = parent_wrapper;
#line 621 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (_tmp6_ != NULL, "parent_wrapper != null");
#line 624 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = branch;
#line 624 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = entry;
#line 624 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp9_ = sidebar_branch_get_next_sibling (_tmp7_, _tmp8_);
#line 624 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	next = _tmp9_;
#line 625 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp10_ = next;
#line 625 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp10_ != NULL) {
#line 4039 "Tree.c"
		SidebarTreeEntryWrapper* next_wrapper = NULL;
		SidebarEntry* _tmp11_ = NULL;
		SidebarTreeEntryWrapper* _tmp12_ = NULL;
		GtkTreeStore* _tmp13_ = NULL;
		SidebarTreeEntryWrapper* _tmp14_ = NULL;
		GtkTreeIter _tmp15_ = {0};
		SidebarTreeEntryWrapper* _tmp16_ = NULL;
		GtkTreeIter _tmp17_ = {0};
		GtkTreeIter _tmp18_ = {0};
#line 626 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = next;
#line 626 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp12_ = sidebar_tree_get_wrapper (self, _tmp11_);
#line 626 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		next_wrapper = _tmp12_;
#line 629 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp13_ = self->priv->store;
#line 629 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp14_ = parent_wrapper;
#line 629 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		sidebar_tree_entry_wrapper_get_iter (_tmp14_, &_tmp15_);
#line 629 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp16_ = next_wrapper;
#line 629 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		sidebar_tree_entry_wrapper_get_iter (_tmp16_, &_tmp17_);
#line 629 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_tree_store_insert_before (_tmp13_, &_tmp18_, &_tmp15_, &_tmp17_);
#line 629 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		insertion_iter = _tmp18_;
#line 625 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (next_wrapper);
#line 4071 "Tree.c"
	} else {
		GtkTreeStore* _tmp19_ = NULL;
		SidebarTreeEntryWrapper* _tmp20_ = NULL;
		GtkTreeIter _tmp21_ = {0};
		GtkTreeIter _tmp22_ = {0};
#line 632 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp19_ = self->priv->store;
#line 632 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp20_ = parent_wrapper;
#line 632 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		sidebar_tree_entry_wrapper_get_iter (_tmp20_, &_tmp21_);
#line 632 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_tree_store_append (_tmp19_, &_tmp22_, &_tmp21_);
#line 632 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		insertion_iter = _tmp22_;
#line 4087 "Tree.c"
	}
#line 635 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp23_ = insertion_iter;
#line 635 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp24_ = entry;
#line 635 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_associate_entry (self, &_tmp23_, _tmp24_);
#line 636 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp25_ = branch;
#line 636 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp26_ = entry;
#line 636 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp27_ = insertion_iter;
#line 636 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_associate_children (self, _tmp25_, _tmp26_, &_tmp27_);
#line 638 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp28_ = branch;
#line 638 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp29_ = sidebar_branch_is_auto_open_on_new_child (_tmp28_);
#line 638 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp29_) {
#line 4109 "Tree.c"
		SidebarEntry* _tmp30_ = NULL;
#line 639 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp30_ = entry;
#line 639 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		sidebar_tree_expand_to_entry (self, _tmp30_);
#line 4115 "Tree.c"
	}
#line 616 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (next);
#line 616 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (parent_wrapper);
#line 616 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (parent);
#line 4123 "Tree.c"
}


static void sidebar_tree_on_branch_entry_removed (SidebarTree* self, SidebarBranch* branch, SidebarEntry* entry) {
	SidebarTreeEntryWrapper* wrapper = NULL;
	SidebarEntry* _tmp0_ = NULL;
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
#line 642 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 642 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (branch));
#line 642 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 643 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 643 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper (self, _tmp0_);
#line 643 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 644 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (wrapper != NULL, "wrapper != null");
#line 645 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (!G_TYPE_CHECK_INSTANCE_TYPE (wrapper, SIDEBAR_TREE_TYPE_ROOT_WRAPPER), "!(wrapper is RootWrapper)");
#line 647 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_disassociate_wrapper_and_signal (self, wrapper, FALSE);
#line 642 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 4151 "Tree.c"
}


static void sidebar_tree_on_branch_entry_moved (SidebarTree* self, SidebarBranch* branch, SidebarEntry* entry) {
	SidebarTreeEntryWrapper* wrapper = NULL;
	SidebarEntry* _tmp0_ = NULL;
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	SidebarTreeEntryWrapper* _tmp2_ = NULL;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
	GtkTreeIter* prev_iter = NULL;
	SidebarEntry* prev = NULL;
	SidebarBranch* _tmp4_ = NULL;
	SidebarEntry* _tmp5_ = NULL;
	SidebarEntry* _tmp6_ = NULL;
	SidebarEntry* _tmp7_ = NULL;
	GtkTreeIter entry_iter = {0};
	SidebarTreeEntryWrapper* _tmp14_ = NULL;
	GtkTreeIter _tmp15_ = {0};
	GtkTreeStore* _tmp16_ = NULL;
	GtkTreeIter* _tmp17_ = NULL;
#line 650 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 650 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (branch));
#line 650 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 651 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 651 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper (self, _tmp0_);
#line 651 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 652 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = wrapper;
#line 652 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (_tmp2_ != NULL, "wrapper != null");
#line 653 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = wrapper;
#line 653 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, SIDEBAR_TREE_TYPE_ROOT_WRAPPER), "!(wrapper is RootWrapper)");
#line 656 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	prev_iter = NULL;
#line 657 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = branch;
#line 657 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = entry;
#line 657 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = sidebar_branch_get_previous_sibling (_tmp4_, _tmp5_);
#line 657 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	prev = _tmp6_;
#line 658 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = prev;
#line 658 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp7_ != NULL) {
#line 4206 "Tree.c"
		SidebarTreeEntryWrapper* prev_wrapper = NULL;
		SidebarEntry* _tmp8_ = NULL;
		SidebarTreeEntryWrapper* _tmp9_ = NULL;
		SidebarTreeEntryWrapper* _tmp10_ = NULL;
		SidebarTreeEntryWrapper* _tmp11_ = NULL;
		GtkTreeIter _tmp12_ = {0};
		GtkTreeIter* _tmp13_ = NULL;
#line 659 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = prev;
#line 659 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = sidebar_tree_get_wrapper (self, _tmp8_);
#line 659 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		prev_wrapper = _tmp9_;
#line 660 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = prev_wrapper;
#line 660 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_vala_assert (_tmp10_ != NULL, "prev_wrapper != null");
#line 662 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = prev_wrapper;
#line 662 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		sidebar_tree_entry_wrapper_get_iter (_tmp11_, &_tmp12_);
#line 662 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp13_ = __gtk_tree_iter_dup0 (&_tmp12_);
#line 662 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_free0 (prev_iter);
#line 662 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		prev_iter = _tmp13_;
#line 658 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (prev_wrapper);
#line 4236 "Tree.c"
	}
#line 665 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp14_ = wrapper;
#line 665 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_entry_wrapper_get_iter (_tmp14_, &_tmp15_);
#line 665 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	entry_iter = _tmp15_;
#line 666 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp16_ = self->priv->store;
#line 666 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp17_ = prev_iter;
#line 666 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_store_move_after (_tmp16_, &entry_iter, _tmp17_);
#line 650 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (prev);
#line 650 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_free0 (prev_iter);
#line 650 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 4256 "Tree.c"
}


static void sidebar_tree_on_branch_entry_reparented (SidebarTree* self, SidebarBranch* branch, SidebarEntry* entry, SidebarEntry* old_parent) {
	SidebarTreeEntryWrapper* wrapper = NULL;
	SidebarEntry* _tmp0_ = NULL;
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	SidebarTreeEntryWrapper* _tmp2_ = NULL;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
	gboolean selected = FALSE;
	GtkTreePath* _tmp4_ = NULL;
	GtkTreePath* _tmp5_ = NULL;
	SidebarTreeEntryWrapper* _tmp6_ = NULL;
	GtkTreePath* _tmp7_ = NULL;
	GtkTreePath* _tmp8_ = NULL;
	gint _tmp9_ = 0;
	gboolean _tmp10_ = FALSE;
	GtkTreeIter iter = {0};
	SidebarTreeEntryWrapper* _tmp11_ = NULL;
	GtkTreeIter _tmp12_ = {0};
	GtkTreeStore* _tmp13_ = NULL;
	SidebarEntry* parent = NULL;
	SidebarBranch* _tmp14_ = NULL;
	SidebarEntry* _tmp15_ = NULL;
	SidebarEntry* _tmp16_ = NULL;
	SidebarEntry* _tmp17_ = NULL;
	SidebarTreeEntryWrapper* parent_wrapper = NULL;
	SidebarEntry* _tmp18_ = NULL;
	SidebarTreeEntryWrapper* _tmp19_ = NULL;
	SidebarTreeEntryWrapper* _tmp20_ = NULL;
	GtkTreeIter* prev_iter = NULL;
	SidebarEntry* prev = NULL;
	SidebarBranch* _tmp21_ = NULL;
	SidebarEntry* _tmp22_ = NULL;
	SidebarEntry* _tmp23_ = NULL;
	SidebarEntry* _tmp24_ = NULL;
	GtkTreeIter new_iter = {0};
	GtkTreeStore* _tmp31_ = NULL;
	SidebarTreeEntryWrapper* _tmp32_ = NULL;
	GtkTreeIter _tmp33_ = {0};
	GtkTreeIter* _tmp34_ = NULL;
	GtkTreeIter _tmp35_ = {0};
	SidebarTreeEntryWrapper* new_wrapper = NULL;
	GtkTreeIter _tmp36_ = {0};
	SidebarTreeEntryWrapper* _tmp37_ = NULL;
	SidebarTreeEntryWrapper* _tmp38_ = NULL;
	gboolean _tmp39_ = FALSE;
#line 669 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 669 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (branch));
#line 669 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 669 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (old_parent));
#line 671 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 671 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper (self, _tmp0_);
#line 671 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 672 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = wrapper;
#line 672 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (_tmp2_ != NULL, "wrapper != null");
#line 673 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = wrapper;
#line 673 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, SIDEBAR_TREE_TYPE_ROOT_WRAPPER), "!(wrapper is RootWrapper)");
#line 675 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = sidebar_tree_get_current_path (self);
#line 675 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = _tmp4_;
#line 675 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = wrapper;
#line 675 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = sidebar_tree_entry_wrapper_get_path (_tmp6_);
#line 675 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = _tmp7_;
#line 675 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp9_ = gtk_tree_path_compare (_tmp5_, _tmp8_);
#line 675 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp10_ = _tmp9_ == 0;
#line 675 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (_tmp8_);
#line 675 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (_tmp5_);
#line 675 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	selected = _tmp10_;
#line 678 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp11_ = wrapper;
#line 678 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_entry_wrapper_get_iter (_tmp11_, &_tmp12_);
#line 678 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	iter = _tmp12_;
#line 679 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp13_ = self->priv->store;
#line 679 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_store_remove (_tmp13_, &iter);
#line 681 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp14_ = branch;
#line 681 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp15_ = entry;
#line 681 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp16_ = sidebar_branch_get_parent (_tmp14_, _tmp15_);
#line 681 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	parent = _tmp16_;
#line 682 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp17_ = parent;
#line 682 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (_tmp17_ != NULL, "parent != null");
#line 684 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp18_ = parent;
#line 684 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp19_ = sidebar_tree_get_wrapper (self, _tmp18_);
#line 684 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	parent_wrapper = _tmp19_;
#line 685 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp20_ = parent_wrapper;
#line 685 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (_tmp20_ != NULL, "parent_wrapper != null");
#line 688 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	prev_iter = NULL;
#line 689 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp21_ = branch;
#line 689 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp22_ = entry;
#line 689 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp23_ = sidebar_branch_get_previous_sibling (_tmp21_, _tmp22_);
#line 689 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	prev = _tmp23_;
#line 690 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp24_ = prev;
#line 690 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp24_ != NULL) {
#line 4392 "Tree.c"
		SidebarTreeEntryWrapper* prev_wrapper = NULL;
		SidebarEntry* _tmp25_ = NULL;
		SidebarTreeEntryWrapper* _tmp26_ = NULL;
		SidebarTreeEntryWrapper* _tmp27_ = NULL;
		SidebarTreeEntryWrapper* _tmp28_ = NULL;
		GtkTreeIter _tmp29_ = {0};
		GtkTreeIter* _tmp30_ = NULL;
#line 691 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp25_ = prev;
#line 691 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp26_ = sidebar_tree_get_wrapper (self, _tmp25_);
#line 691 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		prev_wrapper = _tmp26_;
#line 692 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp27_ = prev_wrapper;
#line 692 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_vala_assert (_tmp27_ != NULL, "prev_wrapper != null");
#line 694 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp28_ = prev_wrapper;
#line 694 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		sidebar_tree_entry_wrapper_get_iter (_tmp28_, &_tmp29_);
#line 694 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp30_ = __gtk_tree_iter_dup0 (&_tmp29_);
#line 694 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_free0 (prev_iter);
#line 694 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		prev_iter = _tmp30_;
#line 690 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (prev_wrapper);
#line 4422 "Tree.c"
	}
#line 698 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp31_ = self->priv->store;
#line 698 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp32_ = parent_wrapper;
#line 698 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_entry_wrapper_get_iter (_tmp32_, &_tmp33_);
#line 698 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp34_ = prev_iter;
#line 698 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_store_insert_after (_tmp31_, &_tmp35_, &_tmp33_, _tmp34_);
#line 698 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	new_iter = _tmp35_;
#line 700 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp36_ = new_iter;
#line 700 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp37_ = wrapper;
#line 700 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp38_ = sidebar_tree_reparent_wrapper (self, &_tmp36_, _tmp37_);
#line 700 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	new_wrapper = _tmp38_;
#line 702 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp39_ = selected;
#line 702 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp39_) {
#line 4448 "Tree.c"
		SidebarTreeEntryWrapper* _tmp40_ = NULL;
		SidebarEntry* _tmp41_ = NULL;
		SidebarTreeEntryWrapper* _tmp42_ = NULL;
		SidebarEntry* _tmp43_ = NULL;
#line 703 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp40_ = new_wrapper;
#line 703 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp41_ = _tmp40_->entry;
#line 703 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		sidebar_tree_expand_to_entry (self, _tmp41_);
#line 704 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp42_ = new_wrapper;
#line 704 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp43_ = _tmp42_->entry;
#line 704 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		sidebar_tree_place_cursor (self, _tmp43_, FALSE);
#line 4465 "Tree.c"
	}
#line 669 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (new_wrapper);
#line 669 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (prev);
#line 669 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_free0 (prev_iter);
#line 669 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (parent_wrapper);
#line 669 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (parent);
#line 669 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 4479 "Tree.c"
}


static void sidebar_tree_on_branch_children_reordered (SidebarTree* self, SidebarBranch* branch, SidebarEntry* entry) {
	GeeList* children = NULL;
	SidebarBranch* _tmp0_ = NULL;
	SidebarEntry* _tmp1_ = NULL;
	GeeList* _tmp2_ = NULL;
	GeeList* _tmp3_ = NULL;
#line 708 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 708 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (branch));
#line 708 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 709 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = branch;
#line 709 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = entry;
#line 709 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = sidebar_branch_get_children (_tmp0_, _tmp1_);
#line 709 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	children = _tmp2_;
#line 710 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = children;
#line 710 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp3_ == NULL) {
#line 711 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (children);
#line 711 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return;
#line 4511 "Tree.c"
	}
	{
		GeeList* _child_list = NULL;
		GeeList* _tmp4_ = NULL;
		GeeList* _tmp5_ = NULL;
		gint _child_size = 0;
		GeeList* _tmp6_ = NULL;
		gint _tmp7_ = 0;
		gint _tmp8_ = 0;
		gint _child_index = 0;
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = children;
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = _g_object_ref0 (_tmp4_);
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_child_list = _tmp5_;
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = _child_list;
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = gee_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GEE_TYPE_COLLECTION, GeeCollection));
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = _tmp7_;
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_child_size = _tmp8_;
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_child_index = -1;
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		while (TRUE) {
#line 4540 "Tree.c"
			gint _tmp9_ = 0;
			gint _tmp10_ = 0;
			gint _tmp11_ = 0;
			SidebarEntry* child = NULL;
			GeeList* _tmp12_ = NULL;
			gint _tmp13_ = 0;
			gpointer _tmp14_ = NULL;
			SidebarTreeEntryWrapper* child_wrapper = NULL;
			SidebarEntry* _tmp15_ = NULL;
			SidebarTreeEntryWrapper* _tmp16_ = NULL;
			SidebarTreeEntryWrapper* _tmp17_ = NULL;
			GtkTreeIter child_iter = {0};
			SidebarTreeEntryWrapper* _tmp18_ = NULL;
			GtkTreeIter _tmp19_ = {0};
			GtkTreeStore* _tmp20_ = NULL;
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp9_ = _child_index;
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_child_index = _tmp9_ + 1;
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp10_ = _child_index;
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp11_ = _child_size;
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			if (!(_tmp10_ < _tmp11_)) {
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				break;
#line 4568 "Tree.c"
			}
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp12_ = _child_list;
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp13_ = _child_index;
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp14_ = gee_list_get (_tmp12_, _tmp13_);
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			child = (SidebarEntry*) _tmp14_;
#line 716 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp15_ = child;
#line 716 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp16_ = sidebar_tree_get_wrapper (self, _tmp15_);
#line 716 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			child_wrapper = _tmp16_;
#line 717 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp17_ = child_wrapper;
#line 717 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_vala_assert (_tmp17_ != NULL, "child_wrapper != null");
#line 719 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp18_ = child_wrapper;
#line 719 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			sidebar_tree_entry_wrapper_get_iter (_tmp18_, &_tmp19_);
#line 719 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			child_iter = _tmp19_;
#line 720 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp20_ = self->priv->store;
#line 720 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			gtk_tree_store_move_before (_tmp20_, &child_iter, NULL);
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (child_wrapper);
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (child);
#line 4602 "Tree.c"
		}
#line 715 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (_child_list);
#line 4606 "Tree.c"
	}
#line 708 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (children);
#line 4610 "Tree.c"
}


static void sidebar_tree_on_show_branch (SidebarTree* self, SidebarBranch* branch, gboolean shown) {
	gboolean _tmp0_ = FALSE;
	SidebarBranch* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
#line 724 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 724 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (branch));
#line 725 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = shown;
#line 725 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp0_) {
#line 4626 "Tree.c"
		SidebarBranch* _tmp1_ = NULL;
#line 726 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp1_ = branch;
#line 726 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		sidebar_tree_associate_branch (self, _tmp1_);
#line 4632 "Tree.c"
	} else {
		SidebarBranch* _tmp2_ = NULL;
#line 728 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp2_ = branch;
#line 728 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		sidebar_tree_disassociate_branch (self, _tmp2_);
#line 4639 "Tree.c"
	}
#line 730 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = branch;
#line 730 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = shown;
#line 730 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_emit_by_name (self, "branch-shown", _tmp3_, _tmp4_);
#line 4647 "Tree.c"
}


static void sidebar_tree_on_sidebar_tooltip_changed (SidebarTree* self, SidebarEntry* entry, const gchar* tooltip) {
	SidebarTreeEntryWrapper* wrapper = NULL;
	SidebarEntry* _tmp0_ = NULL;
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	GtkTreeStore* _tmp2_ = NULL;
	GtkTreeIter _tmp3_ = {0};
	const gchar* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	gchar* _tmp6_ = NULL;
#line 733 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 733 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 734 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 734 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper (self, _tmp0_);
#line 734 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 735 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (wrapper != NULL, "wrapper != null");
#line 737 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = self->priv->store;
#line 737 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_entry_wrapper_get_iter (wrapper, &_tmp3_);
#line 737 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = tooltip;
#line 737 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = guarded_markup_escape_text (_tmp4_);
#line 737 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = _tmp5_;
#line 737 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_store_set (_tmp2_, &_tmp3_, SIDEBAR_TREE_COLUMNS_TOOLTIP, _tmp6_, -1);
#line 737 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_free0 (_tmp6_);
#line 733 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 4688 "Tree.c"
}


static void sidebar_tree_on_sidebar_icon_changed (SidebarTree* self, SidebarEntry* entry, const gchar* icon) {
	SidebarTreeEntryWrapper* wrapper = NULL;
	SidebarEntry* _tmp0_ = NULL;
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	GtkTreeStore* _tmp2_ = NULL;
	GtkTreeIter _tmp3_ = {0};
	const gchar* _tmp4_ = NULL;
#line 740 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 740 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 741 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 741 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper (self, _tmp0_);
#line 741 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 742 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (wrapper != NULL, "wrapper != null");
#line 744 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = self->priv->store;
#line 744 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_entry_wrapper_get_iter (wrapper, &_tmp3_);
#line 744 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = icon;
#line 744 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_store_set (_tmp2_, &_tmp3_, SIDEBAR_TREE_COLUMNS_ICON, _tmp4_, -1);
#line 740 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 4721 "Tree.c"
}


static void sidebar_tree_rename_entry (SidebarTree* self, SidebarEntry* entry) {
	SidebarTreeEntryWrapper* wrapper = NULL;
	SidebarEntry* _tmp0_ = NULL;
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	GtkTreeStore* _tmp2_ = NULL;
	GtkTreeIter _tmp3_ = {0};
	SidebarEntry* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	gchar* _tmp6_ = NULL;
#line 747 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 747 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 748 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 748 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper (self, _tmp0_);
#line 748 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 749 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (wrapper != NULL, "wrapper != null");
#line 751 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = self->priv->store;
#line 751 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_entry_wrapper_get_iter (wrapper, &_tmp3_);
#line 751 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = entry;
#line 751 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = sidebar_tree_get_name_for_entry (self, _tmp4_);
#line 751 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = _tmp5_;
#line 751 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_store_set (_tmp2_, &_tmp3_, SIDEBAR_TREE_COLUMNS_NAME, _tmp6_, -1);
#line 751 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_free0 (_tmp6_);
#line 747 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 4762 "Tree.c"
}


static void sidebar_tree_on_sidebar_name_changed (SidebarTree* self, SidebarEntry* entry, const gchar* name) {
	SidebarEntry* _tmp0_ = NULL;
#line 754 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 754 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 754 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (name != NULL);
#line 755 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 755 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_rename_entry (self, _tmp0_);
#line 4778 "Tree.c"
}


static void sidebar_tree_on_sidebar_page_created (SidebarTree* self, SidebarPageRepresentative* entry, Page* page) {
	SidebarPageRepresentative* _tmp0_ = NULL;
	Page* _tmp1_ = NULL;
#line 758 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 758 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_PAGE_REPRESENTATIVE (entry));
#line 758 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (IS_PAGE (page));
#line 759 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 759 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = page;
#line 759 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_emit_by_name (self, "page-created", _tmp0_, _tmp1_);
#line 4797 "Tree.c"
}


static void sidebar_tree_on_is_emphasized_changed (SidebarTree* self, SidebarEmphasizableEntry* entry, gboolean is_emphasized) {
	SidebarEmphasizableEntry* _tmp0_ = NULL;
#line 762 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 762 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_EMPHASIZABLE_ENTRY (entry));
#line 763 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 763 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_rename_entry (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, SIDEBAR_TYPE_ENTRY, SidebarEntry));
#line 4811 "Tree.c"
}


static void sidebar_tree_on_sidebar_destroying_page (SidebarTree* self, SidebarPageRepresentative* entry, Page* page) {
	SidebarPageRepresentative* _tmp0_ = NULL;
	Page* _tmp1_ = NULL;
#line 766 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 766 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_PAGE_REPRESENTATIVE (entry));
#line 766 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (IS_PAGE (page));
#line 767 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 767 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = page;
#line 767 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_emit_by_name (self, "destroying-page", _tmp0_, _tmp1_);
#line 4830 "Tree.c"
}


static void sidebar_tree_load_entry_icons (SidebarTree* self, GtkTreeIter* iter) {
	SidebarTreeEntryWrapper* wrapper = NULL;
	GtkTreeIter _tmp0_ = {0};
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	SidebarTreeEntryWrapper* _tmp2_ = NULL;
	gchar* icon = NULL;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
	SidebarEntry* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	GtkTreeStore* _tmp6_ = NULL;
	GtkTreeIter _tmp7_ = {0};
	const gchar* _tmp8_ = NULL;
#line 770 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 770 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (iter != NULL);
#line 771 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = *iter;
#line 771 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper_at_iter (self, &_tmp0_);
#line 771 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 772 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = wrapper;
#line 772 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp2_ == NULL) {
#line 773 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 773 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return;
#line 4864 "Tree.c"
	}
#line 774 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = wrapper;
#line 774 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = _tmp3_->entry;
#line 774 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = sidebar_entry_get_sidebar_icon (_tmp4_);
#line 774 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	icon = _tmp5_;
#line 775 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = self->priv->store;
#line 775 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = *iter;
#line 775 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = icon;
#line 775 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_store_set (_tmp6_, &_tmp7_, SIDEBAR_TREE_COLUMNS_ICON, _tmp8_, -1);
#line 770 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_free0 (icon);
#line 770 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 4886 "Tree.c"
}


static void sidebar_tree_load_branch_icons (SidebarTree* self, GtkTreeIter* iter) {
	GtkTreeIter _tmp0_ = {0};
	GtkTreeIter child_iter = {0};
	GtkTreeStore* _tmp1_ = NULL;
	GtkTreeIter _tmp2_ = {0};
	GtkTreeIter _tmp3_ = {0};
	gboolean _tmp4_ = FALSE;
#line 778 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 778 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (iter != NULL);
#line 779 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = *iter;
#line 779 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_load_entry_icons (self, &_tmp0_);
#line 782 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = self->priv->store;
#line 782 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = *iter;
#line 782 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = gtk_tree_model_iter_children (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &_tmp3_, &_tmp2_);
#line 782 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	child_iter = _tmp3_;
#line 782 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp4_) {
#line 4915 "Tree.c"
		{
			gboolean _tmp5_ = FALSE;
#line 783 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp5_ = TRUE;
#line 783 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			while (TRUE) {
#line 4922 "Tree.c"
				GtkTreeIter _tmp8_ = {0};
#line 783 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				if (!_tmp5_) {
#line 4926 "Tree.c"
					GtkTreeStore* _tmp6_ = NULL;
					gboolean _tmp7_ = FALSE;
#line 785 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
					_tmp6_ = self->priv->store;
#line 785 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
					_tmp7_ = gtk_tree_model_iter_next (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &child_iter);
#line 785 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
					if (!_tmp7_) {
#line 785 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
						break;
#line 4937 "Tree.c"
					}
				}
#line 783 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp5_ = FALSE;
#line 784 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp8_ = child_iter;
#line 784 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				sidebar_tree_load_branch_icons (self, &_tmp8_);
#line 4946 "Tree.c"
			}
		}
	}
}


static gboolean sidebar_tree_on_selection (SidebarTree* self, GtkTreeSelection* selection, GtkTreeModel* model, GtkTreePath* path, gboolean path_currently_selected) {
	gboolean result = FALSE;
	SidebarTreeEntryWrapper* wrapper = NULL;
	GtkTreePath* _tmp0_ = NULL;
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
#line 789 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 789 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (GTK_IS_TREE_SELECTION (selection), FALSE);
#line 789 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (GTK_IS_TREE_MODEL (model), FALSE);
#line 789 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (path != NULL, FALSE);
#line 792 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = path;
#line 792 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper_at_path (self, _tmp0_);
#line 792 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 794 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = wrapper;
#line 794 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp3_ != NULL) {
#line 4978 "Tree.c"
		SidebarTreeEntryWrapper* _tmp4_ = NULL;
		SidebarEntry* _tmp5_ = NULL;
#line 794 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = wrapper;
#line 794 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = _tmp4_->entry;
#line 794 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp2_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp5_, SIDEBAR_TYPE_SELECTABLE_ENTRY);
#line 4987 "Tree.c"
	} else {
#line 794 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp2_ = FALSE;
#line 4991 "Tree.c"
	}
#line 794 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = _tmp2_;
#line 794 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 794 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 4999 "Tree.c"
}


static GtkTreePath* sidebar_tree_get_path_from_event (SidebarTree* self, GdkEventButton* event) {
	GtkTreePath* result = NULL;
	gint x = 0;
	gint y = 0;
	GdkModifierType mask = 0;
	GdkEventButton* _tmp0_ = NULL;
	GdkWindow* _tmp1_ = NULL;
	GdkDisplay* _tmp2_ = NULL;
	GdkDeviceManager* _tmp3_ = NULL;
	GdkDevice* _tmp4_ = NULL;
	gint _tmp5_ = 0;
	gint _tmp6_ = 0;
	GdkModifierType _tmp7_ = 0;
	gint cell_x = 0;
	gint cell_y = 0;
	GtkTreePath* path = NULL;
	GtkTreePath* _tmp8_ = NULL;
	gint _tmp9_ = 0;
	gint _tmp10_ = 0;
	GtkTreePath* _tmp11_ = NULL;
	gint _tmp12_ = 0;
	gint _tmp13_ = 0;
	gboolean _tmp14_ = FALSE;
	GtkTreePath* _tmp16_ = NULL;
#line 797 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), NULL);
#line 797 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (event != NULL, NULL);
#line 800 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = event;
#line 800 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = _tmp0_->window;
#line 800 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = gdk_display_get_default ();
#line 800 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = gdk_display_get_device_manager (_tmp2_);
#line 800 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = gdk_device_manager_get_client_pointer (_tmp3_);
#line 800 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gdk_window_get_device_position (_tmp1_, _tmp4_, &_tmp5_, &_tmp6_, &_tmp7_);
#line 800 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	x = _tmp5_;
#line 800 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	y = _tmp6_;
#line 800 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	mask = _tmp7_;
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp9_ = x;
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp10_ = y;
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp14_ = gtk_tree_view_get_path_at_pos (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp9_, _tmp10_, &_tmp11_, NULL, &_tmp12_, &_tmp13_);
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (path);
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	path = _tmp11_;
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	cell_x = _tmp12_;
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	cell_y = _tmp13_;
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp14_) {
#line 5065 "Tree.c"
		GtkTreePath* _tmp15_ = NULL;
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp15_ = path;
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = _tmp15_;
#line 5071 "Tree.c"
	} else {
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = NULL;
#line 5075 "Tree.c"
	}
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp16_ = _gtk_tree_path_copy0 (_tmp8_);
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = _tmp16_;
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (path);
#line 805 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 5085 "Tree.c"
}


static GtkTreePath* sidebar_tree_get_current_path (SidebarTree* self) {
	GtkTreePath* result = NULL;
	GtkTreeModel* model = NULL;
	GList* rows = NULL;
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeModel* _tmp1_ = NULL;
	GList* _tmp2_ = NULL;
	GtkTreeModel* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	GList* _tmp5_ = NULL;
	guint _tmp6_ = 0U;
	GtkTreePath* _tmp9_ = NULL;
	GList* _tmp10_ = NULL;
	guint _tmp11_ = 0U;
	GtkTreePath* _tmp14_ = NULL;
#line 808 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), NULL);
#line 810 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = gtk_tree_view_get_selection (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView));
#line 810 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = gtk_tree_selection_get_selected_rows (_tmp0_, &_tmp1_);
#line 810 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (model);
#line 810 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = _g_object_ref0 (_tmp1_);
#line 810 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	model = _tmp3_;
#line 810 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	rows = _tmp2_;
#line 811 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = rows;
#line 811 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = g_list_length (_tmp5_);
#line 811 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp6_ == ((guint) 0)) {
#line 811 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = TRUE;
#line 5126 "Tree.c"
	} else {
		GList* _tmp7_ = NULL;
		guint _tmp8_ = 0U;
#line 811 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = rows;
#line 811 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = g_list_length (_tmp7_);
#line 811 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = _tmp8_ == ((guint) 1);
#line 5136 "Tree.c"
	}
#line 811 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (_tmp4_, "rows.length() == 0 || rows.length() == 1");
#line 813 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp10_ = rows;
#line 813 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp11_ = g_list_length (_tmp10_);
#line 813 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp11_ != ((guint) 0)) {
#line 5146 "Tree.c"
		GList* _tmp12_ = NULL;
		gconstpointer _tmp13_ = NULL;
#line 813 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp12_ = rows;
#line 813 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp13_ = g_list_nth_data (_tmp12_, (guint) 0);
#line 813 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = (GtkTreePath*) _tmp13_;
#line 5155 "Tree.c"
	} else {
#line 813 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = NULL;
#line 5159 "Tree.c"
	}
#line 813 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp14_ = _gtk_tree_path_copy0 (_tmp9_);
#line 813 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = _tmp14_;
#line 813 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	__g_list_free__gtk_tree_path_free0_0 (rows);
#line 813 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (model);
#line 813 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 5171 "Tree.c"
}


static gboolean sidebar_tree_on_context_menu_keypress (SidebarTree* self) {
	gboolean result = FALSE;
	GList* rows = NULL;
	GtkTreeSelection* _tmp0_ = NULL;
	GList* _tmp1_ = NULL;
	GList* _tmp2_ = NULL;
	GtkTreePath* path = NULL;
	GList* _tmp3_ = NULL;
	gconstpointer _tmp4_ = NULL;
	GtkTreePath* _tmp5_ = NULL;
	GtkTreePath* _tmp6_ = NULL;
	GtkTreePath* _tmp7_ = NULL;
	GtkTreePath* _tmp8_ = NULL;
	gboolean _tmp9_ = FALSE;
#line 816 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 817 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = gtk_tree_view_get_selection (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView));
#line 817 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = gtk_tree_selection_get_selected_rows (_tmp0_, NULL);
#line 817 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	rows = _tmp1_;
#line 818 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = rows;
#line 818 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp2_ == NULL) {
#line 819 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 819 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		__g_list_free__gtk_tree_path_free0_0 (rows);
#line 819 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 5207 "Tree.c"
	}
#line 821 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = rows;
#line 821 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = _tmp3_->data;
#line 821 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = _gtk_tree_path_copy0 ((GtkTreePath*) _tmp4_);
#line 821 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	path = _tmp5_;
#line 822 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = path;
#line 822 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp6_ == NULL) {
#line 823 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 823 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_gtk_tree_path_free0 (path);
#line 823 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		__g_list_free__gtk_tree_path_free0_0 (rows);
#line 823 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 5229 "Tree.c"
	}
#line 825 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = path;
#line 825 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_scroll_to_cell (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp7_, NULL, FALSE, (gfloat) 0, (gfloat) 0);
#line 827 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = path;
#line 827 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp9_ = sidebar_tree_popup_context_menu (self, _tmp8_, NULL);
#line 827 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = _tmp9_;
#line 827 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (path);
#line 827 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	__g_list_free__gtk_tree_path_free0_0 (rows);
#line 827 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 5247 "Tree.c"
}


static gboolean sidebar_tree_popup_context_menu (SidebarTree* self, GtkTreePath* path, GdkEventButton* event) {
	gboolean result = FALSE;
	SidebarTreeEntryWrapper* wrapper = NULL;
	GtkTreePath* _tmp0_ = NULL;
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	SidebarTreeEntryWrapper* _tmp2_ = NULL;
	SidebarContextable* contextable = NULL;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
	SidebarEntry* _tmp4_ = NULL;
	SidebarContextable* _tmp5_ = NULL;
	SidebarContextable* _tmp6_ = NULL;
	SidebarSelectableEntry* selectable = NULL;
	SidebarTreeEntryWrapper* _tmp7_ = NULL;
	SidebarEntry* _tmp8_ = NULL;
	SidebarSelectableEntry* _tmp9_ = NULL;
	SidebarSelectableEntry* _tmp10_ = NULL;
	GtkMenu* context_menu = NULL;
	SidebarContextable* _tmp12_ = NULL;
	GdkEventButton* _tmp13_ = NULL;
	GtkMenu* _tmp14_ = NULL;
	GtkMenu* _tmp15_ = NULL;
	GtkMenu* _tmp16_ = NULL;
	GtkWidget* _tmp17_ = NULL;
	GdkEventButton* _tmp19_ = NULL;
#line 830 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 830 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (path != NULL, FALSE);
#line 831 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = path;
#line 831 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper_at_path (self, _tmp0_);
#line 831 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 832 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = wrapper;
#line 832 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp2_ == NULL) {
#line 833 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 833 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 833 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 5295 "Tree.c"
	}
#line 835 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = wrapper;
#line 835 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = _tmp3_->entry;
#line 835 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, SIDEBAR_TYPE_CONTEXTABLE) ? ((SidebarContextable*) _tmp4_) : NULL);
#line 835 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	contextable = _tmp5_;
#line 836 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = contextable;
#line 836 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp6_ == NULL) {
#line 837 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 837 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (contextable);
#line 837 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 837 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 5317 "Tree.c"
	}
#line 840 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = wrapper;
#line 840 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = _tmp7_->entry;
#line 840 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp9_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp8_, SIDEBAR_TYPE_SELECTABLE_ENTRY) ? ((SidebarSelectableEntry*) _tmp8_) : NULL);
#line 840 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	selectable = _tmp9_;
#line 841 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp10_ = selectable;
#line 841 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp10_ != NULL) {
#line 5331 "Tree.c"
		SidebarSelectableEntry* _tmp11_ = NULL;
#line 842 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = selectable;
#line 842 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_emit_by_name (self, "entry-selected", _tmp11_);
#line 5337 "Tree.c"
	}
#line 844 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp12_ = contextable;
#line 844 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp13_ = event;
#line 844 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp14_ = sidebar_contextable_get_sidebar_context_menu (_tmp12_, _tmp13_);
#line 844 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	context_menu = _tmp14_;
#line 845 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp15_ = context_menu;
#line 845 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp15_ == NULL) {
#line 846 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 846 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (context_menu);
#line 846 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (selectable);
#line 846 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (contextable);
#line 846 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 846 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 5363 "Tree.c"
	}
#line 848 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp16_ = context_menu;
#line 848 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp17_ = gtk_menu_get_attach_widget (_tmp16_);
#line 848 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp17_ == NULL) {
#line 5371 "Tree.c"
		GtkMenu* _tmp18_ = NULL;
#line 849 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp18_ = context_menu;
#line 849 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_menu_attach_to_widget (_tmp18_, G_TYPE_CHECK_INSTANCE_CAST (self, gtk_widget_get_type (), GtkWidget), NULL);
#line 5377 "Tree.c"
	}
#line 852 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp19_ = event;
#line 852 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp19_ != NULL) {
#line 5383 "Tree.c"
		GtkMenu* _tmp20_ = NULL;
		GdkEventButton* _tmp21_ = NULL;
		guint _tmp22_ = 0U;
		GdkEventButton* _tmp23_ = NULL;
		guint32 _tmp24_ = 0U;
#line 853 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp20_ = context_menu;
#line 853 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp21_ = event;
#line 853 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp22_ = _tmp21_->button;
#line 853 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp23_ = event;
#line 853 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp24_ = _tmp23_->time;
#line 853 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_menu_popup (_tmp20_, NULL, NULL, NULL, NULL, _tmp22_, _tmp24_);
#line 5401 "Tree.c"
	} else {
		GtkMenu* _tmp25_ = NULL;
		guint32 _tmp26_ = 0U;
#line 855 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp25_ = context_menu;
#line 855 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp26_ = gtk_get_current_event_time ();
#line 855 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_menu_popup (_tmp25_, NULL, NULL, NULL, NULL, (guint) 0, _tmp26_);
#line 5411 "Tree.c"
	}
#line 857 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = TRUE;
#line 857 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (context_menu);
#line 857 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (selectable);
#line 857 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (contextable);
#line 857 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 857 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 5425 "Tree.c"
}


static gboolean sidebar_tree_popup_default_context_menu (SidebarTree* self, GdkEventButton* event) {
	gboolean result = FALSE;
	GtkMenu* _tmp0_ = NULL;
	GdkEventButton* _tmp1_ = NULL;
	guint _tmp2_ = 0U;
	GdkEventButton* _tmp3_ = NULL;
	guint32 _tmp4_ = 0U;
#line 860 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 860 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 861 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->priv->default_context_menu;
#line 861 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = event;
#line 861 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = _tmp1_->button;
#line 861 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = event;
#line 861 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = _tmp3_->time;
#line 861 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_menu_popup (_tmp0_, NULL, NULL, NULL, NULL, _tmp2_, _tmp4_);
#line 862 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = TRUE;
#line 862 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 5456 "Tree.c"
}


gboolean sidebar_tree_on_toggle_row (SidebarTree* self, GtkTreeIter* iter, GtkTreePath* path) {
	gboolean result = FALSE;
	SidebarTreeEntryWrapper* wrapper = NULL;
	GtkTreeIter _tmp0_ = {0};
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	SidebarTreeEntryWrapper* _tmp2_ = NULL;
	gboolean should_allow_toggle = FALSE;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
	GtkTreePath* _tmp6_ = NULL;
	gboolean _tmp7_ = FALSE;
	gboolean _tmp16_ = FALSE;
#line 865 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 865 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (iter != NULL, FALSE);
#line 865 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (path != NULL, FALSE);
#line 867 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = *iter;
#line 867 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper_at_iter (self, &_tmp0_);
#line 867 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 868 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = wrapper;
#line 868 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp2_ == NULL) {
#line 869 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 869 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 869 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 5495 "Tree.c"
	}
#line 873 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = self->priv->expander_called_manually;
#line 873 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	should_allow_toggle = _tmp3_;
#line 876 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->expander_called_manually = FALSE;
#line 879 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = path;
#line 879 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = gtk_tree_view_row_expanded (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp6_);
#line 879 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp7_) {
#line 5509 "Tree.c"
		GtkTreeStore* _tmp8_ = NULL;
		GtkTreeIter _tmp9_ = {0};
		gboolean _tmp10_ = FALSE;
#line 879 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = self->priv->store;
#line 879 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = *iter;
#line 879 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = gtk_tree_model_iter_has_child (G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &_tmp9_);
#line 879 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = _tmp10_;
#line 5521 "Tree.c"
	} else {
#line 879 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = FALSE;
#line 5525 "Tree.c"
	}
#line 879 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp5_) {
#line 5529 "Tree.c"
		SidebarTreeEntryWrapper* _tmp11_ = NULL;
		SidebarEntry* _tmp12_ = NULL;
#line 879 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = wrapper;
#line 879 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp12_ = _tmp11_->entry;
#line 879 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp12_, SIDEBAR_TYPE_SELECTABLE_ENTRY);
#line 5538 "Tree.c"
	} else {
#line 879 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = FALSE;
#line 5542 "Tree.c"
	}
#line 879 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp4_) {
#line 5546 "Tree.c"
		gint _tmp13_ = 0;
		gint _tmp14_ = 0;
#line 881 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp13_ = self->priv->expander_special_count;
#line 881 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		self->priv->expander_special_count = _tmp13_ + 1;
#line 882 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp14_ = self->priv->expander_special_count;
#line 882 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp14_ == 1) {
#line 884 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			result = TRUE;
#line 884 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (wrapper);
#line 884 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			return result;
#line 5563 "Tree.c"
		} else {
			gboolean _tmp15_ = FALSE;
#line 887 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp15_ = should_allow_toggle;
#line 887 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			should_allow_toggle = !_tmp15_;
#line 5570 "Tree.c"
		}
	} else {
#line 891 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		self->priv->expander_special_count = 0;
#line 5575 "Tree.c"
	}
#line 894 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp16_ = should_allow_toggle;
#line 894 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp16_) {
#line 895 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 895 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 895 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 5587 "Tree.c"
	}
#line 898 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = TRUE;
#line 898 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 898 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 5595 "Tree.c"
}


static gboolean sidebar_tree_real_button_press_event (GtkWidget* base, GdkEventButton* event) {
	SidebarTree * self;
	gboolean result = FALSE;
	GtkTreePath* path = NULL;
	GdkEventButton* _tmp0_ = NULL;
	GtkTreePath* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	GtkTreePath* _tmp3_ = NULL;
	gboolean _tmp6_ = FALSE;
	GdkEventButton* _tmp7_ = NULL;
	guint _tmp8_ = 0U;
	GdkEventButton* _tmp58_ = NULL;
	gboolean _tmp59_ = FALSE;
#line 901 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, SIDEBAR_TYPE_TREE, SidebarTree);
#line 901 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 902 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = event;
#line 902 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_path_from_event (self, _tmp0_);
#line 902 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	path = _tmp1_;
#line 905 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = path;
#line 905 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp3_ == NULL) {
#line 5626 "Tree.c"
		GdkEventButton* _tmp4_ = NULL;
		guint _tmp5_ = 0U;
#line 905 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = event;
#line 905 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = _tmp4_->button;
#line 905 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp2_ = _tmp5_ != ((guint) 3);
#line 5635 "Tree.c"
	} else {
#line 905 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp2_ = FALSE;
#line 5639 "Tree.c"
	}
#line 905 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp2_) {
#line 906 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = TRUE;
#line 906 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_gtk_tree_path_free0 (path);
#line 906 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 5649 "Tree.c"
	}
#line 909 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = event;
#line 909 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = _tmp7_->button;
#line 909 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp8_ == ((guint) 3)) {
#line 5657 "Tree.c"
		GdkEventButton* _tmp9_ = NULL;
		GdkEventType _tmp10_ = 0;
#line 909 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = event;
#line 909 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = _tmp9_->type;
#line 909 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = _tmp10_ == GDK_BUTTON_PRESS;
#line 5666 "Tree.c"
	} else {
#line 909 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = FALSE;
#line 5670 "Tree.c"
	}
#line 909 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp6_) {
#line 5674 "Tree.c"
		GtkTreePath* _tmp11_ = NULL;
#line 911 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = path;
#line 911 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp11_ != NULL) {
#line 5680 "Tree.c"
			GtkTreePath* _tmp12_ = NULL;
			GdkEventButton* _tmp13_ = NULL;
#line 912 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp12_ = path;
#line 912 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp13_ = event;
#line 912 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			sidebar_tree_popup_context_menu (self, _tmp12_, _tmp13_);
#line 5689 "Tree.c"
		} else {
			GdkEventButton* _tmp14_ = NULL;
#line 914 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp14_ = event;
#line 914 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			sidebar_tree_popup_default_context_menu (self, _tmp14_);
#line 5696 "Tree.c"
		}
	} else {
		gboolean _tmp15_ = FALSE;
		GdkEventButton* _tmp16_ = NULL;
		guint _tmp17_ = 0U;
#line 915 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp16_ = event;
#line 915 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp17_ = _tmp16_->button;
#line 915 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp17_ == ((guint) 1)) {
#line 5708 "Tree.c"
			GdkEventButton* _tmp18_ = NULL;
			GdkEventType _tmp19_ = 0;
#line 915 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp18_ = event;
#line 915 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp19_ = _tmp18_->type;
#line 915 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp15_ = _tmp19_ == GDK_BUTTON_PRESS;
#line 5717 "Tree.c"
		} else {
#line 915 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp15_ = FALSE;
#line 5721 "Tree.c"
		}
#line 915 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp15_) {
#line 5725 "Tree.c"
			GtkTreePath* _tmp20_ = NULL;
			SidebarTreeEntryWrapper* wrapper = NULL;
			GtkTreePath* _tmp23_ = NULL;
			SidebarTreeEntryWrapper* _tmp24_ = NULL;
			SidebarTreeEntryWrapper* _tmp25_ = NULL;
			gboolean _tmp28_ = FALSE;
			SidebarTreeEntryWrapper* _tmp29_ = NULL;
			SidebarEntry* _tmp30_ = NULL;
			gboolean _tmp34_ = FALSE;
			gboolean _tmp35_ = FALSE;
			const GtkTreeRowReference* _tmp36_ = NULL;
			gboolean _tmp48_ = FALSE;
			SidebarTreeEntryWrapper* _tmp49_ = NULL;
			SidebarEntry* _tmp50_ = NULL;
			GtkTreeStore* _tmp55_ = NULL;
			GtkTreePath* _tmp56_ = NULL;
			GtkTreeRowReference* _tmp57_ = NULL;
#line 916 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp20_ = path;
#line 916 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			if (_tmp20_ == NULL) {
#line 5747 "Tree.c"
				GdkEventButton* _tmp21_ = NULL;
				gboolean _tmp22_ = FALSE;
#line 917 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_gtk_tree_row_reference_free0 (self->priv->old_path_ref);
#line 917 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				self->priv->old_path_ref = NULL;
#line 918 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp21_ = event;
#line 918 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp22_ = GTK_WIDGET_CLASS (sidebar_tree_parent_class)->button_press_event (G_TYPE_CHECK_INSTANCE_CAST (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), gtk_widget_get_type (), GtkWidget), _tmp21_);
#line 918 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				result = _tmp22_;
#line 918 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_gtk_tree_path_free0 (path);
#line 918 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				return result;
#line 5764 "Tree.c"
			}
#line 921 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp23_ = path;
#line 921 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp24_ = sidebar_tree_get_wrapper_at_path (self, _tmp23_);
#line 921 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			wrapper = _tmp24_;
#line 923 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp25_ = wrapper;
#line 923 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			if (_tmp25_ == NULL) {
#line 5776 "Tree.c"
				GdkEventButton* _tmp26_ = NULL;
				gboolean _tmp27_ = FALSE;
#line 924 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_gtk_tree_row_reference_free0 (self->priv->old_path_ref);
#line 924 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				self->priv->old_path_ref = NULL;
#line 925 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp26_ = event;
#line 925 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp27_ = GTK_WIDGET_CLASS (sidebar_tree_parent_class)->button_press_event (G_TYPE_CHECK_INSTANCE_CAST (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), gtk_widget_get_type (), GtkWidget), _tmp26_);
#line 925 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				result = _tmp27_;
#line 925 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_g_object_unref0 (wrapper);
#line 925 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_gtk_tree_path_free0 (path);
#line 925 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				return result;
#line 5795 "Tree.c"
			}
#line 929 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp29_ = wrapper;
#line 929 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp30_ = _tmp29_->entry;
#line 929 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp30_, SIDEBAR_TYPE_EXPANDABLE_ENTRY)) {
#line 929 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp28_ = TRUE;
#line 5805 "Tree.c"
			} else {
				SidebarTreeEntryWrapper* _tmp31_ = NULL;
				SidebarEntry* _tmp32_ = NULL;
#line 930 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp31_ = wrapper;
#line 930 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp32_ = _tmp31_->entry;
#line 930 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp28_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp32_, SIDEBAR_TYPE_INTERNAL_DROP_TARGET_ENTRY);
#line 5815 "Tree.c"
			}
#line 929 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			if (_tmp28_) {
#line 5819 "Tree.c"
				GtkTreePath* _tmp33_ = NULL;
#line 932 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp33_ = path;
#line 932 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				sidebar_tree_toggle_branch_expansion (self, _tmp33_, FALSE);
#line 5825 "Tree.c"
			}
#line 936 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp36_ = self->priv->old_path_ref;
#line 936 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			if (_tmp36_ != NULL) {
#line 5831 "Tree.c"
				const GtkTreeRowReference* _tmp37_ = NULL;
				GtkTreePath* _tmp38_ = NULL;
				GtkTreePath* _tmp39_ = NULL;
#line 936 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp37_ = self->priv->old_path_ref;
#line 936 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp38_ = gtk_tree_row_reference_get_path (_tmp37_);
#line 936 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp39_ = _tmp38_;
#line 936 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp35_ = _tmp39_ != NULL;
#line 936 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_gtk_tree_path_free0 (_tmp39_);
#line 5845 "Tree.c"
			} else {
#line 936 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp35_ = FALSE;
#line 5849 "Tree.c"
			}
#line 936 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			if (_tmp35_) {
#line 5853 "Tree.c"
				const GtkTreeRowReference* _tmp40_ = NULL;
				GtkTreePath* _tmp41_ = NULL;
				GtkTreePath* _tmp42_ = NULL;
				GtkTreePath* _tmp43_ = NULL;
				gint _tmp44_ = 0;
#line 937 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp40_ = self->priv->old_path_ref;
#line 937 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp41_ = gtk_tree_row_reference_get_path (_tmp40_);
#line 937 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp42_ = _tmp41_;
#line 937 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp43_ = path;
#line 937 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp44_ = gtk_tree_path_compare (_tmp42_, _tmp43_);
#line 937 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp34_ = _tmp44_ == 0;
#line 937 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_gtk_tree_path_free0 (_tmp42_);
#line 5873 "Tree.c"
			} else {
#line 936 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp34_ = FALSE;
#line 5877 "Tree.c"
			}
#line 936 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			if (_tmp34_) {
#line 5881 "Tree.c"
				GtkCellRendererText* _tmp45_ = NULL;
				GdkEventButton* _tmp46_ = NULL;
				gboolean _tmp47_ = FALSE;
#line 940 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp45_ = self->priv->text_renderer;
#line 940 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				g_object_set (_tmp45_, "editable", FALSE, NULL);
#line 941 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp46_ = event;
#line 941 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp47_ = GTK_WIDGET_CLASS (sidebar_tree_parent_class)->button_press_event (G_TYPE_CHECK_INSTANCE_CAST (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), gtk_widget_get_type (), GtkWidget), _tmp46_);
#line 941 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				result = _tmp47_;
#line 941 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_g_object_unref0 (wrapper);
#line 941 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_gtk_tree_path_free0 (path);
#line 941 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				return result;
#line 5901 "Tree.c"
			}
#line 946 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp49_ = wrapper;
#line 946 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp50_ = _tmp49_->entry;
#line 946 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp50_, SIDEBAR_TYPE_RENAMEABLE_ENTRY)) {
#line 5909 "Tree.c"
				SidebarTreeEntryWrapper* _tmp51_ = NULL;
				SidebarEntry* _tmp52_ = NULL;
				gboolean _tmp53_ = FALSE;
#line 947 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp51_ = wrapper;
#line 947 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp52_ = _tmp51_->entry;
#line 947 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp53_ = sidebar_renameable_entry_is_user_renameable (G_TYPE_CHECK_INSTANCE_CAST (_tmp52_, SIDEBAR_TYPE_RENAMEABLE_ENTRY, SidebarRenameableEntry));
#line 947 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp48_ = _tmp53_;
#line 5921 "Tree.c"
			} else {
#line 946 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp48_ = FALSE;
#line 5925 "Tree.c"
			}
#line 946 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			if (_tmp48_) {
#line 5929 "Tree.c"
				GtkCellRendererText* _tmp54_ = NULL;
#line 948 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp54_ = self->priv->text_renderer;
#line 948 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				g_object_set (_tmp54_, "editable", TRUE, NULL);
#line 5935 "Tree.c"
			}
#line 952 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp55_ = self->priv->store;
#line 952 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp56_ = path;
#line 952 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp57_ = gtk_tree_row_reference_new (G_TYPE_CHECK_INSTANCE_CAST (_tmp55_, GTK_TYPE_TREE_MODEL, GtkTreeModel), _tmp56_);
#line 952 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_gtk_tree_row_reference_free0 (self->priv->old_path_ref);
#line 952 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			self->priv->old_path_ref = _tmp57_;
#line 915 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (wrapper);
#line 5949 "Tree.c"
		}
	}
#line 955 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp58_ = event;
#line 955 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp59_ = GTK_WIDGET_CLASS (sidebar_tree_parent_class)->button_press_event (G_TYPE_CHECK_INSTANCE_CAST (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), gtk_widget_get_type (), GtkWidget), _tmp58_);
#line 955 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = _tmp59_;
#line 955 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (path);
#line 955 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 5962 "Tree.c"
}


gboolean sidebar_tree_is_keypress_interpreted (SidebarTree* self, GdkEventKey* event) {
	gboolean result = FALSE;
	GdkEventKey* _tmp0_ = NULL;
	guint _tmp1_ = 0U;
	const gchar* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	GQuark _tmp5_ = 0U;
#line 959 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	static GQuark _tmp4_label0 = 0;
#line 959 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	static GQuark _tmp4_label1 = 0;
#line 959 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	static GQuark _tmp4_label2 = 0;
#line 959 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	static GQuark _tmp4_label3 = 0;
#line 958 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 958 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 959 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = event;
#line 959 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = _tmp0_->keyval;
#line 959 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = gdk_keyval_name (_tmp1_);
#line 959 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = _tmp2_;
#line 959 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = (NULL == _tmp3_) ? 0 : g_quark_from_string (_tmp3_);
#line 959 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if ((((_tmp5_ == ((0 != _tmp4_label0) ? _tmp4_label0 : (_tmp4_label0 = g_quark_from_static_string ("F2")))) || (_tmp5_ == ((0 != _tmp4_label1) ? _tmp4_label1 : (_tmp4_label1 = g_quark_from_static_string ("Delete"))))) || (_tmp5_ == ((0 != _tmp4_label2) ? _tmp4_label2 : (_tmp4_label2 = g_quark_from_static_string ("Return"))))) || (_tmp5_ == ((0 != _tmp4_label3) ? _tmp4_label3 : (_tmp4_label3 = g_quark_from_static_string ("KP_Enter"))))) {
#line 959 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		switch (0) {
#line 5999 "Tree.c"
			default:
			{
#line 964 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				result = TRUE;
#line 964 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				return result;
#line 6006 "Tree.c"
			}
		}
	} else {
#line 959 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		switch (0) {
#line 6012 "Tree.c"
			default:
			{
#line 967 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				result = FALSE;
#line 967 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				return result;
#line 6019 "Tree.c"
			}
		}
	}
}


static gboolean sidebar_tree_real_key_press_event (GtkWidget* base, GdkEventKey* event) {
	SidebarTree * self;
	gboolean result = FALSE;
	GdkEventKey* _tmp0_ = NULL;
	guint _tmp1_ = 0U;
	const gchar* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	GQuark _tmp5_ = 0U;
#line 972 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	static GQuark _tmp4_label0 = 0;
#line 972 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	static GQuark _tmp4_label1 = 0;
#line 972 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	static GQuark _tmp4_label2 = 0;
#line 972 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	static GQuark _tmp4_label3 = 0;
#line 6042 "Tree.c"
	GdkEventKey* _tmp15_ = NULL;
	gboolean _tmp16_ = FALSE;
#line 971 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, SIDEBAR_TYPE_TREE, SidebarTree);
#line 971 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 972 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = event;
#line 972 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = _tmp0_->keyval;
#line 972 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = gdk_keyval_name (_tmp1_);
#line 972 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = _tmp2_;
#line 972 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = (NULL == _tmp3_) ? 0 : g_quark_from_string (_tmp3_);
#line 972 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if ((_tmp5_ == ((0 != _tmp4_label0) ? _tmp4_label0 : (_tmp4_label0 = g_quark_from_static_string ("Return")))) || (_tmp5_ == ((0 != _tmp4_label1) ? _tmp4_label1 : (_tmp4_label1 = g_quark_from_static_string ("KP_Enter"))))) {
#line 972 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		switch (0) {
#line 6063 "Tree.c"
			default:
			{
				GtkTreePath* path = NULL;
				GtkTreePath* _tmp6_ = NULL;
				GtkTreePath* _tmp7_ = NULL;
#line 975 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp6_ = sidebar_tree_get_current_path (self);
#line 975 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				path = _tmp6_;
#line 976 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp7_ = path;
#line 976 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				if (_tmp7_ != NULL) {
#line 6077 "Tree.c"
					GtkTreePath* _tmp8_ = NULL;
#line 977 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
					_tmp8_ = path;
#line 977 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
					sidebar_tree_toggle_branch_expansion (self, _tmp8_, FALSE);
#line 6083 "Tree.c"
				}
#line 979 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				result = TRUE;
#line 979 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_gtk_tree_path_free0 (path);
#line 979 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				return result;
#line 6091 "Tree.c"
			}
		}
	} else if (_tmp5_ == ((0 != _tmp4_label2) ? _tmp4_label2 : (_tmp4_label2 = g_quark_from_static_string ("F2")))) {
#line 972 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		switch (0) {
#line 6097 "Tree.c"
			default:
			{
				gboolean _tmp9_ = FALSE;
#line 982 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp9_ = sidebar_tree_rename_in_place (self);
#line 982 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				result = _tmp9_;
#line 982 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				return result;
#line 6107 "Tree.c"
			}
		}
	} else if (_tmp5_ == ((0 != _tmp4_label3) ? _tmp4_label3 : (_tmp4_label3 = g_quark_from_static_string ("Delete")))) {
#line 972 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		switch (0) {
#line 6113 "Tree.c"
			default:
			{
				GtkTreePath* path = NULL;
				GtkTreePath* _tmp10_ = NULL;
				gboolean _tmp11_ = FALSE;
				GtkTreePath* _tmp12_ = NULL;
#line 985 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp10_ = sidebar_tree_get_current_path (self);
#line 985 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				path = _tmp10_;
#line 987 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_tmp12_ = path;
#line 987 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				if (_tmp12_ != NULL) {
#line 6128 "Tree.c"
					GtkTreePath* _tmp13_ = NULL;
					gboolean _tmp14_ = FALSE;
#line 987 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
					_tmp13_ = path;
#line 987 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
					_tmp14_ = sidebar_tree_destroy_path (self, _tmp13_);
#line 987 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
					_tmp11_ = _tmp14_;
#line 6137 "Tree.c"
				} else {
#line 987 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
					_tmp11_ = FALSE;
#line 6141 "Tree.c"
				}
#line 987 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				result = _tmp11_;
#line 987 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				_gtk_tree_path_free0 (path);
#line 987 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
				return result;
#line 6149 "Tree.c"
			}
		}
	}
#line 990 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp15_ = event;
#line 990 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp16_ = GTK_WIDGET_CLASS (sidebar_tree_parent_class)->key_press_event (G_TYPE_CHECK_INSTANCE_CAST (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), gtk_widget_get_type (), GtkWidget), _tmp15_);
#line 990 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = _tmp16_;
#line 990 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 6161 "Tree.c"
}


gboolean sidebar_tree_rename_entry_in_place (SidebarTree* self, SidebarEntry* entry) {
	gboolean result = FALSE;
	SidebarEntry* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	SidebarEntry* _tmp2_ = NULL;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_ = FALSE;
#line 993 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 993 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), FALSE);
#line 994 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 994 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_expand_to_entry (self, _tmp0_);
#line 994 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (!_tmp1_) {
#line 995 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 995 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 6186 "Tree.c"
	}
#line 997 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = entry;
#line 997 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = sidebar_tree_place_cursor (self, _tmp2_, FALSE);
#line 997 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (!_tmp3_) {
#line 998 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 998 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 6198 "Tree.c"
	}
#line 1000 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = sidebar_tree_rename_in_place (self);
#line 1000 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = _tmp4_;
#line 1000 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 6206 "Tree.c"
}


static gboolean sidebar_tree_rename_in_place (SidebarTree* self) {
	gboolean result = FALSE;
	GtkTreePath* cursor_path = NULL;
	GtkTreeViewColumn* cursor_column = NULL;
	GtkTreePath* _tmp0_ = NULL;
	GtkTreeViewColumn* _tmp1_ = NULL;
	GtkTreeViewColumn* _tmp2_ = NULL;
	GtkTreePath* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
#line 1003 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 1006 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_get_cursor (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), &_tmp0_, &_tmp1_);
#line 1006 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (cursor_path);
#line 1006 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	cursor_path = _tmp0_;
#line 1006 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (cursor_column);
#line 1006 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 1006 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	cursor_column = _tmp2_;
#line 1008 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = cursor_path;
#line 1008 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = sidebar_tree_can_rename_path (self, _tmp3_);
#line 1008 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp4_) {
#line 6239 "Tree.c"
		GtkTreePath* _tmp5_ = NULL;
		GtkTreeViewColumn* _tmp6_ = NULL;
		GtkCellRendererText* _tmp7_ = NULL;
#line 1009 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = cursor_path;
#line 1009 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = cursor_column;
#line 1009 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = self->priv->text_renderer;
#line 1009 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_tree_view_set_cursor_on_cell (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp5_, _tmp6_, G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, gtk_cell_renderer_get_type (), GtkCellRenderer), TRUE);
#line 1011 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = TRUE;
#line 1011 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (cursor_column);
#line 1011 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_gtk_tree_path_free0 (cursor_path);
#line 1011 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 6259 "Tree.c"
	}
#line 1014 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = FALSE;
#line 1014 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (cursor_column);
#line 1014 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (cursor_path);
#line 1014 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 6269 "Tree.c"
}


gboolean sidebar_tree_scroll_to_entry (SidebarTree* self, SidebarEntry* entry) {
	gboolean result = FALSE;
	SidebarTreeEntryWrapper* wrapper = NULL;
	SidebarEntry* _tmp0_ = NULL;
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	SidebarTreeEntryWrapper* _tmp2_ = NULL;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
	GtkTreePath* _tmp4_ = NULL;
	GtkTreePath* _tmp5_ = NULL;
#line 1017 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 1017 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), FALSE);
#line 1018 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 1018 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper (self, _tmp0_);
#line 1018 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 1019 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = wrapper;
#line 1019 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp2_ == NULL) {
#line 1020 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 1020 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 1020 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 6302 "Tree.c"
	}
#line 1022 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = wrapper;
#line 1022 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = sidebar_tree_entry_wrapper_get_path (_tmp3_);
#line 1022 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = _tmp4_;
#line 1022 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_view_scroll_to_cell (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp5_, NULL, FALSE, (gfloat) 0, (gfloat) 0);
#line 1022 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (_tmp5_);
#line 1024 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = TRUE;
#line 1024 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 1024 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 6320 "Tree.c"
}


static void sidebar_tree_real_drag_data_get (GtkWidget* base, GdkDragContext* context, GtkSelectionData* selection_data, guint info, guint time) {
	SidebarTree * self;
	SidebarInternalDragSourceEntry* drag_source = NULL;
	SidebarEntry* _tmp0_ = NULL;
	SidebarInternalDragSourceEntry* _tmp6_ = NULL;
	SidebarInternalDragSourceEntry* _tmp16_ = NULL;
	GtkSelectionData* _tmp17_ = NULL;
#line 1027 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, SIDEBAR_TYPE_TREE, SidebarTree);
#line 1027 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (GDK_IS_DRAG_CONTEXT (context));
#line 1027 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (selection_data != NULL);
#line 1029 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	drag_source = NULL;
#line 1031 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->priv->internal_drag_source_entry;
#line 1031 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp0_ != NULL) {
#line 6343 "Tree.c"
		SidebarSelectableEntry* selectable = NULL;
		SidebarEntry* _tmp1_ = NULL;
		SidebarSelectableEntry* _tmp2_ = NULL;
		SidebarSelectableEntry* _tmp3_ = NULL;
#line 1032 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp1_ = self->priv->internal_drag_source_entry;
#line 1032 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp2_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, SIDEBAR_TYPE_SELECTABLE_ENTRY) ? ((SidebarSelectableEntry*) _tmp1_) : NULL);
#line 1032 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		selectable = _tmp2_;
#line 1034 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp3_ = selectable;
#line 1034 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp3_ == NULL) {
#line 6358 "Tree.c"
			SidebarEntry* _tmp4_ = NULL;
			SidebarInternalDragSourceEntry* _tmp5_ = NULL;
#line 1035 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp4_ = self->priv->internal_drag_source_entry;
#line 1035 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp5_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, SIDEBAR_TYPE_INTERNAL_DRAG_SOURCE_ENTRY) ? ((SidebarInternalDragSourceEntry*) _tmp4_) : NULL);
#line 1035 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (drag_source);
#line 1035 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			drag_source = _tmp5_;
#line 6369 "Tree.c"
		}
#line 1031 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (selectable);
#line 6373 "Tree.c"
	}
#line 1039 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = drag_source;
#line 1039 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp6_ == NULL) {
#line 6379 "Tree.c"
		GtkTreePath* selected_path = NULL;
		GtkTreePath* _tmp7_ = NULL;
		GtkTreePath* _tmp8_ = NULL;
		SidebarTreeEntryWrapper* wrapper = NULL;
		GtkTreePath* _tmp9_ = NULL;
		SidebarTreeEntryWrapper* _tmp10_ = NULL;
		SidebarTreeEntryWrapper* _tmp11_ = NULL;
		SidebarTreeEntryWrapper* _tmp12_ = NULL;
		SidebarEntry* _tmp13_ = NULL;
		SidebarInternalDragSourceEntry* _tmp14_ = NULL;
		SidebarInternalDragSourceEntry* _tmp15_ = NULL;
#line 1040 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = sidebar_tree_get_selected_path (self);
#line 1040 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		selected_path = _tmp7_;
#line 1041 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = selected_path;
#line 1041 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp8_ == NULL) {
#line 1042 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_gtk_tree_path_free0 (selected_path);
#line 1042 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (drag_source);
#line 1042 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			return;
#line 6405 "Tree.c"
		}
#line 1044 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = selected_path;
#line 1044 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp10_ = sidebar_tree_get_wrapper_at_path (self, _tmp9_);
#line 1044 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		wrapper = _tmp10_;
#line 1045 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = wrapper;
#line 1045 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp11_ == NULL) {
#line 1046 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (wrapper);
#line 1046 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_gtk_tree_path_free0 (selected_path);
#line 1046 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (drag_source);
#line 1046 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			return;
#line 6425 "Tree.c"
		}
#line 1048 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp12_ = wrapper;
#line 1048 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp13_ = _tmp12_->entry;
#line 1048 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp14_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp13_, SIDEBAR_TYPE_INTERNAL_DRAG_SOURCE_ENTRY) ? ((SidebarInternalDragSourceEntry*) _tmp13_) : NULL);
#line 1048 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (drag_source);
#line 1048 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		drag_source = _tmp14_;
#line 1049 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp15_ = drag_source;
#line 1049 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp15_ == NULL) {
#line 1050 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (wrapper);
#line 1050 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_gtk_tree_path_free0 (selected_path);
#line 1050 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_g_object_unref0 (drag_source);
#line 1050 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			return;
#line 6449 "Tree.c"
		}
#line 1039 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 1039 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_gtk_tree_path_free0 (selected_path);
#line 6455 "Tree.c"
	}
#line 1053 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp16_ = drag_source;
#line 1053 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp17_ = selection_data;
#line 1053 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_internal_drag_source_entry_prepare_selection_data (_tmp16_, _tmp17_);
#line 1027 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (drag_source);
#line 6465 "Tree.c"
}


static void sidebar_tree_real_drag_data_received (GtkWidget* base, GdkDragContext* context, gint x, gint y, GtkSelectionData* selection_data, guint info, guint time) {
	SidebarTree * self;
	GtkTreePath* path = NULL;
	GtkTreeViewDropPosition pos = 0;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	GtkTreePath* _tmp2_ = NULL;
	GtkTreeViewDropPosition _tmp3_ = 0;
	gboolean _tmp4_ = FALSE;
	SidebarTreeEntryWrapper* wrapper = NULL;
	GtkTreePath* _tmp14_ = NULL;
	SidebarTreeEntryWrapper* _tmp15_ = NULL;
	GdkDragContext* _tmp16_ = NULL;
	GtkWidget* _tmp17_ = NULL;
	SidebarTreeEntryWrapper* _tmp27_ = NULL;
	SidebarInternalDropTargetEntry* targetable = NULL;
	SidebarTreeEntryWrapper* _tmp30_ = NULL;
	SidebarEntry* _tmp31_ = NULL;
	SidebarInternalDropTargetEntry* _tmp32_ = NULL;
	SidebarInternalDropTargetEntry* _tmp33_ = NULL;
	gboolean success = FALSE;
	GtkSelectionData* _tmp36_ = NULL;
	GdkAtom _tmp37_ = 0U;
	gchar* _tmp38_ = NULL;
	gchar* _tmp39_ = NULL;
	gboolean _tmp40_ = FALSE;
	GdkDragContext* _tmp57_ = NULL;
	gboolean _tmp58_ = FALSE;
	guint _tmp59_ = 0U;
#line 1056 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, SIDEBAR_TYPE_TREE, SidebarTree);
#line 1056 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (GDK_IS_DRAG_CONTEXT (context));
#line 1056 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (selection_data != NULL);
#line 1061 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = x;
#line 1061 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = y;
#line 1061 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = gtk_tree_view_get_dest_row_at_pos (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp0_, _tmp1_, &_tmp2_, &_tmp3_);
#line 1061 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (path);
#line 1061 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	path = _tmp2_;
#line 1061 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	pos = _tmp3_;
#line 1061 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (!_tmp4_) {
#line 6518 "Tree.c"
		GdkDragContext* _tmp5_ = NULL;
		GtkWidget* _tmp6_ = NULL;
#line 1063 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = context;
#line 1063 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = gtk_drag_get_source_widget (_tmp5_);
#line 1063 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp6_ == NULL) {
#line 6527 "Tree.c"
			SidebarTreeExternalDropHandler _tmp7_ = NULL;
			void* _tmp7__target = NULL;
			GdkDragContext* _tmp8_ = NULL;
			GtkSelectionData* _tmp9_ = NULL;
			guint _tmp10_ = 0U;
			guint _tmp11_ = 0U;
#line 1064 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp7_ = self->priv->drop_handler;
#line 1064 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp7__target = self->priv->drop_handler_target;
#line 1064 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp8_ = context;
#line 1064 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp9_ = selection_data;
#line 1064 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp10_ = info;
#line 1064 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp11_ = time;
#line 1064 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp7_ (_tmp8_, NULL, _tmp9_, _tmp10_, _tmp11_, _tmp7__target);
#line 6548 "Tree.c"
		} else {
			GdkDragContext* _tmp12_ = NULL;
			guint _tmp13_ = 0U;
#line 1066 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp12_ = context;
#line 1066 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp13_ = time;
#line 1066 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			gtk_drag_finish (_tmp12_, FALSE, FALSE, (guint32) _tmp13_);
#line 6558 "Tree.c"
		}
#line 1068 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_gtk_tree_path_free0 (path);
#line 1068 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return;
#line 6564 "Tree.c"
	}
#line 1072 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp14_ = path;
#line 1072 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp15_ = sidebar_tree_get_wrapper_at_path (self, _tmp14_);
#line 1072 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp15_;
#line 1075 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp16_ = context;
#line 1075 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp17_ = gtk_drag_get_source_widget (_tmp16_);
#line 1075 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp17_ == NULL) {
#line 6578 "Tree.c"
		SidebarEntry* _tmp18_ = NULL;
		SidebarTreeEntryWrapper* _tmp19_ = NULL;
		SidebarTreeExternalDropHandler _tmp22_ = NULL;
		void* _tmp22__target = NULL;
		GdkDragContext* _tmp23_ = NULL;
		GtkSelectionData* _tmp24_ = NULL;
		guint _tmp25_ = 0U;
		guint _tmp26_ = 0U;
#line 1076 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp19_ = wrapper;
#line 1076 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp19_ != NULL) {
#line 6591 "Tree.c"
			SidebarTreeEntryWrapper* _tmp20_ = NULL;
			SidebarEntry* _tmp21_ = NULL;
#line 1076 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp20_ = wrapper;
#line 1076 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp21_ = _tmp20_->entry;
#line 1076 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp18_ = _tmp21_;
#line 6600 "Tree.c"
		} else {
#line 1076 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp18_ = NULL;
#line 6604 "Tree.c"
		}
#line 1076 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp22_ = self->priv->drop_handler;
#line 1076 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp22__target = self->priv->drop_handler_target;
#line 1076 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp23_ = context;
#line 1076 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp24_ = selection_data;
#line 1076 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp25_ = info;
#line 1076 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp26_ = time;
#line 1076 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp22_ (_tmp23_, _tmp18_, _tmp24_, _tmp25_, _tmp26_, _tmp22__target);
#line 1079 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 1079 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_gtk_tree_path_free0 (path);
#line 1079 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return;
#line 6626 "Tree.c"
	}
#line 1083 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp27_ = wrapper;
#line 1083 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp27_ == NULL) {
#line 6632 "Tree.c"
		GdkDragContext* _tmp28_ = NULL;
		guint _tmp29_ = 0U;
#line 1084 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp28_ = context;
#line 1084 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp29_ = time;
#line 1084 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_drag_finish (_tmp28_, FALSE, FALSE, (guint32) _tmp29_);
#line 1086 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 1086 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_gtk_tree_path_free0 (path);
#line 1086 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return;
#line 6647 "Tree.c"
	}
#line 1089 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp30_ = wrapper;
#line 1089 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp31_ = _tmp30_->entry;
#line 1089 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp32_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp31_, SIDEBAR_TYPE_INTERNAL_DROP_TARGET_ENTRY) ? ((SidebarInternalDropTargetEntry*) _tmp31_) : NULL);
#line 1089 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	targetable = _tmp32_;
#line 1090 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp33_ = targetable;
#line 1090 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp33_ == NULL) {
#line 6661 "Tree.c"
		GdkDragContext* _tmp34_ = NULL;
		guint _tmp35_ = 0U;
#line 1091 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp34_ = context;
#line 1091 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp35_ = time;
#line 1091 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_drag_finish (_tmp34_, FALSE, FALSE, (guint32) _tmp35_);
#line 1093 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (targetable);
#line 1093 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 1093 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_gtk_tree_path_free0 (path);
#line 1093 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return;
#line 6678 "Tree.c"
	}
#line 1096 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	success = FALSE;
#line 1098 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp36_ = selection_data;
#line 1098 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp37_ = gtk_selection_data_get_data_type (_tmp36_);
#line 1098 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp38_ = gdk_atom_name (_tmp37_);
#line 1098 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp39_ = _tmp38_;
#line 1098 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp40_ = g_strcmp0 (_tmp39_, LIBRARY_WINDOW_TAG_PATH_MIME_TYPE) == 0;
#line 1098 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_free0 (_tmp39_);
#line 1098 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp40_) {
#line 6696 "Tree.c"
		SidebarInternalDropTargetEntry* _tmp41_ = NULL;
		GtkSelectionData* _tmp42_ = NULL;
		gboolean _tmp43_ = FALSE;
#line 1099 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp41_ = targetable;
#line 1099 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp42_ = selection_data;
#line 1099 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp43_ = sidebar_internal_drop_target_entry_internal_drop_received_arbitrary (_tmp41_, _tmp42_);
#line 1099 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		success = _tmp43_;
#line 6708 "Tree.c"
	} else {
		GeeList* media = NULL;
		GtkSelectionData* _tmp44_ = NULL;
		guchar* _tmp45_ = NULL;
		GtkSelectionData* _tmp46_ = NULL;
		gint _tmp47_ = 0;
		GeeList* _tmp48_ = NULL;
		gboolean _tmp49_ = FALSE;
		GeeList* _tmp50_ = NULL;
#line 1101 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp44_ = selection_data;
#line 1101 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp45_ = gtk_selection_data_get_data (_tmp44_);
#line 1101 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp46_ = selection_data;
#line 1101 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp47_ = gtk_selection_data_get_length (_tmp46_);
#line 1101 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp48_ = unserialize_media_sources (_tmp45_, _tmp47_);
#line 1101 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		media = _tmp48_;
#line 1103 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp50_ = media;
#line 1103 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp50_ != NULL) {
#line 6734 "Tree.c"
			GeeList* _tmp51_ = NULL;
			gint _tmp52_ = 0;
			gint _tmp53_ = 0;
#line 1103 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp51_ = media;
#line 1103 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp52_ = gee_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp51_, GEE_TYPE_COLLECTION, GeeCollection));
#line 1103 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp53_ = _tmp52_;
#line 1103 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp49_ = _tmp53_ > 0;
#line 6746 "Tree.c"
		} else {
#line 1103 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp49_ = FALSE;
#line 6750 "Tree.c"
		}
#line 1103 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp49_) {
#line 6754 "Tree.c"
			SidebarInternalDropTargetEntry* _tmp54_ = NULL;
			GeeList* _tmp55_ = NULL;
			gboolean _tmp56_ = FALSE;
#line 1104 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp54_ = targetable;
#line 1104 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp55_ = media;
#line 1104 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp56_ = sidebar_internal_drop_target_entry_internal_drop_received (_tmp54_, _tmp55_);
#line 1104 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			success = _tmp56_;
#line 6766 "Tree.c"
		}
#line 1098 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (media);
#line 6770 "Tree.c"
	}
#line 1107 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp57_ = context;
#line 1107 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp58_ = success;
#line 1107 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp59_ = time;
#line 1107 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_drag_finish (_tmp57_, _tmp58_, FALSE, (guint32) _tmp59_);
#line 1056 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (targetable);
#line 1056 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 1056 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (path);
#line 6786 "Tree.c"
}


static gboolean sidebar_tree_real_drag_motion (GtkWidget* base, GdkDragContext* context, gint x, gint y, guint time) {
	SidebarTree * self;
	gboolean result = FALSE;
	GdkDragContext* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	guint _tmp3_ = 0U;
	GtkTreePath* path = NULL;
	GtkTreeViewDropPosition pos = 0;
	gboolean has_dest = FALSE;
	gint _tmp4_ = 0;
	gint _tmp5_ = 0;
	GtkTreePath* _tmp6_ = NULL;
	GtkTreeViewDropPosition _tmp7_ = 0;
	gboolean _tmp8_ = FALSE;
	gboolean _tmp9_ = FALSE;
	gboolean _tmp10_ = FALSE;
	GdkDragContext* _tmp15_ = NULL;
	GdkDragContext* _tmp16_ = NULL;
	GdkDragAction _tmp17_ = 0;
	guint _tmp18_ = 0U;
#line 1110 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, SIDEBAR_TYPE_TREE, SidebarTree);
#line 1110 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (GDK_IS_DRAG_CONTEXT (context), FALSE);
#line 1112 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = context;
#line 1112 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = x;
#line 1112 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = y;
#line 1112 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = time;
#line 1112 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	GTK_WIDGET_CLASS (sidebar_tree_parent_class)->drag_motion (G_TYPE_CHECK_INSTANCE_CAST (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), gtk_widget_get_type (), GtkWidget), _tmp0_, _tmp1_, _tmp2_, _tmp3_);
#line 1116 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = x;
#line 1116 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = y;
#line 1116 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = gtk_tree_view_get_dest_row_at_pos (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp4_, _tmp5_, &_tmp6_, &_tmp7_);
#line 1116 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (path);
#line 1116 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	path = _tmp6_;
#line 1116 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	pos = _tmp7_;
#line 1116 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	has_dest = _tmp8_;
#line 1119 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp10_ = has_dest;
#line 1119 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (!_tmp10_) {
#line 1119 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = TRUE;
#line 6845 "Tree.c"
	} else {
		GtkTreeViewDropPosition _tmp11_ = 0;
#line 1119 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp11_ = pos;
#line 1119 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = _tmp11_ == GTK_TREE_VIEW_DROP_BEFORE;
#line 6852 "Tree.c"
	}
#line 1119 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp9_) {
#line 6856 "Tree.c"
		GtkTreePath* _tmp12_ = NULL;
#line 1120 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp12_ = path;
#line 1120 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		gtk_tree_view_set_drag_dest_row (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp12_, GTK_TREE_VIEW_DROP_INTO_OR_BEFORE);
#line 6862 "Tree.c"
	} else {
		GtkTreeViewDropPosition _tmp13_ = 0;
#line 1121 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp13_ = pos;
#line 1121 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp13_ == GTK_TREE_VIEW_DROP_AFTER) {
#line 6869 "Tree.c"
			GtkTreePath* _tmp14_ = NULL;
#line 1122 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp14_ = path;
#line 1122 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			gtk_tree_view_set_drag_dest_row (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView), _tmp14_, GTK_TREE_VIEW_DROP_INTO_OR_AFTER);
#line 6875 "Tree.c"
		}
	}
#line 1124 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp15_ = context;
#line 1124 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp16_ = context;
#line 1124 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp17_ = gdk_drag_context_get_suggested_action (_tmp16_);
#line 1124 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp18_ = time;
#line 1124 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gdk_drag_status (_tmp15_, _tmp17_, (guint32) _tmp18_);
#line 1126 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = has_dest;
#line 1126 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (path);
#line 1126 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 6894 "Tree.c"
}


static gboolean sidebar_tree_can_rename_path (SidebarTree* self, GtkTreePath* path) {
	gboolean result = FALSE;
	gint _tmp0_ = 0;
	SidebarTreeEntryWrapper* wrapper = NULL;
	GtkTreePath* _tmp1_ = NULL;
	SidebarTreeEntryWrapper* _tmp2_ = NULL;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
	SidebarRenameableEntry* renameable = NULL;
	SidebarTreeEntryWrapper* _tmp4_ = NULL;
	SidebarEntry* _tmp5_ = NULL;
	SidebarRenameableEntry* _tmp6_ = NULL;
	SidebarRenameableEntry* _tmp7_ = NULL;
	SidebarTreeEntryWrapper* _tmp8_ = NULL;
	SidebarEntry* _tmp9_ = NULL;
	GtkTreeSelection* _tmp10_ = NULL;
	GtkTreePath* _tmp11_ = NULL;
#line 1130 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 1130 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (path != NULL, FALSE);
#line 1131 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->priv->editing_disabled;
#line 1131 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp0_ > 0) {
#line 1132 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 1132 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 6926 "Tree.c"
	}
#line 1134 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = path;
#line 1134 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = sidebar_tree_get_wrapper_at_path (self, _tmp1_);
#line 1134 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp2_;
#line 1135 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = wrapper;
#line 1135 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp3_ == NULL) {
#line 1136 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 1136 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 1136 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 6944 "Tree.c"
	}
#line 1138 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = wrapper;
#line 1138 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = _tmp4_->entry;
#line 1138 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp5_, SIDEBAR_TYPE_RENAMEABLE_ENTRY) ? ((SidebarRenameableEntry*) _tmp5_) : NULL);
#line 1138 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	renameable = _tmp6_;
#line 1139 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = renameable;
#line 1139 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp7_ == NULL) {
#line 1140 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 1140 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (renameable);
#line 1140 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 1140 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 6966 "Tree.c"
	}
#line 1142 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp8_ = wrapper;
#line 1142 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp9_ = _tmp8_->entry;
#line 1142 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp9_, SIDEBAR_TYPE_HEADER)) {
#line 1143 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 1143 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (renameable);
#line 1143 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 1143 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 6982 "Tree.c"
	}
#line 1145 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp10_ = gtk_tree_view_get_selection (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_tree_view_get_type (), GtkTreeView));
#line 1145 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp11_ = path;
#line 1145 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	gtk_tree_selection_select_path (_tmp10_, _tmp11_);
#line 1147 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = TRUE;
#line 1147 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (renameable);
#line 1147 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 1147 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 6998 "Tree.c"
}


static gboolean sidebar_tree_destroy_path (SidebarTree* self, GtkTreePath* path) {
	gboolean result = FALSE;
	SidebarTreeEntryWrapper* wrapper = NULL;
	GtkTreePath* _tmp0_ = NULL;
	SidebarTreeEntryWrapper* _tmp1_ = NULL;
	SidebarTreeEntryWrapper* _tmp2_ = NULL;
	SidebarDestroyableEntry* destroyable = NULL;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
	SidebarEntry* _tmp4_ = NULL;
	SidebarDestroyableEntry* _tmp5_ = NULL;
	SidebarDestroyableEntry* _tmp6_ = NULL;
	SidebarDestroyableEntry* _tmp7_ = NULL;
#line 1150 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 1150 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (path != NULL, FALSE);
#line 1151 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = path;
#line 1151 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_wrapper_at_path (self, _tmp0_);
#line 1151 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp1_;
#line 1152 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = wrapper;
#line 1152 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp2_ == NULL) {
#line 1153 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 1153 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 1153 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 7034 "Tree.c"
	}
#line 1155 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = wrapper;
#line 1155 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = _tmp3_->entry;
#line 1155 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, SIDEBAR_TYPE_DESTROYABLE_ENTRY) ? ((SidebarDestroyableEntry*) _tmp4_) : NULL);
#line 1155 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	destroyable = _tmp5_;
#line 1156 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = destroyable;
#line 1156 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp6_ == NULL) {
#line 1157 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		result = FALSE;
#line 1157 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (destroyable);
#line 1157 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (wrapper);
#line 1157 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		return result;
#line 7056 "Tree.c"
	}
#line 1159 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp7_ = destroyable;
#line 1159 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_destroyable_entry_destroy_source (_tmp7_);
#line 1161 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = TRUE;
#line 1161 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (destroyable);
#line 1161 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 1161 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 7070 "Tree.c"
}


static void _sidebar_tree_on_editing_done_gtk_cell_editable_editing_done (GtkCellEditable* _sender, gpointer self) {
#line 1167 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_on_editing_done ((SidebarTree*) self);
#line 7077 "Tree.c"
}


static gboolean _sidebar_tree_on_editing_focus_out_gtk_widget_focus_out_event (GtkWidget* _sender, GdkEventFocus* event, gpointer self) {
	gboolean result;
	result = sidebar_tree_on_editing_focus_out ((SidebarTree*) self, event);
#line 1168 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 7086 "Tree.c"
}


static void sidebar_tree_on_editing_started (SidebarTree* self, GtkCellEditable* editable, const gchar* path) {
	GtkCellEditable* _tmp0_ = NULL;
#line 1164 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 1164 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (GTK_IS_CELL_EDITABLE (editable));
#line 1164 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (path != NULL);
#line 1165 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = editable;
#line 1165 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, gtk_entry_get_type ())) {
#line 7102 "Tree.c"
		GtkCellEditable* _tmp1_ = NULL;
		GtkEntry* _tmp2_ = NULL;
		GtkEntry* _tmp3_ = NULL;
		GtkEntry* _tmp4_ = NULL;
		GtkEntry* _tmp5_ = NULL;
#line 1166 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp1_ = editable;
#line 1166 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp2_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, gtk_entry_get_type (), GtkEntry));
#line 1166 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (self->priv->text_entry);
#line 1166 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		self->priv->text_entry = _tmp2_;
#line 1167 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp3_ = self->priv->text_entry;
#line 1167 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GTK_TYPE_CELL_EDITABLE, GtkCellEditable), "editing-done", (GCallback) _sidebar_tree_on_editing_done_gtk_cell_editable_editing_done, self, 0);
#line 1168 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp4_ = self->priv->text_entry;
#line 1168 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, gtk_widget_get_type (), GtkWidget), "focus-out-event", (GCallback) _sidebar_tree_on_editing_focus_out_gtk_widget_focus_out_event, self, 0);
#line 1169 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp5_ = self->priv->text_entry;
#line 1169 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		g_object_set (_tmp5_, "editable", TRUE, NULL);
#line 7128 "Tree.c"
	}
}


static void sidebar_tree_on_editing_canceled (SidebarTree* self) {
	GtkEntry* _tmp0_ = NULL;
	GtkEntry* _tmp1_ = NULL;
	guint _tmp2_ = 0U;
	GtkEntry* _tmp3_ = NULL;
	guint _tmp4_ = 0U;
#line 1173 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 1174 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->priv->text_entry;
#line 1174 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_object_set (_tmp0_, "editable", FALSE, NULL);
#line 1176 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = self->priv->text_entry;
#line 1176 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_parse_name ("editing-done", GTK_TYPE_CELL_EDITABLE, &_tmp2_, NULL, FALSE);
#line 1176 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GTK_TYPE_CELL_EDITABLE, GtkCellEditable), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp2_, 0, NULL, (GCallback) _sidebar_tree_on_editing_done_gtk_cell_editable_editing_done, self);
#line 1177 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = self->priv->text_entry;
#line 1177 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_parse_name ("focus-out-event", gtk_widget_get_type (), &_tmp4_, NULL, FALSE);
#line 1177 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, gtk_widget_get_type (), GtkWidget), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp4_, 0, NULL, (GCallback) _sidebar_tree_on_editing_focus_out_gtk_widget_focus_out_event, self);
#line 7157 "Tree.c"
}


static void sidebar_tree_on_editing_done (SidebarTree* self) {
	GtkEntry* _tmp0_ = NULL;
	SidebarTreeEntryWrapper* wrapper = NULL;
	GtkTreePath* _tmp1_ = NULL;
	GtkTreePath* _tmp2_ = NULL;
	SidebarTreeEntryWrapper* _tmp3_ = NULL;
	SidebarTreeEntryWrapper* _tmp4_ = NULL;
	SidebarTreeEntryWrapper* _tmp5_ = NULL;
	GtkEntry* _tmp13_ = NULL;
	guint _tmp14_ = 0U;
	GtkEntry* _tmp15_ = NULL;
	guint _tmp16_ = 0U;
#line 1180 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 1181 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->priv->text_entry;
#line 1181 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_object_set (_tmp0_, "editable", FALSE, NULL);
#line 1183 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = sidebar_tree_get_current_path (self);
#line 1183 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = _tmp1_;
#line 1183 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = sidebar_tree_get_wrapper_at_path (self, _tmp2_);
#line 1183 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = _tmp3_;
#line 1183 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (_tmp2_);
#line 1183 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	wrapper = _tmp4_;
#line 1184 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = wrapper;
#line 1184 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (_tmp5_ != NULL) {
#line 7195 "Tree.c"
		SidebarRenameableEntry* renameable = NULL;
		SidebarTreeEntryWrapper* _tmp6_ = NULL;
		SidebarEntry* _tmp7_ = NULL;
		SidebarRenameableEntry* _tmp8_ = NULL;
		SidebarRenameableEntry* _tmp9_ = NULL;
#line 1185 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp6_ = wrapper;
#line 1185 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp7_ = _tmp6_->entry;
#line 1185 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp8_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp7_, SIDEBAR_TYPE_RENAMEABLE_ENTRY) ? ((SidebarRenameableEntry*) _tmp7_) : NULL);
#line 1185 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		renameable = _tmp8_;
#line 1186 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_tmp9_ = renameable;
#line 1186 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		if (_tmp9_ != NULL) {
#line 7213 "Tree.c"
			SidebarRenameableEntry* _tmp10_ = NULL;
			GtkEntry* _tmp11_ = NULL;
			const gchar* _tmp12_ = NULL;
#line 1187 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp10_ = renameable;
#line 1187 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp11_ = self->priv->text_entry;
#line 1187 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			_tmp12_ = gtk_entry_get_text (_tmp11_);
#line 1187 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
			sidebar_renameable_entry_rename (_tmp10_, _tmp12_);
#line 7225 "Tree.c"
		}
#line 1184 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		_g_object_unref0 (renameable);
#line 7229 "Tree.c"
	}
#line 1190 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp13_ = self->priv->text_entry;
#line 1190 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_parse_name ("editing-done", GTK_TYPE_CELL_EDITABLE, &_tmp14_, NULL, FALSE);
#line 1190 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, GTK_TYPE_CELL_EDITABLE, GtkCellEditable), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp14_, 0, NULL, (GCallback) _sidebar_tree_on_editing_done_gtk_cell_editable_editing_done, self);
#line 1191 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp15_ = self->priv->text_entry;
#line 1191 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_parse_name ("focus-out-event", gtk_widget_get_type (), &_tmp16_, NULL, FALSE);
#line 1191 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp15_, gtk_widget_get_type (), GtkWidget), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp16_, 0, NULL, (GCallback) _sidebar_tree_on_editing_focus_out_gtk_widget_focus_out_event, self);
#line 1180 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (wrapper);
#line 7245 "Tree.c"
}


static gboolean sidebar_tree_on_editing_focus_out (SidebarTree* self, GdkEventFocus* event) {
	gboolean result = FALSE;
#line 1194 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_TREE (self), FALSE);
#line 1194 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 1198 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = FALSE;
#line 1198 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 7259 "Tree.c"
}


static void sidebar_tree_on_new_search (SidebarTree* self) {
	SavedSearchDialog* _tmp0_ = NULL;
	SavedSearchDialog* _tmp1_ = NULL;
#line 1201 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 1202 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = saved_search_dialog_new ();
#line 1202 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = _tmp0_;
#line 1202 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	saved_search_dialog_show (_tmp1_);
#line 1202 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_saved_search_dialog_unref0 (_tmp1_);
#line 7276 "Tree.c"
}


static void sidebar_tree_on_new_tag (SidebarTree* self) {
	NewRootTagCommand* creation_command = NULL;
	NewRootTagCommand* _tmp0_ = NULL;
	CommandManager* _tmp1_ = NULL;
	CommandManager* _tmp2_ = NULL;
	LibraryWindow* _tmp3_ = NULL;
	LibraryWindow* _tmp4_ = NULL;
	Tag* _tmp5_ = NULL;
	Tag* _tmp6_ = NULL;
#line 1205 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_IS_TREE (self));
#line 1206 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = new_root_tag_command_new ();
#line 1206 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	creation_command = _tmp0_;
#line 1207 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = app_window_get_command_manager ();
#line 1207 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = _tmp1_;
#line 1207 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	command_manager_execute (_tmp2_, G_TYPE_CHECK_INSTANCE_CAST (creation_command, TYPE_COMMAND, Command));
#line 1207 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_command_manager_unref0 (_tmp2_);
#line 1208 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = library_window_get_app ();
#line 1208 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = _tmp3_;
#line 1208 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = new_root_tag_command_get_created_tag (creation_command);
#line 1208 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = _tmp5_;
#line 1208 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	library_window_rename_tag_in_sidebar (_tmp4_, _tmp6_);
#line 1208 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (_tmp6_);
#line 1208 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (_tmp4_);
#line 1205 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (creation_command);
#line 7319 "Tree.c"
}


static void g_cclosure_user_marshal_VOID__OBJECT_BOOLEAN (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data) {
	typedef void (*GMarshalFunc_VOID__OBJECT_BOOLEAN) (gpointer data1, gpointer arg_1, gboolean arg_2, gpointer data2);
	register GMarshalFunc_VOID__OBJECT_BOOLEAN callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (n_param_values == 3);
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (G_CCLOSURE_SWAP_DATA (closure)) {
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		data1 = closure->data;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		data2 = param_values->data[0].v_pointer;
#line 7338 "Tree.c"
	} else {
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		data1 = param_values->data[0].v_pointer;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		data2 = closure->data;
#line 7344 "Tree.c"
	}
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	callback = (GMarshalFunc_VOID__OBJECT_BOOLEAN) (marshal_data ? marshal_data : cc->callback);
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	callback (data1, g_value_get_object (param_values + 1), g_value_get_boolean (param_values + 2), data2);
#line 7350 "Tree.c"
}


static void g_cclosure_user_marshal_VOID__OBJECT_OBJECT (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data) {
	typedef void (*GMarshalFunc_VOID__OBJECT_OBJECT) (gpointer data1, gpointer arg_1, gpointer arg_2, gpointer data2);
	register GMarshalFunc_VOID__OBJECT_OBJECT callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (n_param_values == 3);
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	if (G_CCLOSURE_SWAP_DATA (closure)) {
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		data1 = closure->data;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		data2 = param_values->data[0].v_pointer;
#line 7369 "Tree.c"
	} else {
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		data1 = param_values->data[0].v_pointer;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
		data2 = closure->data;
#line 7375 "Tree.c"
	}
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	callback = (GMarshalFunc_VOID__OBJECT_OBJECT) (marshal_data ? marshal_data : cc->callback);
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	callback (data1, g_value_get_object (param_values + 1), g_value_get_object (param_values + 2), data2);
#line 7381 "Tree.c"
}


static SidebarTreeEntryWrapper* sidebar_tree_entry_wrapper_construct (GType object_type, GtkTreeModel* model, SidebarEntry* entry, GtkTreePath* path) {
	SidebarTreeEntryWrapper * self = NULL;
	SidebarEntry* _tmp0_ = NULL;
	SidebarEntry* _tmp1_ = NULL;
	GtkTreeModel* _tmp2_ = NULL;
	GtkTreePath* _tmp3_ = NULL;
	GtkTreeRowReference* _tmp4_ = NULL;
#line 19 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (GTK_IS_TREE_MODEL (model), NULL);
#line 19 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), NULL);
#line 19 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (path != NULL, NULL);
#line 19 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self = (SidebarTreeEntryWrapper*) g_object_new (object_type, NULL);
#line 20 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = entry;
#line 20 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 20 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (self->entry);
#line 20 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->entry = _tmp1_;
#line 21 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = model;
#line 21 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = path;
#line 21 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp4_ = gtk_tree_row_reference_new (_tmp2_, _tmp3_);
#line 21 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_row_reference_free0 (self->row);
#line 21 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->row = _tmp4_;
#line 19 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return self;
#line 7420 "Tree.c"
}


static SidebarTreeEntryWrapper* sidebar_tree_entry_wrapper_new (GtkTreeModel* model, SidebarEntry* entry, GtkTreePath* path) {
#line 19 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return sidebar_tree_entry_wrapper_construct (SIDEBAR_TREE_TYPE_ENTRY_WRAPPER, model, entry, path);
#line 7427 "Tree.c"
}


static GtkTreePath* sidebar_tree_entry_wrapper_get_path (SidebarTreeEntryWrapper* self) {
	GtkTreePath* result = NULL;
	const GtkTreeRowReference* _tmp0_ = NULL;
	GtkTreePath* _tmp1_ = NULL;
#line 24 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_TREE_IS_ENTRY_WRAPPER (self), NULL);
#line 25 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->row;
#line 25 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = gtk_tree_row_reference_get_path (_tmp0_);
#line 25 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	result = _tmp1_;
#line 25 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return result;
#line 7445 "Tree.c"
}


static void sidebar_tree_entry_wrapper_get_iter (SidebarTreeEntryWrapper* self, GtkTreeIter* result) {
	GtkTreeIter iter = {0};
	gboolean valid = FALSE;
	const GtkTreeRowReference* _tmp0_ = NULL;
	GtkTreeModel* _tmp1_ = NULL;
	GtkTreePath* _tmp2_ = NULL;
	GtkTreePath* _tmp3_ = NULL;
	GtkTreeIter _tmp4_ = {0};
	gboolean _tmp5_ = FALSE;
	gboolean _tmp6_ = FALSE;
#line 28 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_if_fail (SIDEBAR_TREE_IS_ENTRY_WRAPPER (self));
#line 30 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->row;
#line 30 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = gtk_tree_row_reference_get_model (_tmp0_);
#line 30 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = sidebar_tree_entry_wrapper_get_path (self);
#line 30 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = _tmp2_;
#line 30 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp5_ = gtk_tree_model_get_iter (_tmp1_, &_tmp4_, _tmp3_);
#line 30 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	iter = _tmp4_;
#line 30 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp6_ = _tmp5_;
#line 30 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_path_free0 (_tmp3_);
#line 30 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	valid = _tmp6_;
#line 31 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_vala_assert (valid, "valid");
#line 33 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	*result = iter;
#line 33 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return;
#line 7485 "Tree.c"
}


static void sidebar_tree_entry_wrapper_class_init (SidebarTreeEntryWrapperClass * klass) {
#line 15 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_entry_wrapper_parent_class = g_type_class_peek_parent (klass);
#line 15 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	G_OBJECT_CLASS (klass)->finalize = sidebar_tree_entry_wrapper_finalize;
#line 7494 "Tree.c"
}


static void sidebar_tree_entry_wrapper_instance_init (SidebarTreeEntryWrapper * self) {
}


static void sidebar_tree_entry_wrapper_finalize (GObject* obj) {
	SidebarTreeEntryWrapper * self;
#line 15 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SIDEBAR_TREE_TYPE_ENTRY_WRAPPER, SidebarTreeEntryWrapper);
#line 16 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (self->entry);
#line 17 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_row_reference_free0 (self->row);
#line 15 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	G_OBJECT_CLASS (sidebar_tree_entry_wrapper_parent_class)->finalize (obj);
#line 7512 "Tree.c"
}


static GType sidebar_tree_entry_wrapper_get_type (void) {
	static volatile gsize sidebar_tree_entry_wrapper_type_id__volatile = 0;
	if (g_once_init_enter (&sidebar_tree_entry_wrapper_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (SidebarTreeEntryWrapperClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) sidebar_tree_entry_wrapper_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (SidebarTreeEntryWrapper), 0, (GInstanceInitFunc) sidebar_tree_entry_wrapper_instance_init, NULL };
		GType sidebar_tree_entry_wrapper_type_id;
		sidebar_tree_entry_wrapper_type_id = g_type_register_static (G_TYPE_OBJECT, "SidebarTreeEntryWrapper", &g_define_type_info, 0);
		g_once_init_leave (&sidebar_tree_entry_wrapper_type_id__volatile, sidebar_tree_entry_wrapper_type_id);
	}
	return sidebar_tree_entry_wrapper_type_id__volatile;
}


static SidebarTreeRootWrapper* sidebar_tree_root_wrapper_construct (GType object_type, GtkTreeModel* model, SidebarEntry* entry, GtkTreePath* path, gint root_position) {
	SidebarTreeRootWrapper * self = NULL;
	GtkTreeModel* _tmp0_ = NULL;
	SidebarEntry* _tmp1_ = NULL;
	GtkTreePath* _tmp2_ = NULL;
	gint _tmp3_ = 0;
#line 40 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (GTK_IS_TREE_MODEL (model), NULL);
#line 40 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), NULL);
#line 40 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_return_val_if_fail (path != NULL, NULL);
#line 41 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = model;
#line 41 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = entry;
#line 41 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = path;
#line 41 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self = (SidebarTreeRootWrapper*) sidebar_tree_entry_wrapper_construct (object_type, _tmp0_, _tmp1_, _tmp2_);
#line 43 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = root_position;
#line 43 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->root_position = _tmp3_;
#line 40 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return self;
#line 7554 "Tree.c"
}


static SidebarTreeRootWrapper* sidebar_tree_root_wrapper_new (GtkTreeModel* model, SidebarEntry* entry, GtkTreePath* path, gint root_position) {
#line 40 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	return sidebar_tree_root_wrapper_construct (SIDEBAR_TREE_TYPE_ROOT_WRAPPER, model, entry, path, root_position);
#line 7561 "Tree.c"
}


static void sidebar_tree_root_wrapper_class_init (SidebarTreeRootWrapperClass * klass) {
#line 37 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_root_wrapper_parent_class = g_type_class_peek_parent (klass);
#line 37 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	G_OBJECT_CLASS (klass)->finalize = sidebar_tree_root_wrapper_finalize;
#line 7570 "Tree.c"
}


static void sidebar_tree_root_wrapper_instance_init (SidebarTreeRootWrapper * self) {
}


static void sidebar_tree_root_wrapper_finalize (GObject* obj) {
	SidebarTreeRootWrapper * self;
#line 37 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SIDEBAR_TREE_TYPE_ROOT_WRAPPER, SidebarTreeRootWrapper);
#line 37 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	G_OBJECT_CLASS (sidebar_tree_root_wrapper_parent_class)->finalize (obj);
#line 7584 "Tree.c"
}


static GType sidebar_tree_root_wrapper_get_type (void) {
	static volatile gsize sidebar_tree_root_wrapper_type_id__volatile = 0;
	if (g_once_init_enter (&sidebar_tree_root_wrapper_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (SidebarTreeRootWrapperClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) sidebar_tree_root_wrapper_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (SidebarTreeRootWrapper), 0, (GInstanceInitFunc) sidebar_tree_root_wrapper_instance_init, NULL };
		GType sidebar_tree_root_wrapper_type_id;
		sidebar_tree_root_wrapper_type_id = g_type_register_static (SIDEBAR_TREE_TYPE_ENTRY_WRAPPER, "SidebarTreeRootWrapper", &g_define_type_info, 0);
		g_once_init_leave (&sidebar_tree_root_wrapper_type_id__volatile, sidebar_tree_root_wrapper_type_id);
	}
	return sidebar_tree_root_wrapper_type_id__volatile;
}


static void sidebar_tree_class_init (SidebarTreeClass * klass) {
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	sidebar_tree_parent_class = g_type_class_peek_parent (klass);
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_type_class_add_private (klass, sizeof (SidebarTreePrivate));
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	((SidebarTreeClass *) klass)->accept_cursor_changed = sidebar_tree_real_accept_cursor_changed;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	((GtkTreeViewClass *) klass)->cursor_changed = sidebar_tree_real_cursor_changed;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	((GtkWidgetClass *) klass)->button_press_event = sidebar_tree_real_button_press_event;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	((GtkWidgetClass *) klass)->key_press_event = sidebar_tree_real_key_press_event;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	((GtkWidgetClass *) klass)->drag_data_get = sidebar_tree_real_drag_data_get;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	((GtkWidgetClass *) klass)->drag_data_received = sidebar_tree_real_drag_data_received;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	((GtkWidgetClass *) klass)->drag_motion = sidebar_tree_real_drag_motion;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	G_OBJECT_CLASS (klass)->finalize = sidebar_tree_finalize;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_new ("entry_selected", SIDEBAR_TYPE_TREE, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, SIDEBAR_TYPE_SELECTABLE_ENTRY);
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_new ("selected_entry_removed", SIDEBAR_TYPE_TREE, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, SIDEBAR_TYPE_SELECTABLE_ENTRY);
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_new ("branch_added", SIDEBAR_TYPE_TREE, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, SIDEBAR_TYPE_BRANCH);
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_new ("branch_removed", SIDEBAR_TYPE_TREE, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, SIDEBAR_TYPE_BRANCH);
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_new ("branch_shown", SIDEBAR_TYPE_TREE, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__OBJECT_BOOLEAN, G_TYPE_NONE, 2, SIDEBAR_TYPE_BRANCH, G_TYPE_BOOLEAN);
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_new ("page_created", SIDEBAR_TYPE_TREE, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__OBJECT_OBJECT, G_TYPE_NONE, 2, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, TYPE_PAGE);
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_new ("destroying_page", SIDEBAR_TYPE_TREE, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__OBJECT_OBJECT, G_TYPE_NONE, 2, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, TYPE_PAGE);
#line 7635 "Tree.c"
}


static void sidebar_tree_instance_init (SidebarTree * self) {
	GtkTreeStore* _tmp0_ = NULL;
	GtkBuilder* _tmp1_ = NULL;
	GeeHashMap* _tmp2_ = NULL;
	GeeHashMap* _tmp3_ = NULL;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv = SIDEBAR_TREE_GET_PRIVATE (self);
#line 55 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = gtk_tree_store_new ((gint) SIDEBAR_TREE_COLUMNS_N_COLUMNS, G_TYPE_STRING, G_TYPE_STRING, SIDEBAR_TREE_TYPE_ENTRY_WRAPPER, G_TYPE_STRING);
#line 55 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->store = _tmp0_;
#line 62 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp1_ = gtk_builder_new ();
#line 62 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->builder = _tmp1_;
#line 65 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->text_entry = NULL;
#line 66 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = gee_hash_map_new (SIDEBAR_TYPE_ENTRY, (GBoxedCopyFunc) g_object_ref, g_object_unref, SIDEBAR_TREE_TYPE_ENTRY_WRAPPER, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 66 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->entry_map = _tmp2_;
#line 68 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp3_ = gee_hash_map_new (SIDEBAR_TYPE_BRANCH, (GBoxedCopyFunc) g_object_ref, g_object_unref, G_TYPE_INT, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 68 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->branches = _tmp3_;
#line 69 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->editing_disabled = 0;
#line 70 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->mask_entry_selected_signal = FALSE;
#line 71 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->selected_wrapper = NULL;
#line 72 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->default_context_menu = NULL;
#line 73 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->expander_called_manually = FALSE;
#line 74 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->expander_special_count = 0;
#line 75 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->is_internal_drag_in_progress = FALSE;
#line 76 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->internal_drag_source_entry = NULL;
#line 77 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self->priv->old_path_ref = NULL;
#line 7682 "Tree.c"
}


static void sidebar_tree_finalize (GObject* obj) {
	SidebarTree * self;
	GtkCellRendererText* _tmp0_ = NULL;
	guint _tmp1_ = 0U;
	GtkCellRendererText* _tmp2_ = NULL;
	guint _tmp3_ = 0U;
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SIDEBAR_TYPE_TREE, SidebarTree);
#line 156 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp0_ = self->priv->text_renderer;
#line 156 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_parse_name ("editing-canceled", gtk_cell_renderer_get_type (), &_tmp1_, NULL, FALSE);
#line 156 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, gtk_cell_renderer_get_type (), GtkCellRenderer), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp1_, 0, NULL, (GCallback) _sidebar_tree_on_editing_canceled_gtk_cell_renderer_editing_canceled, self);
#line 157 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_tmp2_ = self->priv->text_renderer;
#line 157 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_parse_name ("editing-started", gtk_cell_renderer_get_type (), &_tmp3_, NULL, FALSE);
#line 157 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, gtk_cell_renderer_get_type (), GtkCellRenderer), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp3_, 0, NULL, (GCallback) _sidebar_tree_on_editing_started_gtk_cell_renderer_editing_started, self);
#line 55 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (self->priv->store);
#line 62 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (self->priv->builder);
#line 63 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (self->priv->text_renderer);
#line 65 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (self->priv->text_entry);
#line 66 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (self->priv->entry_map);
#line 68 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (self->priv->branches);
#line 72 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (self->priv->default_context_menu);
#line 76 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_g_object_unref0 (self->priv->internal_drag_source_entry);
#line 77 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	_gtk_tree_row_reference_free0 (self->priv->old_path_ref);
#line 7 "/home/jens/Source/shotwell/src/sidebar/Tree.vala"
	G_OBJECT_CLASS (sidebar_tree_parent_class)->finalize (obj);
#line 7726 "Tree.c"
}


GType sidebar_tree_get_type (void) {
	static volatile gsize sidebar_tree_type_id__volatile = 0;
	if (g_once_init_enter (&sidebar_tree_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (SidebarTreeClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) sidebar_tree_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (SidebarTree), 0, (GInstanceInitFunc) sidebar_tree_instance_init, NULL };
		GType sidebar_tree_type_id;
		sidebar_tree_type_id = g_type_register_static (gtk_tree_view_get_type (), "SidebarTree", &g_define_type_info, 0);
		g_once_init_leave (&sidebar_tree_type_id__volatile, sidebar_tree_type_id);
	}
	return sidebar_tree_type_id__volatile;
}



