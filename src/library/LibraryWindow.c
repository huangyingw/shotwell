/* LibraryWindow.c generated by valac 0.34.2, the Vala compiler
 * generated from LibraryWindow.vala, do not modify */

/* Copyright 2016 Software Freedom Conservancy Inc.
 *
 * This software is licensed under the GNU Lesser General Public License
 * (version 2.1 or later).  See the COPYING file in this distribution.
 */

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <gee.h>
#include <gio/gio.h>
#include <gdk/gdk.h>
#include <glib/gi18n-lib.h>
#include <gphoto2/gphoto2-camera.h>
#include <gphoto.h>
#include <float.h>
#include <math.h>
#include <cairo.h>
#include <gdk-pixbuf/gdk-pixbuf.h>


#define TYPE_PAGE_WINDOW (page_window_get_type ())
#define PAGE_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_PAGE_WINDOW, PageWindow))
#define PAGE_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_PAGE_WINDOW, PageWindowClass))
#define IS_PAGE_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_PAGE_WINDOW))
#define IS_PAGE_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_PAGE_WINDOW))
#define PAGE_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_PAGE_WINDOW, PageWindowClass))

typedef struct _PageWindow PageWindow;
typedef struct _PageWindowClass PageWindowClass;
typedef struct _PageWindowPrivate PageWindowPrivate;

#define TYPE_PAGE (page_get_type ())
#define PAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_PAGE, Page))
#define PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_PAGE, PageClass))
#define IS_PAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_PAGE))
#define IS_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_PAGE))
#define PAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_PAGE, PageClass))

typedef struct _Page Page;
typedef struct _PageClass PageClass;

#define TYPE_APP_WINDOW (app_window_get_type ())
#define APP_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_APP_WINDOW, AppWindow))
#define APP_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_APP_WINDOW, AppWindowClass))
#define IS_APP_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_APP_WINDOW))
#define IS_APP_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_APP_WINDOW))
#define APP_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_APP_WINDOW, AppWindowClass))

typedef struct _AppWindow AppWindow;
typedef struct _AppWindowClass AppWindowClass;
typedef struct _AppWindowPrivate AppWindowPrivate;

#define TYPE_DIMENSIONS (dimensions_get_type ())
typedef struct _Dimensions Dimensions;

#define TYPE_LIBRARY_WINDOW (library_window_get_type ())
#define LIBRARY_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_LIBRARY_WINDOW, LibraryWindow))
#define LIBRARY_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_LIBRARY_WINDOW, LibraryWindowClass))
#define IS_LIBRARY_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_LIBRARY_WINDOW))
#define IS_LIBRARY_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_LIBRARY_WINDOW))
#define LIBRARY_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_LIBRARY_WINDOW, LibraryWindowClass))

typedef struct _LibraryWindow LibraryWindow;
typedef struct _LibraryWindowClass LibraryWindowClass;
typedef struct _LibraryWindowPrivate LibraryWindowPrivate;

#define TYPE_ONE_SHOT_SCHEDULER (one_shot_scheduler_get_type ())
#define ONE_SHOT_SCHEDULER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_ONE_SHOT_SCHEDULER, OneShotScheduler))
#define ONE_SHOT_SCHEDULER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_ONE_SHOT_SCHEDULER, OneShotSchedulerClass))
#define IS_ONE_SHOT_SCHEDULER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_ONE_SHOT_SCHEDULER))
#define IS_ONE_SHOT_SCHEDULER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_ONE_SHOT_SCHEDULER))
#define ONE_SHOT_SCHEDULER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_ONE_SHOT_SCHEDULER, OneShotSchedulerClass))

typedef struct _OneShotScheduler OneShotScheduler;
typedef struct _OneShotSchedulerClass OneShotSchedulerClass;

#define SIDEBAR_TYPE_TREE (sidebar_tree_get_type ())
#define SIDEBAR_TREE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_TREE, SidebarTree))
#define SIDEBAR_TREE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SIDEBAR_TYPE_TREE, SidebarTreeClass))
#define SIDEBAR_IS_TREE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_TREE))
#define SIDEBAR_IS_TREE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SIDEBAR_TYPE_TREE))
#define SIDEBAR_TREE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SIDEBAR_TYPE_TREE, SidebarTreeClass))

typedef struct _SidebarTree SidebarTree;
typedef struct _SidebarTreeClass SidebarTreeClass;

#define SIDEBAR_TYPE_BRANCH (sidebar_branch_get_type ())
#define SIDEBAR_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_BRANCH, SidebarBranch))
#define SIDEBAR_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SIDEBAR_TYPE_BRANCH, SidebarBranchClass))
#define SIDEBAR_IS_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_BRANCH))
#define SIDEBAR_IS_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SIDEBAR_TYPE_BRANCH))
#define SIDEBAR_BRANCH_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SIDEBAR_TYPE_BRANCH, SidebarBranchClass))

typedef struct _SidebarBranch SidebarBranch;
typedef struct _SidebarBranchClass SidebarBranchClass;

#define LIBRARY_TYPE_BRANCH (library_branch_get_type ())
#define LIBRARY_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LIBRARY_TYPE_BRANCH, LibraryBranch))
#define LIBRARY_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LIBRARY_TYPE_BRANCH, LibraryBranchClass))
#define LIBRARY_IS_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LIBRARY_TYPE_BRANCH))
#define LIBRARY_IS_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LIBRARY_TYPE_BRANCH))
#define LIBRARY_BRANCH_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LIBRARY_TYPE_BRANCH, LibraryBranchClass))

typedef struct _LibraryBranch LibraryBranch;
typedef struct _LibraryBranchClass LibraryBranchClass;

#define TAGS_TYPE_BRANCH (tags_branch_get_type ())
#define TAGS_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TAGS_TYPE_BRANCH, TagsBranch))
#define TAGS_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TAGS_TYPE_BRANCH, TagsBranchClass))
#define TAGS_IS_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TAGS_TYPE_BRANCH))
#define TAGS_IS_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TAGS_TYPE_BRANCH))
#define TAGS_BRANCH_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TAGS_TYPE_BRANCH, TagsBranchClass))

typedef struct _TagsBranch TagsBranch;
typedef struct _TagsBranchClass TagsBranchClass;

#define FOLDERS_TYPE_BRANCH (folders_branch_get_type ())
#define FOLDERS_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FOLDERS_TYPE_BRANCH, FoldersBranch))
#define FOLDERS_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FOLDERS_TYPE_BRANCH, FoldersBranchClass))
#define FOLDERS_IS_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FOLDERS_TYPE_BRANCH))
#define FOLDERS_IS_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FOLDERS_TYPE_BRANCH))
#define FOLDERS_BRANCH_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FOLDERS_TYPE_BRANCH, FoldersBranchClass))

typedef struct _FoldersBranch FoldersBranch;
typedef struct _FoldersBranchClass FoldersBranchClass;

#define EVENTS_TYPE_BRANCH (events_branch_get_type ())
#define EVENTS_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), EVENTS_TYPE_BRANCH, EventsBranch))
#define EVENTS_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), EVENTS_TYPE_BRANCH, EventsBranchClass))
#define EVENTS_IS_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), EVENTS_TYPE_BRANCH))
#define EVENTS_IS_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), EVENTS_TYPE_BRANCH))
#define EVENTS_BRANCH_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), EVENTS_TYPE_BRANCH, EventsBranchClass))

typedef struct _EventsBranch EventsBranch;
typedef struct _EventsBranchClass EventsBranchClass;

#define CAMERA_TYPE_BRANCH (camera_branch_get_type ())
#define CAMERA_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CAMERA_TYPE_BRANCH, CameraBranch))
#define CAMERA_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CAMERA_TYPE_BRANCH, CameraBranchClass))
#define CAMERA_IS_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CAMERA_TYPE_BRANCH))
#define CAMERA_IS_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CAMERA_TYPE_BRANCH))
#define CAMERA_BRANCH_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CAMERA_TYPE_BRANCH, CameraBranchClass))

typedef struct _CameraBranch CameraBranch;
typedef struct _CameraBranchClass CameraBranchClass;

#define SEARCHES_TYPE_BRANCH (searches_branch_get_type ())
#define SEARCHES_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SEARCHES_TYPE_BRANCH, SearchesBranch))
#define SEARCHES_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SEARCHES_TYPE_BRANCH, SearchesBranchClass))
#define SEARCHES_IS_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SEARCHES_TYPE_BRANCH))
#define SEARCHES_IS_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SEARCHES_TYPE_BRANCH))
#define SEARCHES_BRANCH_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SEARCHES_TYPE_BRANCH, SearchesBranchClass))

typedef struct _SearchesBranch SearchesBranch;
typedef struct _SearchesBranchClass SearchesBranchClass;

#define SIDEBAR_TYPE_ENTRY (sidebar_entry_get_type ())
#define SIDEBAR_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_ENTRY, SidebarEntry))
#define SIDEBAR_IS_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_ENTRY))
#define SIDEBAR_ENTRY_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_ENTRY, SidebarEntryIface))

typedef struct _SidebarEntry SidebarEntry;
typedef struct _SidebarEntryIface SidebarEntryIface;

#define TYPE_SINGLE_PHOTO_PAGE (single_photo_page_get_type ())
#define SINGLE_PHOTO_PAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SINGLE_PHOTO_PAGE, SinglePhotoPage))
#define SINGLE_PHOTO_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SINGLE_PHOTO_PAGE, SinglePhotoPageClass))
#define IS_SINGLE_PHOTO_PAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SINGLE_PHOTO_PAGE))
#define IS_SINGLE_PHOTO_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SINGLE_PHOTO_PAGE))
#define SINGLE_PHOTO_PAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SINGLE_PHOTO_PAGE, SinglePhotoPageClass))

typedef struct _SinglePhotoPage SinglePhotoPage;
typedef struct _SinglePhotoPageClass SinglePhotoPageClass;

#define TYPE_EDITING_HOST_PAGE (editing_host_page_get_type ())
#define EDITING_HOST_PAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_EDITING_HOST_PAGE, EditingHostPage))
#define EDITING_HOST_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_EDITING_HOST_PAGE, EditingHostPageClass))
#define IS_EDITING_HOST_PAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_EDITING_HOST_PAGE))
#define IS_EDITING_HOST_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_EDITING_HOST_PAGE))
#define EDITING_HOST_PAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_EDITING_HOST_PAGE, EditingHostPageClass))

typedef struct _EditingHostPage EditingHostPage;
typedef struct _EditingHostPageClass EditingHostPageClass;

#define TYPE_LIBRARY_PHOTO_PAGE (library_photo_page_get_type ())
#define LIBRARY_PHOTO_PAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_LIBRARY_PHOTO_PAGE, LibraryPhotoPage))
#define LIBRARY_PHOTO_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_LIBRARY_PHOTO_PAGE, LibraryPhotoPageClass))
#define IS_LIBRARY_PHOTO_PAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_LIBRARY_PHOTO_PAGE))
#define IS_LIBRARY_PHOTO_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_LIBRARY_PHOTO_PAGE))
#define LIBRARY_PHOTO_PAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_LIBRARY_PHOTO_PAGE, LibraryPhotoPageClass))

typedef struct _LibraryPhotoPage LibraryPhotoPage;
typedef struct _LibraryPhotoPageClass LibraryPhotoPageClass;

#define TYPE_SEARCH_FILTER_ACTIONS (search_filter_actions_get_type ())
#define SEARCH_FILTER_ACTIONS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SEARCH_FILTER_ACTIONS, SearchFilterActions))
#define SEARCH_FILTER_ACTIONS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SEARCH_FILTER_ACTIONS, SearchFilterActionsClass))
#define IS_SEARCH_FILTER_ACTIONS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SEARCH_FILTER_ACTIONS))
#define IS_SEARCH_FILTER_ACTIONS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SEARCH_FILTER_ACTIONS))
#define SEARCH_FILTER_ACTIONS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SEARCH_FILTER_ACTIONS, SearchFilterActionsClass))

typedef struct _SearchFilterActions SearchFilterActions;
typedef struct _SearchFilterActionsClass SearchFilterActionsClass;

#define TYPE_SEARCH_FILTER_TOOLBAR (search_filter_toolbar_get_type ())
#define SEARCH_FILTER_TOOLBAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SEARCH_FILTER_TOOLBAR, SearchFilterToolbar))
#define SEARCH_FILTER_TOOLBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SEARCH_FILTER_TOOLBAR, SearchFilterToolbarClass))
#define IS_SEARCH_FILTER_TOOLBAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SEARCH_FILTER_TOOLBAR))
#define IS_SEARCH_FILTER_TOOLBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SEARCH_FILTER_TOOLBAR))
#define SEARCH_FILTER_TOOLBAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SEARCH_FILTER_TOOLBAR, SearchFilterToolbarClass))

typedef struct _SearchFilterToolbar SearchFilterToolbar;
typedef struct _SearchFilterToolbarClass SearchFilterToolbarClass;

#define TYPE_PROPERTIES (properties_get_type ())
#define PROPERTIES(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_PROPERTIES, Properties))
#define PROPERTIES_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_PROPERTIES, PropertiesClass))
#define IS_PROPERTIES(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_PROPERTIES))
#define IS_PROPERTIES_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_PROPERTIES))
#define PROPERTIES_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_PROPERTIES, PropertiesClass))

typedef struct _Properties Properties;
typedef struct _PropertiesClass PropertiesClass;

#define TYPE_BASIC_PROPERTIES (basic_properties_get_type ())
#define BASIC_PROPERTIES(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_BASIC_PROPERTIES, BasicProperties))
#define BASIC_PROPERTIES_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_BASIC_PROPERTIES, BasicPropertiesClass))
#define IS_BASIC_PROPERTIES(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_BASIC_PROPERTIES))
#define IS_BASIC_PROPERTIES_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_BASIC_PROPERTIES))
#define BASIC_PROPERTIES_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_BASIC_PROPERTIES, BasicPropertiesClass))

typedef struct _BasicProperties BasicProperties;
typedef struct _BasicPropertiesClass BasicPropertiesClass;

#define TYPE_EXTENDED_PROPERTIES_WINDOW (extended_properties_window_get_type ())
#define EXTENDED_PROPERTIES_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_EXTENDED_PROPERTIES_WINDOW, ExtendedPropertiesWindow))
#define EXTENDED_PROPERTIES_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_EXTENDED_PROPERTIES_WINDOW, ExtendedPropertiesWindowClass))
#define IS_EXTENDED_PROPERTIES_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_EXTENDED_PROPERTIES_WINDOW))
#define IS_EXTENDED_PROPERTIES_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_EXTENDED_PROPERTIES_WINDOW))
#define EXTENDED_PROPERTIES_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_EXTENDED_PROPERTIES_WINDOW, ExtendedPropertiesWindowClass))

typedef struct _ExtendedPropertiesWindow ExtendedPropertiesWindow;
typedef struct _ExtendedPropertiesWindowClass ExtendedPropertiesWindowClass;

#define SIDEBAR_TYPE_SELECTABLE_ENTRY (sidebar_selectable_entry_get_type ())
#define SIDEBAR_SELECTABLE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_SELECTABLE_ENTRY, SidebarSelectableEntry))
#define SIDEBAR_IS_SELECTABLE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_SELECTABLE_ENTRY))
#define SIDEBAR_SELECTABLE_ENTRY_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_SELECTABLE_ENTRY, SidebarSelectableEntryIface))

typedef struct _SidebarSelectableEntry SidebarSelectableEntry;
typedef struct _SidebarSelectableEntryIface SidebarSelectableEntryIface;

#define SIDEBAR_TYPE_PAGE_REPRESENTATIVE (sidebar_page_representative_get_type ())
#define SIDEBAR_PAGE_REPRESENTATIVE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative))
#define SIDEBAR_IS_PAGE_REPRESENTATIVE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_PAGE_REPRESENTATIVE))
#define SIDEBAR_PAGE_REPRESENTATIVE_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentativeIface))

typedef struct _SidebarPageRepresentative SidebarPageRepresentative;
typedef struct _SidebarPageRepresentativeIface SidebarPageRepresentativeIface;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define TYPE_DATA_COLLECTION (data_collection_get_type ())
#define DATA_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DATA_COLLECTION, DataCollection))
#define DATA_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DATA_COLLECTION, DataCollectionClass))
#define IS_DATA_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DATA_COLLECTION))
#define IS_DATA_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DATA_COLLECTION))
#define DATA_COLLECTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DATA_COLLECTION, DataCollectionClass))

typedef struct _DataCollection DataCollection;
typedef struct _DataCollectionClass DataCollectionClass;

#define TYPE_SOURCE_COLLECTION (source_collection_get_type ())
#define SOURCE_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SOURCE_COLLECTION, SourceCollection))
#define SOURCE_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SOURCE_COLLECTION, SourceCollectionClass))
#define IS_SOURCE_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SOURCE_COLLECTION))
#define IS_SOURCE_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SOURCE_COLLECTION))
#define SOURCE_COLLECTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SOURCE_COLLECTION, SourceCollectionClass))

typedef struct _SourceCollection SourceCollection;
typedef struct _SourceCollectionClass SourceCollectionClass;

#define TYPE_DATABASE_SOURCE_COLLECTION (database_source_collection_get_type ())
#define DATABASE_SOURCE_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DATABASE_SOURCE_COLLECTION, DatabaseSourceCollection))
#define DATABASE_SOURCE_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DATABASE_SOURCE_COLLECTION, DatabaseSourceCollectionClass))
#define IS_DATABASE_SOURCE_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DATABASE_SOURCE_COLLECTION))
#define IS_DATABASE_SOURCE_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DATABASE_SOURCE_COLLECTION))
#define DATABASE_SOURCE_COLLECTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DATABASE_SOURCE_COLLECTION, DatabaseSourceCollectionClass))

typedef struct _DatabaseSourceCollection DatabaseSourceCollection;
typedef struct _DatabaseSourceCollectionClass DatabaseSourceCollectionClass;

#define TYPE_MEDIA_SOURCE_COLLECTION (media_source_collection_get_type ())
#define MEDIA_SOURCE_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_MEDIA_SOURCE_COLLECTION, MediaSourceCollection))
#define MEDIA_SOURCE_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_MEDIA_SOURCE_COLLECTION, MediaSourceCollectionClass))
#define IS_MEDIA_SOURCE_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_MEDIA_SOURCE_COLLECTION))
#define IS_MEDIA_SOURCE_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_MEDIA_SOURCE_COLLECTION))
#define MEDIA_SOURCE_COLLECTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_MEDIA_SOURCE_COLLECTION, MediaSourceCollectionClass))

typedef struct _MediaSourceCollection MediaSourceCollection;
typedef struct _MediaSourceCollectionClass MediaSourceCollectionClass;

#define TYPE_MEDIA_COLLECTION_REGISTRY (media_collection_registry_get_type ())
#define MEDIA_COLLECTION_REGISTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_MEDIA_COLLECTION_REGISTRY, MediaCollectionRegistry))
#define MEDIA_COLLECTION_REGISTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_MEDIA_COLLECTION_REGISTRY, MediaCollectionRegistryClass))
#define IS_MEDIA_COLLECTION_REGISTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_MEDIA_COLLECTION_REGISTRY))
#define IS_MEDIA_COLLECTION_REGISTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_MEDIA_COLLECTION_REGISTRY))
#define MEDIA_COLLECTION_REGISTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_MEDIA_COLLECTION_REGISTRY, MediaCollectionRegistryClass))

typedef struct _MediaCollectionRegistry MediaCollectionRegistry;
typedef struct _MediaCollectionRegistryClass MediaCollectionRegistryClass;
#define _media_collection_registry_unref0(var) ((var == NULL) ? NULL : (var = (media_collection_registry_unref (var), NULL)))

#define TYPE_DATA_OBJECT (data_object_get_type ())
#define DATA_OBJECT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DATA_OBJECT, DataObject))
#define DATA_OBJECT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DATA_OBJECT, DataObjectClass))
#define IS_DATA_OBJECT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DATA_OBJECT))
#define IS_DATA_OBJECT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DATA_OBJECT))
#define DATA_OBJECT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DATA_OBJECT, DataObjectClass))

typedef struct _DataObject DataObject;
typedef struct _DataObjectClass DataObjectClass;

#define TYPE_DATA_SOURCE (data_source_get_type ())
#define DATA_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DATA_SOURCE, DataSource))
#define DATA_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DATA_SOURCE, DataSourceClass))
#define IS_DATA_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DATA_SOURCE))
#define IS_DATA_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DATA_SOURCE))
#define DATA_SOURCE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DATA_SOURCE, DataSourceClass))

typedef struct _DataSource DataSource;
typedef struct _DataSourceClass DataSourceClass;

#define TYPE_THUMBNAIL_SOURCE (thumbnail_source_get_type ())
#define THUMBNAIL_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_THUMBNAIL_SOURCE, ThumbnailSource))
#define THUMBNAIL_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_THUMBNAIL_SOURCE, ThumbnailSourceClass))
#define IS_THUMBNAIL_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_THUMBNAIL_SOURCE))
#define IS_THUMBNAIL_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_THUMBNAIL_SOURCE))
#define THUMBNAIL_SOURCE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_THUMBNAIL_SOURCE, ThumbnailSourceClass))

typedef struct _ThumbnailSource ThumbnailSource;
typedef struct _ThumbnailSourceClass ThumbnailSourceClass;

#define TYPE_MEDIA_SOURCE (media_source_get_type ())
#define MEDIA_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_MEDIA_SOURCE, MediaSource))
#define MEDIA_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_MEDIA_SOURCE, MediaSourceClass))
#define IS_MEDIA_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_MEDIA_SOURCE))
#define IS_MEDIA_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_MEDIA_SOURCE))
#define MEDIA_SOURCE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_MEDIA_SOURCE, MediaSourceClass))

typedef struct _MediaSource MediaSource;
typedef struct _MediaSourceClass MediaSourceClass;

#define TYPE_ALTERATION (alteration_get_type ())
#define ALTERATION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_ALTERATION, Alteration))
#define ALTERATION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_ALTERATION, AlterationClass))
#define IS_ALTERATION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_ALTERATION))
#define IS_ALTERATION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_ALTERATION))
#define ALTERATION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_ALTERATION, AlterationClass))

typedef struct _Alteration Alteration;
typedef struct _AlterationClass AlterationClass;
#define _data_collection_unref0(var) ((var == NULL) ? NULL : (var = (data_collection_unref (var), NULL)))

#define TYPE_METADATA_WRITER (metadata_writer_get_type ())
#define METADATA_WRITER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_METADATA_WRITER, MetadataWriter))
#define METADATA_WRITER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_METADATA_WRITER, MetadataWriterClass))
#define IS_METADATA_WRITER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_METADATA_WRITER))
#define IS_METADATA_WRITER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_METADATA_WRITER))
#define METADATA_WRITER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_METADATA_WRITER, MetadataWriterClass))

typedef struct _MetadataWriter MetadataWriter;
typedef struct _MetadataWriterClass MetadataWriterClass;

#define TYPE_DIRECTORY_MONITOR (directory_monitor_get_type ())
#define DIRECTORY_MONITOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DIRECTORY_MONITOR, DirectoryMonitor))
#define DIRECTORY_MONITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DIRECTORY_MONITOR, DirectoryMonitorClass))
#define IS_DIRECTORY_MONITOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DIRECTORY_MONITOR))
#define IS_DIRECTORY_MONITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DIRECTORY_MONITOR))
#define DIRECTORY_MONITOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DIRECTORY_MONITOR, DirectoryMonitorClass))

typedef struct _DirectoryMonitor DirectoryMonitor;
typedef struct _DirectoryMonitorClass DirectoryMonitorClass;

#define TYPE_LIBRARY_MONITOR (library_monitor_get_type ())
#define LIBRARY_MONITOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_LIBRARY_MONITOR, LibraryMonitor))
#define LIBRARY_MONITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_LIBRARY_MONITOR, LibraryMonitorClass))
#define IS_LIBRARY_MONITOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_LIBRARY_MONITOR))
#define IS_LIBRARY_MONITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_LIBRARY_MONITOR))
#define LIBRARY_MONITOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_LIBRARY_MONITOR, LibraryMonitorClass))

typedef struct _LibraryMonitor LibraryMonitor;
typedef struct _LibraryMonitorClass LibraryMonitorClass;

#define TYPE_LIBRARY_MONITOR_POOL (library_monitor_pool_get_type ())
#define LIBRARY_MONITOR_POOL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_LIBRARY_MONITOR_POOL, LibraryMonitorPool))
#define LIBRARY_MONITOR_POOL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_LIBRARY_MONITOR_POOL, LibraryMonitorPoolClass))
#define IS_LIBRARY_MONITOR_POOL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_LIBRARY_MONITOR_POOL))
#define IS_LIBRARY_MONITOR_POOL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_LIBRARY_MONITOR_POOL))
#define LIBRARY_MONITOR_POOL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_LIBRARY_MONITOR_POOL, LibraryMonitorPoolClass))

typedef struct _LibraryMonitorPool LibraryMonitorPool;
typedef struct _LibraryMonitorPoolClass LibraryMonitorPoolClass;
#define _library_monitor_pool_unref0(var) ((var == NULL) ? NULL : (var = (library_monitor_pool_unref (var), NULL)))

#define TYPE_CAMERA_TABLE (camera_table_get_type ())
#define CAMERA_TABLE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_CAMERA_TABLE, CameraTable))
#define CAMERA_TABLE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_CAMERA_TABLE, CameraTableClass))
#define IS_CAMERA_TABLE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_CAMERA_TABLE))
#define IS_CAMERA_TABLE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_CAMERA_TABLE))
#define CAMERA_TABLE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_CAMERA_TABLE, CameraTableClass))

typedef struct _CameraTable CameraTable;
typedef struct _CameraTableClass CameraTableClass;

#define TYPE_DISCOVERED_CAMERA (discovered_camera_get_type ())
#define DISCOVERED_CAMERA(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DISCOVERED_CAMERA, DiscoveredCamera))
#define DISCOVERED_CAMERA_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DISCOVERED_CAMERA, DiscoveredCameraClass))
#define IS_DISCOVERED_CAMERA(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DISCOVERED_CAMERA))
#define IS_DISCOVERED_CAMERA_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DISCOVERED_CAMERA))
#define DISCOVERED_CAMERA_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DISCOVERED_CAMERA, DiscoveredCameraClass))

typedef struct _DiscoveredCamera DiscoveredCamera;
typedef struct _DiscoveredCameraClass DiscoveredCameraClass;
#define _camera_table_unref0(var) ((var == NULL) ? NULL : (var = (camera_table_unref (var), NULL)))

#define LIBRARY_WINDOW_TYPE_SIDEBAR_ROOT_POSITION (library_window_sidebar_root_position_get_type ())

#define LIBRARY_WINDOW_TYPE_TARGET_TYPE (library_window_target_type_get_type ())
#define _g_free0(var) (var = (g_free (var), NULL))
#define _one_shot_scheduler_unref0(var) ((var == NULL) ? NULL : (var = (one_shot_scheduler_unref (var), NULL)))
#define _search_filter_actions_unref0(var) ((var == NULL) ? NULL : (var = (search_filter_actions_unref (var), NULL)))

#define SIDEBAR_TYPE_SIMPLE_PAGE_ENTRY (sidebar_simple_page_entry_get_type ())
#define SIDEBAR_SIMPLE_PAGE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_SIMPLE_PAGE_ENTRY, SidebarSimplePageEntry))
#define SIDEBAR_SIMPLE_PAGE_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SIDEBAR_TYPE_SIMPLE_PAGE_ENTRY, SidebarSimplePageEntryClass))
#define SIDEBAR_IS_SIMPLE_PAGE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_SIMPLE_PAGE_ENTRY))
#define SIDEBAR_IS_SIMPLE_PAGE_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SIDEBAR_TYPE_SIMPLE_PAGE_ENTRY))
#define SIDEBAR_SIMPLE_PAGE_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SIDEBAR_TYPE_SIMPLE_PAGE_ENTRY, SidebarSimplePageEntryClass))

typedef struct _SidebarSimplePageEntry SidebarSimplePageEntry;
typedef struct _SidebarSimplePageEntryClass SidebarSimplePageEntryClass;

#define LIBRARY_TYPE_PHOTOS_ENTRY (library_photos_entry_get_type ())
#define LIBRARY_PHOTOS_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LIBRARY_TYPE_PHOTOS_ENTRY, LibraryPhotosEntry))
#define LIBRARY_PHOTOS_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LIBRARY_TYPE_PHOTOS_ENTRY, LibraryPhotosEntryClass))
#define LIBRARY_IS_PHOTOS_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LIBRARY_TYPE_PHOTOS_ENTRY))
#define LIBRARY_IS_PHOTOS_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LIBRARY_TYPE_PHOTOS_ENTRY))
#define LIBRARY_PHOTOS_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LIBRARY_TYPE_PHOTOS_ENTRY, LibraryPhotosEntryClass))

typedef struct _LibraryPhotosEntry LibraryPhotosEntry;
typedef struct _LibraryPhotosEntryClass LibraryPhotosEntryClass;

#define TYPE_VIEW_COLLECTION (view_collection_get_type ())
#define VIEW_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_VIEW_COLLECTION, ViewCollection))
#define VIEW_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_VIEW_COLLECTION, ViewCollectionClass))
#define IS_VIEW_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_VIEW_COLLECTION))
#define IS_VIEW_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_VIEW_COLLECTION))
#define VIEW_COLLECTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_VIEW_COLLECTION, ViewCollectionClass))

typedef struct _ViewCollection ViewCollection;
typedef struct _ViewCollectionClass ViewCollectionClass;

#define TYPE_VIEW_FILTER (view_filter_get_type ())
#define VIEW_FILTER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_VIEW_FILTER, ViewFilter))
#define VIEW_FILTER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_VIEW_FILTER, ViewFilterClass))
#define IS_VIEW_FILTER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_VIEW_FILTER))
#define IS_VIEW_FILTER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_VIEW_FILTER))
#define VIEW_FILTER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_VIEW_FILTER, ViewFilterClass))

typedef struct _ViewFilter ViewFilter;
typedef struct _ViewFilterClass ViewFilterClass;
#define _g_variant_unref0(var) ((var == NULL) ? NULL : (var = (g_variant_unref (var), NULL)))

#define TYPE_CHECKERBOARD_PAGE (checkerboard_page_get_type ())
#define CHECKERBOARD_PAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_CHECKERBOARD_PAGE, CheckerboardPage))
#define CHECKERBOARD_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_CHECKERBOARD_PAGE, CheckerboardPageClass))
#define IS_CHECKERBOARD_PAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_CHECKERBOARD_PAGE))
#define IS_CHECKERBOARD_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_CHECKERBOARD_PAGE))
#define CHECKERBOARD_PAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_CHECKERBOARD_PAGE, CheckerboardPageClass))

typedef struct _CheckerboardPage CheckerboardPage;
typedef struct _CheckerboardPageClass CheckerboardPageClass;

#define TYPE_TAG (tag_get_type ())
#define TAG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_TAG, Tag))
#define TAG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_TAG, TagClass))
#define IS_TAG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_TAG))
#define IS_TAG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_TAG))
#define TAG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_TAG, TagClass))

typedef struct _Tag Tag;
typedef struct _TagClass TagClass;

#define TAGS_TYPE_SIDEBAR_ENTRY (tags_sidebar_entry_get_type ())
#define TAGS_SIDEBAR_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TAGS_TYPE_SIDEBAR_ENTRY, TagsSidebarEntry))
#define TAGS_SIDEBAR_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TAGS_TYPE_SIDEBAR_ENTRY, TagsSidebarEntryClass))
#define TAGS_IS_SIDEBAR_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TAGS_TYPE_SIDEBAR_ENTRY))
#define TAGS_IS_SIDEBAR_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TAGS_TYPE_SIDEBAR_ENTRY))
#define TAGS_SIDEBAR_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TAGS_TYPE_SIDEBAR_ENTRY, TagsSidebarEntryClass))

typedef struct _TagsSidebarEntry TagsSidebarEntry;
typedef struct _TagsSidebarEntryClass TagsSidebarEntryClass;

#define TYPE_EVENT_SOURCE (event_source_get_type ())
#define EVENT_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_EVENT_SOURCE, EventSource))
#define EVENT_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_EVENT_SOURCE, EventSourceClass))
#define IS_EVENT_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_EVENT_SOURCE))
#define IS_EVENT_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_EVENT_SOURCE))
#define EVENT_SOURCE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_EVENT_SOURCE, EventSourceClass))

typedef struct _EventSource EventSource;
typedef struct _EventSourceClass EventSourceClass;

#define TYPE_EVENT (event_get_type ())
#define EVENT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_EVENT, Event))
#define EVENT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_EVENT, EventClass))
#define IS_EVENT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_EVENT))
#define IS_EVENT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_EVENT))
#define EVENT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_EVENT, EventClass))

typedef struct _Event Event;
typedef struct _EventClass EventClass;

#define EVENTS_TYPE_EVENT_ENTRY (events_event_entry_get_type ())
#define EVENTS_EVENT_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), EVENTS_TYPE_EVENT_ENTRY, EventsEventEntry))
#define EVENTS_EVENT_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), EVENTS_TYPE_EVENT_ENTRY, EventsEventEntryClass))
#define EVENTS_IS_EVENT_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), EVENTS_TYPE_EVENT_ENTRY))
#define EVENTS_IS_EVENT_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), EVENTS_TYPE_EVENT_ENTRY))
#define EVENTS_EVENT_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), EVENTS_TYPE_EVENT_ENTRY, EventsEventEntryClass))

typedef struct _EventsEventEntry EventsEventEntry;
typedef struct _EventsEventEntryClass EventsEventEntryClass;

#define TYPE_SAVED_SEARCH (saved_search_get_type ())
#define SAVED_SEARCH(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SAVED_SEARCH, SavedSearch))
#define SAVED_SEARCH_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SAVED_SEARCH, SavedSearchClass))
#define IS_SAVED_SEARCH(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SAVED_SEARCH))
#define IS_SAVED_SEARCH_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SAVED_SEARCH))
#define SAVED_SEARCH_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SAVED_SEARCH, SavedSearchClass))

typedef struct _SavedSearch SavedSearch;
typedef struct _SavedSearchClass SavedSearchClass;

#define SEARCHES_TYPE_SIDEBAR_ENTRY (searches_sidebar_entry_get_type ())
#define SEARCHES_SIDEBAR_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SEARCHES_TYPE_SIDEBAR_ENTRY, SearchesSidebarEntry))
#define SEARCHES_SIDEBAR_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SEARCHES_TYPE_SIDEBAR_ENTRY, SearchesSidebarEntryClass))
#define SEARCHES_IS_SIDEBAR_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SEARCHES_TYPE_SIDEBAR_ENTRY))
#define SEARCHES_IS_SIDEBAR_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SEARCHES_TYPE_SIDEBAR_ENTRY))
#define SEARCHES_SIDEBAR_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SEARCHES_TYPE_SIDEBAR_ENTRY, SearchesSidebarEntryClass))

typedef struct _SearchesSidebarEntry SearchesSidebarEntry;
typedef struct _SearchesSidebarEntryClass SearchesSidebarEntryClass;

#define TYPE_CONFIGURATION_FACADE (configuration_facade_get_type ())
#define CONFIGURATION_FACADE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_CONFIGURATION_FACADE, ConfigurationFacade))
#define CONFIGURATION_FACADE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_CONFIGURATION_FACADE, ConfigurationFacadeClass))
#define IS_CONFIGURATION_FACADE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_CONFIGURATION_FACADE))
#define IS_CONFIGURATION_FACADE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_CONFIGURATION_FACADE))
#define CONFIGURATION_FACADE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_CONFIGURATION_FACADE, ConfigurationFacadeClass))

typedef struct _ConfigurationFacade ConfigurationFacade;
typedef struct _ConfigurationFacadeClass ConfigurationFacadeClass;

#define CONFIG_TYPE_FACADE (config_facade_get_type ())
#define CONFIG_FACADE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CONFIG_TYPE_FACADE, ConfigFacade))
#define CONFIG_FACADE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CONFIG_TYPE_FACADE, ConfigFacadeClass))
#define CONFIG_IS_FACADE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CONFIG_TYPE_FACADE))
#define CONFIG_IS_FACADE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CONFIG_TYPE_FACADE))
#define CONFIG_FACADE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CONFIG_TYPE_FACADE, ConfigFacadeClass))

typedef struct _ConfigFacade ConfigFacade;
typedef struct _ConfigFacadeClass ConfigFacadeClass;

#define TYPE_MEDIA_PAGE (media_page_get_type ())
#define MEDIA_PAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_MEDIA_PAGE, MediaPage))
#define MEDIA_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_MEDIA_PAGE, MediaPageClass))
#define IS_MEDIA_PAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_MEDIA_PAGE))
#define IS_MEDIA_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_MEDIA_PAGE))
#define MEDIA_PAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_MEDIA_PAGE, MediaPageClass))

typedef struct _MediaPage MediaPage;
typedef struct _MediaPageClass MediaPageClass;

#define TYPE_COLLECTION_PAGE (collection_page_get_type ())
#define COLLECTION_PAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_COLLECTION_PAGE, CollectionPage))
#define COLLECTION_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_COLLECTION_PAGE, CollectionPageClass))
#define IS_COLLECTION_PAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_COLLECTION_PAGE))
#define IS_COLLECTION_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_COLLECTION_PAGE))
#define COLLECTION_PAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_COLLECTION_PAGE, CollectionPageClass))

typedef struct _CollectionPage CollectionPage;
typedef struct _CollectionPageClass CollectionPageClass;

#define TYPE_PHOTO_SOURCE (photo_source_get_type ())
#define PHOTO_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_PHOTO_SOURCE, PhotoSource))
#define PHOTO_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_PHOTO_SOURCE, PhotoSourceClass))
#define IS_PHOTO_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_PHOTO_SOURCE))
#define IS_PHOTO_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_PHOTO_SOURCE))
#define PHOTO_SOURCE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_PHOTO_SOURCE, PhotoSourceClass))

typedef struct _PhotoSource PhotoSource;
typedef struct _PhotoSourceClass PhotoSourceClass;

#define TYPE_PHOTO (photo_get_type ())
#define PHOTO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_PHOTO, Photo))
#define PHOTO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_PHOTO, PhotoClass))
#define IS_PHOTO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_PHOTO))
#define IS_PHOTO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_PHOTO))
#define PHOTO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_PHOTO, PhotoClass))

typedef struct _Photo Photo;
typedef struct _PhotoClass PhotoClass;

#define TYPE_LIBRARY_PHOTO (library_photo_get_type ())
#define LIBRARY_PHOTO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_LIBRARY_PHOTO, LibraryPhoto))
#define LIBRARY_PHOTO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_LIBRARY_PHOTO, LibraryPhotoClass))
#define IS_LIBRARY_PHOTO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_LIBRARY_PHOTO))
#define IS_LIBRARY_PHOTO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_LIBRARY_PHOTO))
#define LIBRARY_PHOTO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_LIBRARY_PHOTO, LibraryPhotoClass))

typedef struct _LibraryPhoto LibraryPhoto;
typedef struct _LibraryPhotoClass LibraryPhotoClass;

#define TYPE_EVENTS_DIRECTORY_PAGE (events_directory_page_get_type ())
#define EVENTS_DIRECTORY_PAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_EVENTS_DIRECTORY_PAGE, EventsDirectoryPage))
#define EVENTS_DIRECTORY_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_EVENTS_DIRECTORY_PAGE, EventsDirectoryPageClass))
#define IS_EVENTS_DIRECTORY_PAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_EVENTS_DIRECTORY_PAGE))
#define IS_EVENTS_DIRECTORY_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_EVENTS_DIRECTORY_PAGE))
#define EVENTS_DIRECTORY_PAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_EVENTS_DIRECTORY_PAGE, EventsDirectoryPageClass))

typedef struct _EventsDirectoryPage EventsDirectoryPage;
typedef struct _EventsDirectoryPageClass EventsDirectoryPageClass;

#define TYPE_DATA_VIEW (data_view_get_type ())
#define DATA_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DATA_VIEW, DataView))
#define DATA_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DATA_VIEW, DataViewClass))
#define IS_DATA_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DATA_VIEW))
#define IS_DATA_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DATA_VIEW))
#define DATA_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DATA_VIEW, DataViewClass))

typedef struct _DataView DataView;
typedef struct _DataViewClass DataViewClass;

#define TYPE_EVENT_PAGE (event_page_get_type ())
#define EVENT_PAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_EVENT_PAGE, EventPage))
#define EVENT_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_EVENT_PAGE, EventPageClass))
#define IS_EVENT_PAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_EVENT_PAGE))
#define IS_EVENT_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_EVENT_PAGE))
#define EVENT_PAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_EVENT_PAGE, EventPageClass))

typedef struct _EventPage EventPage;
typedef struct _EventPageClass EventPageClass;

#define LIBRARY_WINDOW_TYPE_FULLSCREEN_PHOTO_PAGE (library_window_fullscreen_photo_page_get_type ())
#define LIBRARY_WINDOW_FULLSCREEN_PHOTO_PAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LIBRARY_WINDOW_TYPE_FULLSCREEN_PHOTO_PAGE, LibraryWindowFullscreenPhotoPage))
#define LIBRARY_WINDOW_FULLSCREEN_PHOTO_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LIBRARY_WINDOW_TYPE_FULLSCREEN_PHOTO_PAGE, LibraryWindowFullscreenPhotoPageClass))
#define LIBRARY_WINDOW_IS_FULLSCREEN_PHOTO_PAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LIBRARY_WINDOW_TYPE_FULLSCREEN_PHOTO_PAGE))
#define LIBRARY_WINDOW_IS_FULLSCREEN_PHOTO_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LIBRARY_WINDOW_TYPE_FULLSCREEN_PHOTO_PAGE))
#define LIBRARY_WINDOW_FULLSCREEN_PHOTO_PAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LIBRARY_WINDOW_TYPE_FULLSCREEN_PHOTO_PAGE, LibraryWindowFullscreenPhotoPageClass))

typedef struct _LibraryWindowFullscreenPhotoPage LibraryWindowFullscreenPhotoPage;
typedef struct _LibraryWindowFullscreenPhotoPageClass LibraryWindowFullscreenPhotoPageClass;
#define __g_slist_free__g_free0_0(var) ((var == NULL) ? NULL : (var = (_g_slist_free__g_free0_ (var), NULL)))

#define DATA_IMPORTS_UI_TYPE_DATA_IMPORTS_DIALOG (data_imports_ui_data_imports_dialog_get_type ())
#define DATA_IMPORTS_UI_DATA_IMPORTS_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), DATA_IMPORTS_UI_TYPE_DATA_IMPORTS_DIALOG, DataImportsUIDataImportsDialog))
#define DATA_IMPORTS_UI_DATA_IMPORTS_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), DATA_IMPORTS_UI_TYPE_DATA_IMPORTS_DIALOG, DataImportsUIDataImportsDialogClass))
#define DATA_IMPORTS_UI_IS_DATA_IMPORTS_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), DATA_IMPORTS_UI_TYPE_DATA_IMPORTS_DIALOG))
#define DATA_IMPORTS_UI_IS_DATA_IMPORTS_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), DATA_IMPORTS_UI_TYPE_DATA_IMPORTS_DIALOG))
#define DATA_IMPORTS_UI_DATA_IMPORTS_DIALOG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), DATA_IMPORTS_UI_TYPE_DATA_IMPORTS_DIALOG, DataImportsUIDataImportsDialogClass))

typedef struct _DataImportsUIDataImportsDialog DataImportsUIDataImportsDialog;
typedef struct _DataImportsUIDataImportsDialogClass DataImportsUIDataImportsDialogClass;

#define TYPE_LIBRARY_PHOTO_SOURCE_COLLECTION (library_photo_source_collection_get_type ())
#define LIBRARY_PHOTO_SOURCE_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_LIBRARY_PHOTO_SOURCE_COLLECTION, LibraryPhotoSourceCollection))
#define LIBRARY_PHOTO_SOURCE_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_LIBRARY_PHOTO_SOURCE_COLLECTION, LibraryPhotoSourceCollectionClass))
#define IS_LIBRARY_PHOTO_SOURCE_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_LIBRARY_PHOTO_SOURCE_COLLECTION))
#define IS_LIBRARY_PHOTO_SOURCE_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_LIBRARY_PHOTO_SOURCE_COLLECTION))
#define LIBRARY_PHOTO_SOURCE_COLLECTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_LIBRARY_PHOTO_SOURCE_COLLECTION, LibraryPhotoSourceCollectionClass))

typedef struct _LibraryPhotoSourceCollection LibraryPhotoSourceCollection;
typedef struct _LibraryPhotoSourceCollectionClass LibraryPhotoSourceCollectionClass;

#define TYPE_VIDEO_SOURCE_COLLECTION (video_source_collection_get_type ())
#define VIDEO_SOURCE_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_VIDEO_SOURCE_COLLECTION, VideoSourceCollection))
#define VIDEO_SOURCE_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_VIDEO_SOURCE_COLLECTION, VideoSourceCollectionClass))
#define IS_VIDEO_SOURCE_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_VIDEO_SOURCE_COLLECTION))
#define IS_VIDEO_SOURCE_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_VIDEO_SOURCE_COLLECTION))
#define VIDEO_SOURCE_COLLECTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_VIDEO_SOURCE_COLLECTION, VideoSourceCollectionClass))

typedef struct _VideoSourceCollection VideoSourceCollection;
typedef struct _VideoSourceCollectionClass VideoSourceCollectionClass;

#define TYPE_COMMAND_MANAGER (command_manager_get_type ())
#define COMMAND_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_COMMAND_MANAGER, CommandManager))
#define COMMAND_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_COMMAND_MANAGER, CommandManagerClass))
#define IS_COMMAND_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_COMMAND_MANAGER))
#define IS_COMMAND_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_COMMAND_MANAGER))
#define COMMAND_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_COMMAND_MANAGER, CommandManagerClass))

typedef struct _CommandManager CommandManager;
typedef struct _CommandManagerClass CommandManagerClass;
#define _command_manager_unref0(var) ((var == NULL) ? NULL : (var = (command_manager_unref (var), NULL)))

#define TYPE_SAVED_SEARCH_DIALOG (saved_search_dialog_get_type ())
#define SAVED_SEARCH_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SAVED_SEARCH_DIALOG, SavedSearchDialog))
#define SAVED_SEARCH_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SAVED_SEARCH_DIALOG, SavedSearchDialogClass))
#define IS_SAVED_SEARCH_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SAVED_SEARCH_DIALOG))
#define IS_SAVED_SEARCH_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SAVED_SEARCH_DIALOG))
#define SAVED_SEARCH_DIALOG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SAVED_SEARCH_DIALOG, SavedSearchDialogClass))

typedef struct _SavedSearchDialog SavedSearchDialog;
typedef struct _SavedSearchDialogClass SavedSearchDialogClass;
#define _saved_search_dialog_unref0(var) ((var == NULL) ? NULL : (var = (saved_search_dialog_unref (var), NULL)))

#define TYPE_BATCH_IMPORT (batch_import_get_type ())
#define BATCH_IMPORT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_BATCH_IMPORT, BatchImport))
#define BATCH_IMPORT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_BATCH_IMPORT, BatchImportClass))
#define IS_BATCH_IMPORT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_BATCH_IMPORT))
#define IS_BATCH_IMPORT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_BATCH_IMPORT))
#define BATCH_IMPORT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_BATCH_IMPORT, BatchImportClass))

typedef struct _BatchImport BatchImport;
typedef struct _BatchImportClass BatchImportClass;

#define LIBRARY_TYPE_HIDEABLE_PAGE_ENTRY (library_hideable_page_entry_get_type ())
#define LIBRARY_HIDEABLE_PAGE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LIBRARY_TYPE_HIDEABLE_PAGE_ENTRY, LibraryHideablePageEntry))
#define LIBRARY_HIDEABLE_PAGE_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LIBRARY_TYPE_HIDEABLE_PAGE_ENTRY, LibraryHideablePageEntryClass))
#define LIBRARY_IS_HIDEABLE_PAGE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LIBRARY_TYPE_HIDEABLE_PAGE_ENTRY))
#define LIBRARY_IS_HIDEABLE_PAGE_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LIBRARY_TYPE_HIDEABLE_PAGE_ENTRY))
#define LIBRARY_HIDEABLE_PAGE_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LIBRARY_TYPE_HIDEABLE_PAGE_ENTRY, LibraryHideablePageEntryClass))

typedef struct _LibraryHideablePageEntry LibraryHideablePageEntry;
typedef struct _LibraryHideablePageEntryClass LibraryHideablePageEntryClass;

#define LIBRARY_TYPE_IMPORT_QUEUE_SIDEBAR_ENTRY (library_import_queue_sidebar_entry_get_type ())
#define LIBRARY_IMPORT_QUEUE_SIDEBAR_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LIBRARY_TYPE_IMPORT_QUEUE_SIDEBAR_ENTRY, LibraryImportQueueSidebarEntry))
#define LIBRARY_IMPORT_QUEUE_SIDEBAR_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LIBRARY_TYPE_IMPORT_QUEUE_SIDEBAR_ENTRY, LibraryImportQueueSidebarEntryClass))
#define LIBRARY_IS_IMPORT_QUEUE_SIDEBAR_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LIBRARY_TYPE_IMPORT_QUEUE_SIDEBAR_ENTRY))
#define LIBRARY_IS_IMPORT_QUEUE_SIDEBAR_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LIBRARY_TYPE_IMPORT_QUEUE_SIDEBAR_ENTRY))
#define LIBRARY_IMPORT_QUEUE_SIDEBAR_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LIBRARY_TYPE_IMPORT_QUEUE_SIDEBAR_ENTRY, LibraryImportQueueSidebarEntryClass))

typedef struct _LibraryImportQueueSidebarEntry LibraryImportQueueSidebarEntry;
typedef struct _LibraryImportQueueSidebarEntryClass LibraryImportQueueSidebarEntryClass;

#define TYPE_IMPORT_MANIFEST (import_manifest_get_type ())
#define IMPORT_MANIFEST(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_IMPORT_MANIFEST, ImportManifest))
#define IMPORT_MANIFEST_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_IMPORT_MANIFEST, ImportManifestClass))
#define IS_IMPORT_MANIFEST(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_IMPORT_MANIFEST))
#define IS_IMPORT_MANIFEST_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_IMPORT_MANIFEST))
#define IMPORT_MANIFEST_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_IMPORT_MANIFEST, ImportManifestClass))

typedef struct _ImportManifest ImportManifest;
typedef struct _ImportManifestClass ImportManifestClass;

#define IMPORT_UI_TYPE_QUESTION_PARAMS (import_ui_question_params_get_type ())
#define IMPORT_UI_QUESTION_PARAMS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), IMPORT_UI_TYPE_QUESTION_PARAMS, ImportUIQuestionParams))
#define IMPORT_UI_QUESTION_PARAMS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), IMPORT_UI_TYPE_QUESTION_PARAMS, ImportUIQuestionParamsClass))
#define IMPORT_UI_IS_QUESTION_PARAMS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), IMPORT_UI_TYPE_QUESTION_PARAMS))
#define IMPORT_UI_IS_QUESTION_PARAMS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), IMPORT_UI_TYPE_QUESTION_PARAMS))
#define IMPORT_UI_QUESTION_PARAMS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), IMPORT_UI_TYPE_QUESTION_PARAMS, ImportUIQuestionParamsClass))

typedef struct _ImportUIQuestionParams ImportUIQuestionParams;
typedef struct _ImportUIQuestionParamsClass ImportUIQuestionParamsClass;

#define TYPE_BATCH_IMPORT_JOB (batch_import_job_get_type ())
#define BATCH_IMPORT_JOB(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_BATCH_IMPORT_JOB, BatchImportJob))
#define BATCH_IMPORT_JOB_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_BATCH_IMPORT_JOB, BatchImportJobClass))
#define IS_BATCH_IMPORT_JOB(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_BATCH_IMPORT_JOB))
#define IS_BATCH_IMPORT_JOB_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_BATCH_IMPORT_JOB))
#define BATCH_IMPORT_JOB_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_BATCH_IMPORT_JOB, BatchImportJobClass))

typedef struct _BatchImportJob BatchImportJob;
typedef struct _BatchImportJobClass BatchImportJobClass;

#define TYPE_FILE_IMPORT_JOB (file_import_job_get_type ())
#define FILE_IMPORT_JOB(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_FILE_IMPORT_JOB, FileImportJob))
#define FILE_IMPORT_JOB_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_FILE_IMPORT_JOB, FileImportJobClass))
#define IS_FILE_IMPORT_JOB(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_FILE_IMPORT_JOB))
#define IS_FILE_IMPORT_JOB_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_FILE_IMPORT_JOB))
#define FILE_IMPORT_JOB_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_FILE_IMPORT_JOB, FileImportJobClass))

typedef struct _FileImportJob FileImportJob;
typedef struct _FileImportJobClass FileImportJobClass;
#define _batch_import_job_unref0(var) ((var == NULL) ? NULL : (var = (batch_import_job_unref (var), NULL)))

#define TYPE_BATCH_IMPORT_ROLL (batch_import_roll_get_type ())
#define BATCH_IMPORT_ROLL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_BATCH_IMPORT_ROLL, BatchImportRoll))
#define BATCH_IMPORT_ROLL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_BATCH_IMPORT_ROLL, BatchImportRollClass))
#define IS_BATCH_IMPORT_ROLL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_BATCH_IMPORT_ROLL))
#define IS_BATCH_IMPORT_ROLL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_BATCH_IMPORT_ROLL))
#define BATCH_IMPORT_ROLL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_BATCH_IMPORT_ROLL, BatchImportRollClass))

typedef struct _BatchImportRoll BatchImportRoll;
typedef struct _BatchImportRollClass BatchImportRollClass;

#define CAMERA_TYPE_SIDEBAR_ENTRY (camera_sidebar_entry_get_type ())
#define CAMERA_SIDEBAR_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CAMERA_TYPE_SIDEBAR_ENTRY, CameraSidebarEntry))
#define CAMERA_SIDEBAR_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CAMERA_TYPE_SIDEBAR_ENTRY, CameraSidebarEntryClass))
#define CAMERA_IS_SIDEBAR_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CAMERA_TYPE_SIDEBAR_ENTRY))
#define CAMERA_IS_SIDEBAR_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CAMERA_TYPE_SIDEBAR_ENTRY))
#define CAMERA_SIDEBAR_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CAMERA_TYPE_SIDEBAR_ENTRY, CameraSidebarEntryClass))

typedef struct _CameraSidebarEntry CameraSidebarEntry;
typedef struct _CameraSidebarEntryClass CameraSidebarEntryClass;

#define TYPE_IMPORT_PAGE (import_page_get_type ())
#define IMPORT_PAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_IMPORT_PAGE, ImportPage))
#define IMPORT_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_IMPORT_PAGE, ImportPageClass))
#define IS_IMPORT_PAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_IMPORT_PAGE))
#define IS_IMPORT_PAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_IMPORT_PAGE))
#define IMPORT_PAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_IMPORT_PAGE, ImportPageClass))

typedef struct _ImportPage ImportPage;
typedef struct _ImportPageClass ImportPageClass;
typedef struct _DiscoveredCameraPrivate DiscoveredCameraPrivate;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

#define SIDEBAR_TYPE_EXPANDABLE_ENTRY (sidebar_expandable_entry_get_type ())
#define SIDEBAR_EXPANDABLE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_EXPANDABLE_ENTRY, SidebarExpandableEntry))
#define SIDEBAR_IS_EXPANDABLE_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_EXPANDABLE_ENTRY))
#define SIDEBAR_EXPANDABLE_ENTRY_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_EXPANDABLE_ENTRY, SidebarExpandableEntryIface))

typedef struct _SidebarExpandableEntry SidebarExpandableEntry;
typedef struct _SidebarExpandableEntryIface SidebarExpandableEntryIface;

#define TYPE_SEARCH_VIEW_FILTER (search_view_filter_get_type ())
#define SEARCH_VIEW_FILTER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SEARCH_VIEW_FILTER, SearchViewFilter))
#define SEARCH_VIEW_FILTER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SEARCH_VIEW_FILTER, SearchViewFilterClass))
#define IS_SEARCH_VIEW_FILTER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SEARCH_VIEW_FILTER))
#define IS_SEARCH_VIEW_FILTER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SEARCH_VIEW_FILTER))
#define SEARCH_VIEW_FILTER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SEARCH_VIEW_FILTER, SearchViewFilterClass))

typedef struct _SearchViewFilter SearchViewFilter;
typedef struct _SearchViewFilterClass SearchViewFilterClass;
#define _view_filter_unref0(var) ((var == NULL) ? NULL : (var = (view_filter_unref (var), NULL)))

#define TYPE_DISABLED_VIEW_FILTER (disabled_view_filter_get_type ())
#define DISABLED_VIEW_FILTER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DISABLED_VIEW_FILTER, DisabledViewFilter))
#define DISABLED_VIEW_FILTER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DISABLED_VIEW_FILTER, DisabledViewFilterClass))
#define IS_DISABLED_VIEW_FILTER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DISABLED_VIEW_FILTER))
#define IS_DISABLED_VIEW_FILTER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DISABLED_VIEW_FILTER))
#define DISABLED_VIEW_FILTER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DISABLED_VIEW_FILTER, DisabledViewFilterClass))

typedef struct _DisabledViewFilter DisabledViewFilter;
typedef struct _DisabledViewFilterClass DisabledViewFilterClass;

#define LIBRARY_TYPE_LAST_IMPORT_SIDEBAR_ENTRY (library_last_import_sidebar_entry_get_type ())
#define LIBRARY_LAST_IMPORT_SIDEBAR_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LIBRARY_TYPE_LAST_IMPORT_SIDEBAR_ENTRY, LibraryLastImportSidebarEntry))
#define LIBRARY_LAST_IMPORT_SIDEBAR_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LIBRARY_TYPE_LAST_IMPORT_SIDEBAR_ENTRY, LibraryLastImportSidebarEntryClass))
#define LIBRARY_IS_LAST_IMPORT_SIDEBAR_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LIBRARY_TYPE_LAST_IMPORT_SIDEBAR_ENTRY))
#define LIBRARY_IS_LAST_IMPORT_SIDEBAR_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LIBRARY_TYPE_LAST_IMPORT_SIDEBAR_ENTRY))
#define LIBRARY_LAST_IMPORT_SIDEBAR_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LIBRARY_TYPE_LAST_IMPORT_SIDEBAR_ENTRY, LibraryLastImportSidebarEntryClass))

typedef struct _LibraryLastImportSidebarEntry LibraryLastImportSidebarEntry;
typedef struct _LibraryLastImportSidebarEntryClass LibraryLastImportSidebarEntryClass;

#define EVENTS_TYPE_DIRECTORY_ENTRY (events_directory_entry_get_type ())
#define EVENTS_DIRECTORY_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), EVENTS_TYPE_DIRECTORY_ENTRY, EventsDirectoryEntry))
#define EVENTS_DIRECTORY_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), EVENTS_TYPE_DIRECTORY_ENTRY, EventsDirectoryEntryClass))
#define EVENTS_IS_DIRECTORY_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), EVENTS_TYPE_DIRECTORY_ENTRY))
#define EVENTS_IS_DIRECTORY_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), EVENTS_TYPE_DIRECTORY_ENTRY))
#define EVENTS_DIRECTORY_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), EVENTS_TYPE_DIRECTORY_ENTRY, EventsDirectoryEntryClass))

typedef struct _EventsDirectoryEntry EventsDirectoryEntry;
typedef struct _EventsDirectoryEntryClass EventsDirectoryEntryClass;

#define EVENTS_TYPE_MASTER_DIRECTORY_ENTRY (events_master_directory_entry_get_type ())
#define EVENTS_MASTER_DIRECTORY_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), EVENTS_TYPE_MASTER_DIRECTORY_ENTRY, EventsMasterDirectoryEntry))
#define EVENTS_MASTER_DIRECTORY_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), EVENTS_TYPE_MASTER_DIRECTORY_ENTRY, EventsMasterDirectoryEntryClass))
#define EVENTS_IS_MASTER_DIRECTORY_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), EVENTS_TYPE_MASTER_DIRECTORY_ENTRY))
#define EVENTS_IS_MASTER_DIRECTORY_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), EVENTS_TYPE_MASTER_DIRECTORY_ENTRY))
#define EVENTS_MASTER_DIRECTORY_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), EVENTS_TYPE_MASTER_DIRECTORY_ENTRY, EventsMasterDirectoryEntryClass))

typedef struct _EventsMasterDirectoryEntry EventsMasterDirectoryEntry;
typedef struct _EventsMasterDirectoryEntryClass EventsMasterDirectoryEntryClass;
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))
typedef struct _PagePrivate PagePrivate;

#define TYPE_FULLSCREEN_WINDOW (fullscreen_window_get_type ())
#define FULLSCREEN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_FULLSCREEN_WINDOW, FullscreenWindow))
#define FULLSCREEN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_FULLSCREEN_WINDOW, FullscreenWindowClass))
#define IS_FULLSCREEN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_FULLSCREEN_WINDOW))
#define IS_FULLSCREEN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_FULLSCREEN_WINDOW))
#define FULLSCREEN_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_FULLSCREEN_WINDOW, FullscreenWindowClass))

typedef struct _FullscreenWindow FullscreenWindow;
typedef struct _FullscreenWindowClass FullscreenWindowClass;

#define TYPE_INJECTION_GROUP (injection_group_get_type ())
#define INJECTION_GROUP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_INJECTION_GROUP, InjectionGroup))
#define INJECTION_GROUP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_INJECTION_GROUP, InjectionGroupClass))
#define IS_INJECTION_GROUP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_INJECTION_GROUP))
#define IS_INJECTION_GROUP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_INJECTION_GROUP))
#define INJECTION_GROUP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_INJECTION_GROUP, InjectionGroupClass))

typedef struct _InjectionGroup InjectionGroup;
typedef struct _InjectionGroupClass InjectionGroupClass;
typedef struct _SinglePhotoPagePrivate SinglePhotoPagePrivate;

#define TYPE_ZOOM_BUFFER (zoom_buffer_get_type ())
#define ZOOM_BUFFER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_ZOOM_BUFFER, ZoomBuffer))
#define ZOOM_BUFFER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_ZOOM_BUFFER, ZoomBufferClass))
#define IS_ZOOM_BUFFER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_ZOOM_BUFFER))
#define IS_ZOOM_BUFFER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_ZOOM_BUFFER))
#define ZOOM_BUFFER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_ZOOM_BUFFER, ZoomBufferClass))

typedef struct _ZoomBuffer ZoomBuffer;
typedef struct _ZoomBufferClass ZoomBufferClass;

#define SINGLE_PHOTO_PAGE_TYPE_UPDATE_REASON (single_photo_page_update_reason_get_type ())
typedef struct _EditingHostPagePrivate EditingHostPagePrivate;
typedef struct _LibraryPhotoPagePrivate LibraryPhotoPagePrivate;

#define TYPE_RAW_DEVELOPER (raw_developer_get_type ())
typedef struct _LibraryWindowFullscreenPhotoPagePrivate LibraryWindowFullscreenPhotoPagePrivate;
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _PageWindow {
	GtkApplicationWindow parent_instance;
	PageWindowPrivate * priv;
};

struct _PageWindowClass {
	GtkApplicationWindowClass parent_class;
	void (*switched_pages) (PageWindow* self, Page* old_page, Page* new_page);
	void (*set_current_page) (PageWindow* self, Page* page);
	void (*clear_current_page) (PageWindow* self);
};

struct _Dimensions {
	gint width;
	gint height;
};

struct _AppWindow {
	PageWindow parent_instance;
	AppWindowPrivate * priv;
	gboolean maximized;
	Dimensions dimensions;
	gint pos_x;
	gint pos_y;
};

struct _AppWindowClass {
	PageWindowClass parent_class;
	void (*on_fullscreen) (AppWindow* self);
	gchar* (*get_app_role) (AppWindow* self);
	void (*on_quit) (AppWindow* self);
	void (*add_actions) (AppWindow* self);
	void (*update_common_action_availability) (AppWindow* self, Page* old_page, Page* new_page);
	void (*update_common_actions) (AppWindow* self, Page* page, gint selected_count, gint count);
};

struct _LibraryWindow {
	AppWindow parent_instance;
	LibraryWindowPrivate * priv;
};

struct _LibraryWindowClass {
	AppWindowClass parent_class;
};

struct _SidebarEntryIface {
	GTypeInterface parent_iface;
	gchar* (*get_sidebar_name) (SidebarEntry* self);
	gchar* (*get_sidebar_tooltip) (SidebarEntry* self);
	gchar* (*get_sidebar_icon) (SidebarEntry* self);
	gchar* (*to_string) (SidebarEntry* self);
	void (*grafted) (SidebarEntry* self, SidebarTree* tree);
	void (*pruned) (SidebarEntry* self, SidebarTree* tree);
};

struct _LibraryWindowPrivate {
	gchar* import_dir;
	GtkPaned* sidebar_paned;
	GtkPaned* client_paned;
	GtkFrame* bottom_frame;
	OneShotScheduler* properties_scheduler;
	gboolean notify_library_is_home_dir;
	SidebarTree* sidebar_tree;
	LibraryBranch* library_branch;
	TagsBranch* tags_branch;
	FoldersBranch* folders_branch;
	EventsBranch* events_branch;
	CameraBranch* camera_branch;
	SearchesBranch* saved_search_branch;
	gboolean page_switching_enabled;
	GeeHashMap* page_map;
	LibraryPhotoPage* photo_page;
	gboolean is_search_toolbar_visible;
	SearchFilterActions* search_actions;
	SearchFilterToolbar* search_toolbar;
	GtkBox* top_section;
	GtkFrame* background_progress_frame;
	GtkProgressBar* background_progress_bar;
	gboolean background_progress_displayed;
	BasicProperties* basic_properties;
	ExtendedPropertiesWindow* extended_properties;
	GtkStack* stack;
	GtkBox* layout;
	GtkBox* right_vbox;
	gint current_progress_priority;
	guint background_progress_pulse_id;
};

struct _SidebarSelectableEntryIface {
	GTypeInterface parent_iface;
};

struct _SidebarPageRepresentativeIface {
	GTypeInterface parent_iface;
	gboolean (*has_page) (SidebarPageRepresentative* self);
	Page* (*get_page) (SidebarPageRepresentative* self);
};

typedef enum  {
	LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_LIBRARY,
	LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_CAMERAS,
	LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_SAVED_SEARCH,
	LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_EVENTS,
	LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_FOLDERS,
	LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_TAGS
} LibraryWindowSidebarRootPosition;

typedef enum  {
	LIBRARY_WINDOW_TARGET_TYPE_URI_LIST,
	LIBRARY_WINDOW_TARGET_TYPE_MEDIA_LIST,
	LIBRARY_WINDOW_TARGET_TYPE_TAG_PATH
} LibraryWindowTargetType;

typedef gboolean (*ProgressMonitor) (guint64 current, guint64 total, gboolean do_event_loop, void* user_data);
typedef void (*SidebarTreeExternalDropHandler) (GdkDragContext* context, SidebarEntry* entry, GtkSelectionData* data, guint info, guint time, void* user_data);
typedef void (*OneShotCallback) (void* user_data);
typedef void (*BatchImportImportReporter) (ImportManifest* manifest, BatchImportRoll* import_roll, void* user_data);
struct _DiscoveredCamera {
	GTypeInstance parent_instance;
	volatile int ref_count;
	DiscoveredCameraPrivate * priv;
	Camera* gcamera;
	gchar* uri;
	gchar* display_name;
	gchar* icon;
};

struct _DiscoveredCameraClass {
	GTypeClass parent_class;
	void (*finalize) (DiscoveredCamera *self);
};

struct _SidebarExpandableEntryIface {
	GTypeInterface parent_iface;
	gboolean (*expand_on_select) (SidebarExpandableEntry* self);
};

struct _Page {
	GtkScrolledWindow parent_instance;
	PagePrivate * priv;
	GtkBuilder* builder;
	GtkToolbar* toolbar;
	gboolean in_view;
};

struct _PageClass {
	GtkScrolledWindowClass parent_class;
	void (*set_page_name) (Page* self, const gchar* page_name);
	void (*set_container) (Page* self, GtkWindow* container);
	void (*clear_container) (Page* self);
	GtkToolbar* (*get_toolbar) (Page* self);
	GtkMenu* (*get_page_context_menu) (Page* self);
	void (*switching_from) (Page* self);
	void (*switched_to) (Page* self);
	void (*ready) (Page* self);
	void (*switching_to_fullscreen) (Page* self, FullscreenWindow* fsw);
	void (*returning_from_fullscreen) (Page* self, FullscreenWindow* fsw);
	void (*add_actions) (Page* self);
	void (*init_collect_ui_filenames) (Page* self, GeeList* ui_filenames);
	InjectionGroup** (*init_collect_injection_groups) (Page* self, int* result_length1);
	void (*init_actions) (Page* self, gint selected_count, gint count);
	void (*update_actions) (Page* self, gint selected_count, gint count);
	gboolean (*source_drag_failed) (Page* self, GdkDragContext* context, GtkDragResult drag_result);
	gboolean (*on_left_click) (Page* self, GdkEventButton* event);
	gboolean (*on_middle_click) (Page* self, GdkEventButton* event);
	gboolean (*on_right_click) (Page* self, GdkEventButton* event);
	gboolean (*on_left_released) (Page* self, GdkEventButton* event);
	gboolean (*on_middle_released) (Page* self, GdkEventButton* event);
	gboolean (*on_right_released) (Page* self, GdkEventButton* event);
	gboolean (*on_ctrl_pressed) (Page* self, GdkEventKey* event);
	gboolean (*on_ctrl_released) (Page* self, GdkEventKey* event);
	gboolean (*on_alt_pressed) (Page* self, GdkEventKey* event);
	gboolean (*on_alt_released) (Page* self, GdkEventKey* event);
	gboolean (*on_shift_pressed) (Page* self, GdkEventKey* event);
	gboolean (*on_shift_released) (Page* self, GdkEventKey* event);
	gboolean (*on_super_pressed) (Page* self, GdkEventKey* event);
	gboolean (*on_super_released) (Page* self, GdkEventKey* event);
	gboolean (*on_app_key_pressed) (Page* self, GdkEventKey* event);
	gboolean (*on_app_key_released) (Page* self, GdkEventKey* event);
	void (*on_move) (Page* self, GdkRectangle* rect);
	void (*on_move_start) (Page* self, GdkRectangle* rect);
	void (*on_move_finished) (Page* self, GdkRectangle* rect);
	void (*on_resize) (Page* self, GdkRectangle* rect);
	void (*on_resize_start) (Page* self, GdkRectangle* rect);
	void (*on_resize_finished) (Page* self, GdkRectangle* rect);
	gboolean (*on_configure) (Page* self, GdkEventConfigure* event, GdkRectangle* rect);
	gboolean (*on_motion) (Page* self, GdkEventMotion* event, gint x, gint y, GdkModifierType mask);
	gboolean (*on_leave_notify_event) (Page* self);
	gboolean (*on_mousewheel_up) (Page* self, GdkEventScroll* event);
	gboolean (*on_mousewheel_down) (Page* self, GdkEventScroll* event);
	gboolean (*on_mousewheel_left) (Page* self, GdkEventScroll* event);
	gboolean (*on_mousewheel_right) (Page* self, GdkEventScroll* event);
	gboolean (*on_context_keypress) (Page* self);
	gboolean (*on_context_buttonpress) (Page* self, GdkEventButton* event);
	gboolean (*on_context_invoked) (Page* self);
	void (*set_page_cursor) (Page* self, GdkCursorType cursor_type);
};

typedef enum  {
	SINGLE_PHOTO_PAGE_UPDATE_REASON_NEW_PIXBUF,
	SINGLE_PHOTO_PAGE_UPDATE_REASON_QUALITY_IMPROVEMENT,
	SINGLE_PHOTO_PAGE_UPDATE_REASON_RESIZED_CANVAS
} SinglePhotoPageUpdateReason;

struct _SinglePhotoPage {
	Page parent_instance;
	SinglePhotoPagePrivate * priv;
	GtkDrawingArea* canvas;
	GtkViewport* viewport;
};

struct _SinglePhotoPageClass {
	PageClass parent_class;
	gboolean (*is_zoom_supported) (SinglePhotoPage* self);
	void (*cancel_zoom) (SinglePhotoPage* self);
	void (*save_zoom_state) (SinglePhotoPage* self);
	void (*restore_zoom_state) (SinglePhotoPage* self);
	ZoomBuffer* (*get_zoom_buffer) (SinglePhotoPage* self);
	void (*new_surface) (SinglePhotoPage* self, cairo_t* ctx, Dimensions* ctx_dim);
	void (*updated_pixbuf) (SinglePhotoPage* self, GdkPixbuf* pixbuf, SinglePhotoPageUpdateReason reason, Dimensions* old_dim);
	void (*paint) (SinglePhotoPage* self, cairo_t* ctx, Dimensions* ctx_dim);
	void (*on_previous_photo) (SinglePhotoPage* self);
	void (*on_next_photo) (SinglePhotoPage* self);
};

struct _EditingHostPage {
	SinglePhotoPage parent_instance;
	EditingHostPagePrivate * priv;
};

struct _EditingHostPageClass {
	SinglePhotoPageClass parent_class;
	gboolean (*on_zoom_slider_key_press) (EditingHostPage* self, GdkEventKey* event);
	void (*on_increase_size) (EditingHostPage* self);
	void (*on_decrease_size) (EditingHostPage* self);
	void (*photo_changing) (EditingHostPage* self, Photo* new_photo);
	DataView* (*create_photo_view) (EditingHostPage* self, DataSource* source);
	void (*update_ui) (EditingHostPage* self, gboolean missing);
	void (*notify_photo_backing_missing) (EditingHostPage* self, Photo* photo, gboolean missing);
	gboolean (*confirm_replace_photo) (EditingHostPage* self, Photo* old_photo, Photo* new_photo);
	gboolean (*on_double_click) (EditingHostPage* self, GdkEventButton* event);
	GdkPixbuf* (*get_bottom_left_trinket) (EditingHostPage* self, gint scale);
	GdkPixbuf* (*get_top_left_trinket) (EditingHostPage* self, gint scale);
	GdkPixbuf* (*get_top_right_trinket) (EditingHostPage* self, gint scale);
	GdkPixbuf* (*get_bottom_right_trinket) (EditingHostPage* self, gint scale);
};

typedef enum  {
	RAW_DEVELOPER_SHOTWELL = 0,
	RAW_DEVELOPER_CAMERA,
	RAW_DEVELOPER_EMBEDDED
} RawDeveloper;

struct _LibraryPhotoPage {
	EditingHostPage parent_instance;
	LibraryPhotoPagePrivate * priv;
};

struct _LibraryPhotoPageClass {
	EditingHostPageClass parent_class;
	void (*developer_changed) (LibraryPhotoPage* self, RawDeveloper rd);
};

struct _LibraryWindowFullscreenPhotoPage {
	LibraryPhotoPage parent_instance;
	LibraryWindowFullscreenPhotoPagePrivate * priv;
};

struct _LibraryWindowFullscreenPhotoPageClass {
	LibraryPhotoPageClass parent_class;
};

struct _LibraryWindowFullscreenPhotoPagePrivate {
	CollectionPage* collection;
	Photo* start;
	ViewCollection* view;
};


static gpointer library_window_parent_class = NULL;
static GeeHashSet* library_window_initial_camera_uris;
static GeeHashSet* library_window_initial_camera_uris = NULL;
extern AppWindow* app_window_instance;
extern LibraryPhotoSourceCollection* library_photo_global;
extern VideoSourceCollection* video_global;
static gpointer library_window_fullscreen_photo_page_parent_class = NULL;

GType page_window_get_type (void) G_GNUC_CONST;
GType page_get_type (void) G_GNUC_CONST;
GType app_window_get_type (void) G_GNUC_CONST;
GType dimensions_get_type (void) G_GNUC_CONST;
Dimensions* dimensions_dup (const Dimensions* self);
void dimensions_free (Dimensions* self);
GType library_window_get_type (void) G_GNUC_CONST;
gpointer one_shot_scheduler_ref (gpointer instance);
void one_shot_scheduler_unref (gpointer instance);
GParamSpec* param_spec_one_shot_scheduler (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_one_shot_scheduler (GValue* value, gpointer v_object);
void value_take_one_shot_scheduler (GValue* value, gpointer v_object);
gpointer value_get_one_shot_scheduler (const GValue* value);
GType one_shot_scheduler_get_type (void) G_GNUC_CONST;
GType sidebar_tree_get_type (void) G_GNUC_CONST;
GType sidebar_branch_get_type (void) G_GNUC_CONST;
GType library_branch_get_type (void) G_GNUC_CONST;
GType tags_branch_get_type (void) G_GNUC_CONST;
GType folders_branch_get_type (void) G_GNUC_CONST;
GType events_branch_get_type (void) G_GNUC_CONST;
GType camera_branch_get_type (void) G_GNUC_CONST;
GType searches_branch_get_type (void) G_GNUC_CONST;
GType sidebar_entry_get_type (void) G_GNUC_CONST;
GType single_photo_page_get_type (void) G_GNUC_CONST;
GType editing_host_page_get_type (void) G_GNUC_CONST;
GType library_photo_page_get_type (void) G_GNUC_CONST;
gpointer search_filter_actions_ref (gpointer instance);
void search_filter_actions_unref (gpointer instance);
GParamSpec* param_spec_search_filter_actions (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_search_filter_actions (GValue* value, gpointer v_object);
void value_take_search_filter_actions (GValue* value, gpointer v_object);
gpointer value_get_search_filter_actions (const GValue* value);
GType search_filter_actions_get_type (void) G_GNUC_CONST;
GType search_filter_toolbar_get_type (void) G_GNUC_CONST;
GType properties_get_type (void) G_GNUC_CONST;
GType basic_properties_get_type (void) G_GNUC_CONST;
GType extended_properties_window_get_type (void) G_GNUC_CONST;
#define LIBRARY_WINDOW_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TYPE_LIBRARY_WINDOW, LibraryWindowPrivate))
enum  {
	LIBRARY_WINDOW_DUMMY_PROPERTY
};
GType sidebar_selectable_entry_get_type (void) G_GNUC_CONST;
GType sidebar_page_representative_get_type (void) G_GNUC_CONST;
static void library_window_on_page_created (LibraryWindow* self, SidebarPageRepresentative* entry, Page* page);
static void _library_window_on_page_created_sidebar_tree_page_created (SidebarTree* _sender, SidebarPageRepresentative* entry, Page* page, gpointer self);
static void library_window_on_destroying_page (LibraryWindow* self, SidebarPageRepresentative* entry, Page* page);
static void _library_window_on_destroying_page_sidebar_tree_destroying_page (SidebarTree* _sender, SidebarPageRepresentative* entry, Page* page, gpointer self);
static void library_window_on_sidebar_entry_selected (LibraryWindow* self, SidebarSelectableEntry* selectable);
static void _library_window_on_sidebar_entry_selected_sidebar_tree_entry_selected (SidebarTree* _sender, SidebarSelectableEntry* selectable, gpointer self);
static void library_window_on_sidebar_selected_entry_removed (LibraryWindow* self, SidebarSelectableEntry* selectable);
static void _library_window_on_sidebar_selected_entry_removed_sidebar_tree_selected_entry_removed (SidebarTree* _sender, SidebarSelectableEntry* removed, gpointer self);
static void library_window_unsubscribe_from_basic_information (LibraryWindow* self, Page* page);
Page* page_window_get_current_page (PageWindow* self);
static void library_window_hide_extended_properties (LibraryWindow* self);
static void _library_window_hide_extended_properties_gtk_widget_hide (GtkWidget* _sender, gpointer self);
static void library_window_show_extended_properties (LibraryWindow* self);
static void _library_window_show_extended_properties_gtk_widget_show (GtkWidget* _sender, gpointer self);
gpointer data_collection_ref (gpointer instance);
void data_collection_unref (gpointer instance);
GParamSpec* param_spec_data_collection (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_data_collection (GValue* value, gpointer v_object);
void value_take_data_collection (GValue* value, gpointer v_object);
gpointer value_get_data_collection (const GValue* value);
GType data_collection_get_type (void) G_GNUC_CONST;
GType source_collection_get_type (void) G_GNUC_CONST;
GType database_source_collection_get_type (void) G_GNUC_CONST;
GType media_source_collection_get_type (void) G_GNUC_CONST;
gpointer media_collection_registry_ref (gpointer instance);
void media_collection_registry_unref (gpointer instance);
GParamSpec* param_spec_media_collection_registry (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_media_collection_registry (GValue* value, gpointer v_object);
void value_take_media_collection_registry (GValue* value, gpointer v_object);
gpointer value_get_media_collection_registry (const GValue* value);
GType media_collection_registry_get_type (void) G_GNUC_CONST;
MediaCollectionRegistry* media_collection_registry_get_instance (void);
GeeCollection* media_collection_registry_get_all (MediaCollectionRegistry* self);
static void library_window_on_trashcan_contents_altered (LibraryWindow* self);
GType data_object_get_type (void) G_GNUC_CONST;
GType data_source_get_type (void) G_GNUC_CONST;
GType thumbnail_source_get_type (void) G_GNUC_CONST;
GType media_source_get_type (void) G_GNUC_CONST;
static void _library_window_on_trashcan_contents_altered_media_source_collection_trashcan_contents_altered (MediaSourceCollection* _sender, GeeCollection* added, GeeCollection* removed, gpointer self);
static void library_window_on_media_altered (LibraryWindow* self);
gpointer alteration_ref (gpointer instance);
void alteration_unref (gpointer instance);
GParamSpec* param_spec_alteration (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_alteration (GValue* value, gpointer v_object);
void value_take_alteration (GValue* value, gpointer v_object);
gpointer value_get_alteration (const GValue* value);
GType alteration_get_type (void) G_GNUC_CONST;
static void _library_window_on_media_altered_data_collection_items_altered (DataCollection* _sender, GeeMap* items, gpointer self);
GType metadata_writer_get_type (void) G_GNUC_CONST;
MetadataWriter* metadata_writer_get_instance (void);
static void library_window_on_metadata_writer_progress (LibraryWindow* self, guint completed, guint total);
static void _library_window_on_metadata_writer_progress_metadata_writer_progress (MetadataWriter* _sender, guint completed, guint total, gpointer self);
GType directory_monitor_get_type (void) G_GNUC_CONST;
GType library_monitor_get_type (void) G_GNUC_CONST;
gpointer library_monitor_pool_ref (gpointer instance);
void library_monitor_pool_unref (gpointer instance);
GParamSpec* param_spec_library_monitor_pool (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_library_monitor_pool (GValue* value, gpointer v_object);
void value_take_library_monitor_pool (GValue* value, gpointer v_object);
gpointer value_get_library_monitor_pool (const GValue* value);
GType library_monitor_pool_get_type (void) G_GNUC_CONST;
LibraryMonitorPool* library_monitor_pool_get_instance (void);
LibraryMonitor* library_monitor_pool_get_monitor (LibraryMonitorPool* self);
static void library_window_on_library_monitor_destroyed (LibraryWindow* self, LibraryMonitor* monitor);
static void library_window_on_library_monitor_installed (LibraryWindow* self, LibraryMonitor* monitor);
static void _library_window_on_library_monitor_installed_library_monitor_pool_monitor_installed (LibraryMonitorPool* _sender, LibraryMonitor* monitor, gpointer self);
static void _library_window_on_library_monitor_destroyed_library_monitor_pool_monitor_destroyed (LibraryMonitorPool* _sender, LibraryMonitor* monitor, gpointer self);
gpointer camera_table_ref (gpointer instance);
void camera_table_unref (gpointer instance);
GParamSpec* param_spec_camera_table (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_camera_table (GValue* value, gpointer v_object);
void value_take_camera_table (GValue* value, gpointer v_object);
gpointer value_get_camera_table (const GValue* value);
GType camera_table_get_type (void) G_GNUC_CONST;
CameraTable* camera_table_get_instance (void);
gpointer discovered_camera_ref (gpointer instance);
void discovered_camera_unref (gpointer instance);
GParamSpec* param_spec_discovered_camera (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_discovered_camera (GValue* value, gpointer v_object);
void value_take_discovered_camera (GValue* value, gpointer v_object);
gpointer value_get_discovered_camera (const GValue* value);
GType discovered_camera_get_type (void) G_GNUC_CONST;
static void library_window_on_camera_added (LibraryWindow* self, DiscoveredCamera* camera);
static void _library_window_on_camera_added_camera_table_camera_added (CameraTable* _sender, DiscoveredCamera* camera, gpointer self);
static GType library_window_sidebar_root_position_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
GType library_window_target_type_get_type (void) G_GNUC_CONST;
LibraryBranch* library_branch_new (void);
LibraryBranch* library_branch_construct (GType object_type);
TagsBranch* tags_branch_new (void);
TagsBranch* tags_branch_construct (GType object_type);
FoldersBranch* folders_branch_new (void);
FoldersBranch* folders_branch_construct (GType object_type);
EventsBranch* events_branch_new (void);
EventsBranch* events_branch_construct (GType object_type);
CameraBranch* camera_branch_new (void);
CameraBranch* camera_branch_construct (GType object_type);
SearchesBranch* searches_branch_new (void);
SearchesBranch* searches_branch_construct (GType object_type);
SearchFilterActions* search_filter_actions_new (void);
SearchFilterActions* search_filter_actions_construct (GType object_type);
BasicProperties* basic_properties_new (void);
BasicProperties* basic_properties_construct (GType object_type);
#define LIBRARY_WINDOW_SIDEBAR_MIN_WIDTH 120
#define LIBRARY_WINDOW_SORT_EVENTS_ORDER_ASCENDING "ascending"
#define LIBRARY_WINDOW_SORT_EVENTS_ORDER_DESCENDING "descending"
#define LIBRARY_WINDOW_BACKGROUND_PROGRESS_PULSE_MSEC 250
#define LIBRARY_WINDOW_MIN_PROGRESS_BAR_FILES 20
#define LIBRARY_WINDOW_STARTUP_SCAN_PROGRESS_PRIORITY 35
#define LIBRARY_WINDOW_REALTIME_UPDATE_PROGRESS_PRIORITY 40
#define LIBRARY_WINDOW_REALTIME_IMPORT_PROGRESS_PRIORITY 50
#define LIBRARY_WINDOW_METADATA_WRITER_PROGRESS_PRIORITY 30
#define LIBRARY_WINDOW_TAG_PATH_MIME_TYPE "shotwell/tag-path"
#define LIBRARY_WINDOW_MEDIA_LIST_MIME_TYPE "shotwell/media-id-atom"
static void library_window_on_file_import (LibraryWindow* self);
static void _library_window_on_file_import_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self);
static void library_window_on_external_library_import (LibraryWindow* self);
static void _library_window_on_external_library_import_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self);
static void library_window_on_preferences (LibraryWindow* self);
static void _library_window_on_preferences_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self);
static void library_window_on_empty_trash (LibraryWindow* self);
static void _library_window_on_empty_trash_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self);
static void library_window_on_jump_to_event (LibraryWindow* self);
static void _library_window_on_jump_to_event_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self);
static void library_window_on_find (LibraryWindow* self);
static void _library_window_on_find_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self);
static void library_window_on_new_search (LibraryWindow* self);
static void _library_window_on_new_search_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self);
static void library_window_on_action_toggle (LibraryWindow* self, GAction* action, GVariant* value);
static void _library_window_on_action_toggle_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self);
static void library_window_on_display_basic_properties (LibraryWindow* self, GSimpleAction* action, GVariant* value);
static void _library_window_on_display_basic_properties_gsimple_action_change_state_callback (GSimpleAction* action, GVariant* value, gpointer self);
static void library_window_on_display_extended_properties (LibraryWindow* self, GSimpleAction* action, GVariant* value);
static void _library_window_on_display_extended_properties_gsimple_action_change_state_callback (GSimpleAction* action, GVariant* value, gpointer self);
static void library_window_on_display_searchbar (LibraryWindow* self, GSimpleAction* action, GVariant* value);
static void _library_window_on_display_searchbar_gsimple_action_change_state_callback (GSimpleAction* action, GVariant* value, gpointer self);
static void library_window_on_display_sidebar (LibraryWindow* self, GSimpleAction* action, GVariant* variant);
static void _library_window_on_display_sidebar_gsimple_action_change_state_callback (GSimpleAction* action, GVariant* value, gpointer self);
static void library_window_on_display_toolbar (LibraryWindow* self, GSimpleAction* action, GVariant* variant);
static void _library_window_on_display_toolbar_gsimple_action_change_state_callback (GSimpleAction* action, GVariant* value, gpointer self);
static void library_window_on_action_radio (LibraryWindow* self, GAction* action, GVariant* value);
static void _library_window_on_action_radio_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self);
static void library_window_on_events_sort_changed (LibraryWindow* self, GSimpleAction* action, GVariant* value);
static void _library_window_on_events_sort_changed_gsimple_action_change_state_callback (GSimpleAction* action, GVariant* value, gpointer self);
LibraryWindow* library_window_new (ProgressMonitor progress_monitor, void* progress_monitor_target);
LibraryWindow* library_window_construct (GType object_type, ProgressMonitor progress_monitor, void* progress_monitor_target);
AppWindow* app_window_construct (GType object_type);
static void library_window_external_drop_handler (LibraryWindow* self, GdkDragContext* context, SidebarEntry* entry, GtkSelectionData* data, guint info, guint time);
static void _library_window_external_drop_handler_sidebar_tree_external_drop_handler (GdkDragContext* context, SidebarEntry* entry, GtkSelectionData* data, guint info, guint time, gpointer self);
SidebarTree* sidebar_tree_new (GtkTargetEntry* target_entries, int target_entries_length1, GdkDragAction actions, SidebarTreeExternalDropHandler drop_handler, void* drop_handler_target);
SidebarTree* sidebar_tree_construct (GType object_type, GtkTargetEntry* target_entries, int target_entries_length1, GdkDragAction actions, SidebarTreeExternalDropHandler drop_handler, void* drop_handler_target);
void sidebar_tree_graft (SidebarTree* self, SidebarBranch* branch, gint position);
ExtendedPropertiesWindow* extended_properties_window_new (GtkWindow* owner);
ExtendedPropertiesWindow* extended_properties_window_construct (GType object_type, GtkWindow* owner);
static void library_window_on_update_properties_now (LibraryWindow* self);
static void _library_window_on_update_properties_now_one_shot_callback (gpointer self);
OneShotScheduler* one_shot_scheduler_new (const gchar* name, OneShotCallback callback, void* callback_target);
OneShotScheduler* one_shot_scheduler_construct (GType object_type, const gchar* name, OneShotCallback callback, void* callback_target);
SearchFilterToolbar* search_filter_toolbar_new (SearchFilterActions* actions);
SearchFilterToolbar* search_filter_toolbar_construct (GType object_type, SearchFilterActions* actions);
static void library_window_create_layout (LibraryWindow* self, Page* start_page);
GType sidebar_simple_page_entry_get_type (void) G_GNUC_CONST;
GType library_photos_entry_get_type (void) G_GNUC_CONST;
LibraryPhotosEntry* library_branch_get_photos_entry (LibraryBranch* self);
Page* sidebar_page_representative_get_page (SidebarPageRepresentative* self);
static void library_window_load_configuration (LibraryWindow* self);
GFile* directory_monitor_get_root (DirectoryMonitor* self);
static void library_window_on_library_monitor_discovery_started (LibraryWindow* self);
static void _library_window_on_library_monitor_discovery_started_directory_monitor_discovery_started (DirectoryMonitor* _sender, gpointer self);
static void library_window_on_library_monitor_discovery_completed (LibraryWindow* self);
static void _library_window_on_library_monitor_discovery_completed_directory_monitor_discovery_completed (DirectoryMonitor* _sender, gpointer self);
static void _library_window_on_library_monitor_discovery_completed_directory_monitor_closed (DirectoryMonitor* _sender, gpointer self);
static void library_window_on_library_monitor_auto_update_progress (LibraryWindow* self, gint completed_files, gint total_files);
static void _library_window_on_library_monitor_auto_update_progress_library_monitor_auto_update_progress (LibraryMonitor* _sender, gint completed_files, gint total_files, gpointer self);
static void library_window_on_library_monitor_auto_import_preparing (LibraryWindow* self);
static void _library_window_on_library_monitor_auto_import_preparing_library_monitor_auto_import_preparing (LibraryMonitor* _sender, gpointer self);
static void library_window_on_library_monitor_auto_import_progress (LibraryWindow* self, guint64 completed_bytes, guint64 total_bytes);
static void _library_window_on_library_monitor_auto_import_progress_library_monitor_auto_import_progress (LibraryMonitor* _sender, guint64 completed_bytes, guint64 total_bytes, gpointer self);
static void library_window_real_add_actions (AppWindow* base);
void app_window_add_actions (AppWindow* self);
GActionEntry* search_filter_actions_get_actions (SearchFilterActions* self, int* result_length1);
static void library_window_real_switched_pages (PageWindow* base, Page* old_page, Page* new_page);
void page_window_switched_pages (PageWindow* self, Page* old_page, Page* new_page);
GType view_collection_get_type (void) G_GNUC_CONST;
ViewCollection* page_get_view (Page* self);
gpointer view_filter_ref (gpointer instance);
void view_filter_unref (gpointer instance);
GParamSpec* param_spec_view_filter (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_view_filter (GValue* value, gpointer v_object);
void value_take_view_filter (GValue* value, gpointer v_object);
gpointer value_get_view_filter (const GValue* value);
GType view_filter_get_type (void) G_GNUC_CONST;
static void library_window_on_view_filter_installed (LibraryWindow* self, ViewFilter* filter);
static void _library_window_on_view_filter_installed_view_collection_view_filter_installed (ViewCollection* _sender, ViewFilter* filer, gpointer self);
static void library_window_on_view_filter_removed (LibraryWindow* self, ViewFilter* filter);
static void _library_window_on_view_filter_removed_view_collection_view_filter_removed (ViewCollection* _sender, ViewFilter* filer, gpointer self);
void search_filter_actions_monitor_page_contents (SearchFilterActions* self, Page* old_page, Page* new_page);
static void library_window_on_view_filter_refreshed (LibraryWindow* self);
static void _library_window_on_view_filter_refreshed_view_filter_refresh (ViewFilter* _sender, gpointer self);
gboolean view_collection_are_items_filtered_out (ViewCollection* self);
static GVariant* _variant_new1 (gboolean value);
static void library_window_real_show_all (GtkWidget* base);
GAction* page_get_common_action (Page* self, const gchar* name, gboolean log_warning);
GType checkerboard_page_get_type (void) G_GNUC_CONST;
static void library_window_init_view_filter (LibraryWindow* self, CheckerboardPage* page);
static void library_window_toggle_search_bar (LibraryWindow* self, gboolean show, CheckerboardPage* page);
static gboolean library_window_should_show_search_bar (LibraryWindow* self);
static void library_window_set_sidebar_visible (LibraryWindow* self, gboolean visible);
static gboolean library_window_is_sidebar_visible (LibraryWindow* self);
LibraryWindow* library_window_get_app (void);
gboolean library_window_is_mount_uri_supported (const gchar* uri);
static gchar* library_window_real_get_app_role (AppWindow* base);
#define RESOURCES_APP_LIBRARY_ROLE _ ("Photo Manager")
GType tag_get_type (void) G_GNUC_CONST;
void library_window_rename_tag_in_sidebar (LibraryWindow* self, Tag* tag);
GType tags_sidebar_entry_get_type (void) G_GNUC_CONST;
TagsSidebarEntry* tags_branch_get_entry_for_tag (TagsBranch* self, Tag* tag);
gboolean sidebar_tree_rename_entry_in_place (SidebarTree* self, SidebarEntry* entry);
GType event_source_get_type (void) G_GNUC_CONST;
GType event_get_type (void) G_GNUC_CONST;
void library_window_rename_event_in_sidebar (LibraryWindow* self, Event* event);
GType events_event_entry_get_type (void) G_GNUC_CONST;
EventsEventEntry* events_branch_get_entry_for_event (EventsBranch* self, Event* event);
GType saved_search_get_type (void) G_GNUC_CONST;
void library_window_rename_search_in_sidebar (LibraryWindow* self, SavedSearch* search);
GType searches_sidebar_entry_get_type (void) G_GNUC_CONST;
SearchesSidebarEntry* searches_branch_get_entry_for_saved_search (SearchesBranch* self, SavedSearch* search);
static void library_window_real_on_quit (AppWindow* base);
GType configuration_facade_get_type (void) G_GNUC_CONST;
GType config_facade_get_type (void) G_GNUC_CONST;
ConfigFacade* config_facade_get_instance (void);
void configuration_facade_set_library_window_state (ConfigurationFacade* self, gboolean maximize, Dimensions* dimensions);
void configuration_facade_set_sidebar_position (ConfigurationFacade* self, gint position);
void app_window_on_quit (AppWindow* self);
GType media_page_get_type (void) G_GNUC_CONST;
GType collection_page_get_type (void) G_GNUC_CONST;
GType photo_source_get_type (void) G_GNUC_CONST;
GType photo_get_type (void) G_GNUC_CONST;
static Photo* library_window_get_start_fullscreen_photo (LibraryWindow* self, CollectionPage* page);
gint view_collection_get_selected_count (ViewCollection* self);
GeeList* view_collection_get_selected_sources_of_type (ViewCollection* self, GType t);
GType library_photo_get_type (void) G_GNUC_CONST;
GeeList* view_collection_get_sources_of_type (ViewCollection* self, GType t);
static gboolean library_window_get_fullscreen_photo (LibraryWindow* self, Page* page, CollectionPage** collection, Photo** start, ViewCollection** view_collection);
GType events_directory_page_get_type (void) G_GNUC_CONST;
gint data_collection_get_count (DataCollection* self);
DataObject* data_collection_get_at (DataCollection* self, gint index);
GType data_view_get_type (void) G_GNUC_CONST;
DataSource* data_view_get_source (DataView* self);
GType event_page_get_type (void) G_GNUC_CONST;
CollectionPage* library_photo_page_get_controller_page (LibraryPhotoPage* self);
gboolean editing_host_page_has_photo (EditingHostPage* self);
Photo* editing_host_page_get_photo (EditingHostPage* self);
static void library_window_real_on_fullscreen (AppWindow* base);
static GType library_window_fullscreen_photo_page_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
static LibraryWindowFullscreenPhotoPage* library_window_fullscreen_photo_page_new (CollectionPage* collection, Photo* start, ViewCollection* view);
static LibraryWindowFullscreenPhotoPage* library_window_fullscreen_photo_page_construct (GType object_type, CollectionPage* collection, Photo* start, ViewCollection* view);
void app_window_go_fullscreen (AppWindow* self, Page* page);
#define RESOURCES_CANCEL_LABEL _ ("_Cancel")
#define RESOURCES_OK_LABEL _ ("_OK")
gboolean app_dirs_is_in_import_dir (GFile* file);
GtkResponseType copy_files_dialog (void);
static void library_window_dispatch_import_jobs (LibraryWindow* self, GSList* uris, const gchar* job_name, gboolean copy_to_library);
static void _g_free0_ (gpointer var);
static void _g_slist_free__g_free0_ (GSList* self);
GType data_imports_ui_data_imports_dialog_get_type (void) G_GNUC_CONST;
DataImportsUIDataImportsDialog* data_imports_ui_data_imports_dialog_get_or_create_instance (void);
static void library_window_real_update_common_action_availability (AppWindow* base, Page* old_page, Page* new_page);
void app_window_update_common_action_availability (AppWindow* self, Page* old_page, Page* new_page);
void app_window_set_common_action_sensitive (AppWindow* self, const gchar* name, gboolean sensitive);
static void library_window_real_update_common_actions (AppWindow* base, Page* page, gint selected_count, gint count);
static gboolean library_window_can_empty_trash (LibraryWindow* self);
void app_window_set_common_action_visible (AppWindow* self, const gchar* name, gboolean visible);
static gboolean library_window_can_jump_to_event (LibraryWindow* self);
void app_window_update_common_actions (AppWindow* self, Page* page, gint selected_count, gint count);
GType library_photo_source_collection_get_type (void) G_GNUC_CONST;
gint media_source_collection_get_trashcan_count (MediaSourceCollection* self);
GType video_source_collection_get_type (void) G_GNUC_CONST;
GeeCollection* media_source_collection_get_trashcan_contents (MediaSourceCollection* self);
void remove_from_app (GeeCollection* sources, const gchar* dialog_title, const gchar* progress_dialog_text);
gpointer command_manager_ref (gpointer instance);
void command_manager_unref (gpointer instance);
GParamSpec* param_spec_command_manager (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_command_manager (GValue* value, gpointer v_object);
void value_take_command_manager (GValue* value, gpointer v_object);
gpointer value_get_command_manager (const GValue* value);
GType command_manager_get_type (void) G_GNUC_CONST;
CommandManager* app_window_get_command_manager (void);
void command_manager_reset (CommandManager* self);
SavedSearchDialog* saved_search_dialog_new (void);
SavedSearchDialog* saved_search_dialog_construct (GType object_type);
gpointer saved_search_dialog_ref (gpointer instance);
void saved_search_dialog_unref (gpointer instance);
GParamSpec* param_spec_saved_search_dialog (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_saved_search_dialog (GValue* value, gpointer v_object);
void value_take_saved_search_dialog (GValue* value, gpointer v_object);
gpointer value_get_saved_search_dialog (const GValue* value);
GType saved_search_dialog_get_type (void) G_GNUC_CONST;
void saved_search_dialog_show (SavedSearchDialog* self);
DataSource* view_collection_get_selected_source_at (ViewCollection* self, gint index);
Event* media_source_get_event (MediaSource* self);
void library_window_switch_to_event (LibraryWindow* self, Event* event);
static GVariant* _variant_new2 (gboolean value);
void search_filter_toolbar_take_focus (SearchFilterToolbar* self);
static void library_window_on_clear_search (LibraryWindow* self);
void search_filter_actions_reset (SearchFilterActions* self);
gint library_window_get_events_sort (LibraryWindow* self);
void configuration_facade_set_events_sort_ascending (ConfigurationFacade* self, gboolean sort);
void preferences_dialog_show (void);
void properties_update_properties (Properties* self, Page* page);
void configuration_facade_set_display_basic_properties (ConfigurationFacade* self, gboolean display);
static gboolean _variant_get3 (GVariant* value);
static GVariant* _variant_new4 (gboolean value);
void extended_properties_window_update_properties (ExtendedPropertiesWindow* self, Page* page);
void configuration_facade_set_display_search_bar (ConfigurationFacade* self, gboolean display);
void library_window_show_search_bar (LibraryWindow* self, gboolean display);
void configuration_facade_set_display_sidebar (ConfigurationFacade* self, gboolean display);
gboolean configuration_facade_get_display_sidebar (ConfigurationFacade* self);
static void library_window_set_toolbar_visible (LibraryWindow* self, gboolean visible);
GtkToolbar* page_get_toolbar (Page* self);
void configuration_facade_set_display_toolbar (ConfigurationFacade* self, gboolean display);
static gboolean library_window_is_toolbar_visible (LibraryWindow* self);
gboolean configuration_facade_get_display_toolbar (ConfigurationFacade* self);
static void library_window_sync_extended_properties (LibraryWindow* self, gboolean show);
static GVariant* _variant_new5 (gboolean value);
void configuration_facade_set_display_extended_properties (ConfigurationFacade* self, gboolean display);
GType batch_import_get_type (void) G_GNUC_CONST;
void library_window_enqueue_batch_import (LibraryWindow* self, BatchImport* batch_import, gboolean allow_user_cancel);
GType library_hideable_page_entry_get_type (void) G_GNUC_CONST;
GType library_import_queue_sidebar_entry_get_type (void) G_GNUC_CONST;
LibraryImportQueueSidebarEntry* library_branch_get_import_queue_entry (LibraryBranch* self);
void library_import_queue_sidebar_entry_enqueue_and_schedule (LibraryImportQueueSidebarEntry* self, BatchImport* batch_import, gboolean allow_user_cancel);
gpointer import_manifest_ref (gpointer instance);
void import_manifest_unref (gpointer instance);
GParamSpec* param_spec_import_manifest (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_import_manifest (GValue* value, gpointer v_object);
void value_take_import_manifest (GValue* value, gpointer v_object);
gpointer value_get_import_manifest (const GValue* value);
GType import_manifest_get_type (void) G_GNUC_CONST;
static void library_window_import_reporter (LibraryWindow* self, ImportManifest* manifest);
gpointer import_ui_question_params_ref (gpointer instance);
void import_ui_question_params_unref (gpointer instance);
GParamSpec* import_ui_param_spec_question_params (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void import_ui_value_set_question_params (GValue* value, gpointer v_object);
void import_ui_value_take_question_params (GValue* value, gpointer v_object);
gpointer import_ui_value_get_question_params (const GValue* value);
GType import_ui_question_params_get_type (void) G_GNUC_CONST;
gboolean import_ui_report_manifest (ImportManifest* manifest, gboolean show_dest_id, ImportUIQuestionParams* question);
GFile* app_dirs_get_import_dir (void);
GtkResponseType app_window_affirm_cancel_question (const gchar* message, const gchar* affirmative, const gchar* title, GtkWindow* parent);
AppWindow* app_window_get_instance (void);
gpointer batch_import_job_ref (gpointer instance);
void batch_import_job_unref (gpointer instance);
GParamSpec* param_spec_batch_import_job (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_batch_import_job (GValue* value, gpointer v_object);
void value_take_batch_import_job (GValue* value, gpointer v_object);
gpointer value_get_batch_import_job (const GValue* value);
GType batch_import_job_get_type (void) G_GNUC_CONST;
GType file_import_job_get_type (void) G_GNUC_CONST;
void app_window_error_message (const gchar* message, GtkWindow* parent);
FileImportJob* file_import_job_new (GFile* file_or_dir, gboolean copy_to_library);
FileImportJob* file_import_job_construct (GType object_type, GFile* file_or_dir, gboolean copy_to_library);
gpointer batch_import_roll_ref (gpointer instance);
void batch_import_roll_unref (gpointer instance);
GParamSpec* param_spec_batch_import_roll (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_batch_import_roll (GValue* value, gpointer v_object);
void value_take_batch_import_roll (GValue* value, gpointer v_object);
gpointer value_get_batch_import_roll (const GValue* value);
GType batch_import_roll_get_type (void) G_GNUC_CONST;
static void _library_window_import_reporter_batch_import_import_reporter (ImportManifest* manifest, BatchImportRoll* import_roll, gpointer self);
BatchImport* batch_import_new (GeeIterable* jobs, const gchar* name, BatchImportImportReporter reporter, void* reporter_target, GeeArrayList* prefailed, GeeArrayList* pre_already_imported, GCancellable* cancellable, BatchImportRoll* import_roll, ImportManifest* skip_manifest);
BatchImport* batch_import_construct (GType object_type, GeeIterable* jobs, const gchar* name, BatchImportImportReporter reporter, void* reporter_target, GeeArrayList* prefailed, GeeArrayList* pre_already_imported, GCancellable* cancellable, BatchImportRoll* import_roll, ImportManifest* skip_manifest);
void library_window_switch_to_import_queue_page (LibraryWindow* self);
static GdkDragAction library_window_get_drag_action (LibraryWindow* self);
static gboolean library_window_real_drag_motion (GtkWidget* base, GdkDragContext* context, gint x, gint y, guint time);
static void library_window_real_drag_data_received (GtkWidget* base, GdkDragContext* context, gint x, gint y, GtkSelectionData* selection_data, guint info, guint time);
void library_window_switch_to_library_page (LibraryWindow* self);
void library_window_switch_to_page (LibraryWindow* self, Page* page);
void library_window_switch_to_tag (LibraryWindow* self, Tag* tag);
void library_window_switch_to_saved_search (LibraryWindow* self, SavedSearch* search);
void library_window_switch_to_photo_page (LibraryWindow* self, CollectionPage* controller, Photo* current);
DataView* view_collection_get_view_for_source (ViewCollection* self, DataSource* source);
LibraryPhotoPage* library_photo_page_new (void);
LibraryPhotoPage* library_photo_page_construct (GType object_type);
void library_window_add_to_stack (LibraryWindow* self, Page* page);
void spin_event_loop (void);
void library_photo_page_display_for_collection (LibraryPhotoPage* self, CollectionPage* return_page, Photo* photo, ViewCollection* view);
GType camera_sidebar_entry_get_type (void) G_GNUC_CONST;
CameraSidebarEntry* camera_branch_get_entry_for_camera (CameraBranch* self, DiscoveredCamera* camera);
GType import_page_get_type (void) G_GNUC_CONST;
gboolean import_page_unmount_camera (ImportPage* self, GMount* mount);
static void library_window_remove_from_stack (LibraryWindow* self, Page* page);
gboolean configuration_facade_get_display_basic_properties (ConfigurationFacade* self);
static GVariant* _variant_new6 (gboolean value);
gboolean configuration_facade_get_display_extended_properties (ConfigurationFacade* self);
static GVariant* _variant_new7 (gboolean value);
gboolean configuration_facade_get_display_search_bar (ConfigurationFacade* self);
static GVariant* _variant_new8 (gboolean value);
gboolean configuration_facade_get_events_sort_ascending (ConfigurationFacade* self);
static GVariant* _variant_new9 (const gchar* value);
static void library_window_start_pulse_background_progress_bar (LibraryWindow* self, const gchar* label, gint priority);
static void library_window_stop_pulse_background_progress_bar (LibraryWindow* self, gint priority, gboolean clear);
static void library_window_show_background_progress_bar (LibraryWindow* self);
static gboolean library_window_on_pulse_background_progress_bar (LibraryWindow* self);
static gboolean _library_window_on_pulse_background_progress_bar_gsource_func (gpointer self);
static void library_window_clear_background_progress_bar (LibraryWindow* self, gint priority);
static void library_window_update_background_progress_bar (LibraryWindow* self, const gchar* label, gint priority, gdouble count, gdouble total);
static void library_window_hide_background_progress_bar (LibraryWindow* self);
gint configuration_facade_get_sidebar_position (ConfigurationFacade* self);
gint library_window_get_PAGE_MIN_WIDTH (void);
static void library_window_real_set_current_page (PageWindow* base, Page* page);
void library_window_set_page_switching_enabled (LibraryWindow* self, gboolean should_enable);
void application_set_menubar (GMenuModel* model);
void page_switching_from (Page* self);
void sidebar_tree_enable_editing (SidebarTree* self);
void page_window_set_current_page (PageWindow* self, Page* page);
void sidebar_tree_disable_editing (SidebarTree* self);
GType sidebar_expandable_entry_get_type (void) G_GNUC_CONST;
gboolean sidebar_expandable_entry_expand_on_select (SidebarExpandableEntry* self);
gboolean sidebar_tree_expand_to_entry (SidebarTree* self, SidebarEntry* entry);
gboolean sidebar_tree_place_cursor (SidebarTree* self, SidebarEntry* entry, gboolean mask_signal);
static void library_window_on_update_properties (LibraryWindow* self);
static void library_window_subscribe_for_basic_information (LibraryWindow* self, Page* page);
void page_switched_to (Page* self);
GMenuModel* page_get_menubar (Page* self);
void page_ready (Page* self);
GType search_view_filter_get_type (void) G_GNUC_CONST;
void search_filter_toolbar_set_view_filter (SearchFilterToolbar* self, SearchViewFilter* search_filter);
SearchViewFilter* checkerboard_page_get_search_view_filter (CheckerboardPage* self);
void view_collection_install_view_filter (ViewCollection* self, ViewFilter* f);
DisabledViewFilter* disabled_view_filter_new (void);
DisabledViewFilter* disabled_view_filter_construct (GType object_type);
GType disabled_view_filter_get_type (void) G_GNUC_CONST;
GType library_last_import_sidebar_entry_get_type (void) G_GNUC_CONST;
LibraryLastImportSidebarEntry* library_branch_get_last_imported_entry (LibraryBranch* self);
gboolean library_hideable_page_entry_get_visible (LibraryHideablePageEntry* self);
gboolean sidebar_branch_get_show_branch (SidebarBranch* self);
GType events_directory_entry_get_type (void) G_GNUC_CONST;
GType events_master_directory_entry_get_type (void) G_GNUC_CONST;
EventsMasterDirectoryEntry* events_branch_get_master_entry (EventsBranch* self);
static void _library_window_on_update_properties_view_collection_items_state_changed (ViewCollection* _sender, GeeIterable* changed, gpointer self);
static void _library_window_on_update_properties_data_collection_items_altered (DataCollection* _sender, GeeMap* items, gpointer self);
static void _library_window_on_update_properties_data_collection_contents_altered (DataCollection* _sender, GeeIterable* added, GeeIterable* removed, gpointer self);
static void _library_window_on_update_properties_view_collection_items_visibility_changed (ViewCollection* _sender, GeeCollection* changed, gpointer self);
void one_shot_scheduler_at_idle (OneShotScheduler* self);
void library_window_mounted_camera_shell_notification (LibraryWindow* self, const gchar* uri, gboolean at_startup);
gchar* camera_table_get_port_uri (const gchar* port);
gboolean is_string_empty (const gchar* s);
static gboolean library_window_real_key_press_event (GtkWidget* base, GdkEventKey* event);
gboolean sidebar_tree_is_keypress_interpreted (SidebarTree* self, GdkEventKey* event);
gint thumbnail_get_MAX_SCALE (void);
#define CHECKERBOARD_LAYOUT_COLUMN_GUTTER_PADDING 24
GType fullscreen_window_get_type (void) G_GNUC_CONST;
gpointer injection_group_ref (gpointer instance);
void injection_group_unref (gpointer instance);
GParamSpec* param_spec_injection_group (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_injection_group (GValue* value, gpointer v_object);
void value_take_injection_group (GValue* value, gpointer v_object);
gpointer value_get_injection_group (const GValue* value);
GType injection_group_get_type (void) G_GNUC_CONST;
GType zoom_buffer_get_type (void) G_GNUC_CONST;
GType single_photo_page_update_reason_get_type (void) G_GNUC_CONST;
GType raw_developer_get_type (void) G_GNUC_CONST;
#define LIBRARY_WINDOW_FULLSCREEN_PHOTO_PAGE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), LIBRARY_WINDOW_TYPE_FULLSCREEN_PHOTO_PAGE, LibraryWindowFullscreenPhotoPagePrivate))
enum  {
	LIBRARY_WINDOW_FULLSCREEN_PHOTO_PAGE_DUMMY_PROPERTY
};
static void library_window_fullscreen_photo_page_real_switched_to (Page* base);
static void library_window_fullscreen_photo_page_real_init_collect_ui_filenames (Page* base, GeeList* ui_filenames);
static void library_window_fullscreen_photo_page_finalize (GObject* obj);
static void library_window_finalize (GObject* obj);
static void _vala_library_window_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);

static const gchar* LIBRARY_WINDOW_SUPPORTED_MOUNT_SCHEMES[3] = {"gphoto2:", "disk:", "file:"};
const GtkTargetEntry LIBRARY_WINDOW_DND_TARGET_ENTRIES[3] = {{"text/uri-list", (guint) GTK_TARGET_OTHER_APP, (guint) LIBRARY_WINDOW_TARGET_TYPE_URI_LIST}, {LIBRARY_WINDOW_MEDIA_LIST_MIME_TYPE, (guint) GTK_TARGET_SAME_APP, (guint) LIBRARY_WINDOW_TARGET_TYPE_MEDIA_LIST}, {LIBRARY_WINDOW_TAG_PATH_MIME_TYPE, (guint) GTK_TARGET_SAME_WIDGET, (guint) LIBRARY_WINDOW_TARGET_TYPE_TAG_PATH}};
static const GActionEntry LIBRARY_WINDOW_common_actions[13] = {{"CommonFileImport", _library_window_on_file_import_gsimple_action_activate_callback}, {"ExternalLibraryImport", _library_window_on_external_library_import_gsimple_action_activate_callback}, {"CommonPreferences", _library_window_on_preferences_gsimple_action_activate_callback}, {"CommonEmptyTrash", _library_window_on_empty_trash_gsimple_action_activate_callback}, {"CommonJumpToEvent", _library_window_on_jump_to_event_gsimple_action_activate_callback}, {"CommonFind", _library_window_on_find_gsimple_action_activate_callback}, {"CommonNewSearch", _library_window_on_new_search_gsimple_action_activate_callback}, {"CommonDisplayBasicProperties", _library_window_on_action_toggle_gsimple_action_activate_callback, NULL, "false", _library_window_on_display_basic_properties_gsimple_action_change_state_callback}, {"CommonDisplayExtendedProperties", _library_window_on_action_toggle_gsimple_action_activate_callback, NULL, "false", _library_window_on_display_extended_properties_gsimple_action_change_state_callback}, {"CommonDisplaySearchbar", _library_window_on_action_toggle_gsimple_action_activate_callback, NULL, "false", _library_window_on_display_searchbar_gsimple_action_change_state_callback}, {"CommonDisplaySidebar", _library_window_on_action_toggle_gsimple_action_activate_callback, NULL, "true", _library_window_on_display_sidebar_gsimple_action_change_state_callback}, {"CommonDisplayToolbar", _library_window_on_action_toggle_gsimple_action_activate_callback, NULL, "true", _library_window_on_display_toolbar_gsimple_action_change_state_callback}, {"CommonSortEvents", _library_window_on_action_radio_gsimple_action_activate_callback, "s", "'ascending'", _library_window_on_events_sort_changed_gsimple_action_change_state_callback}};

static void _library_window_on_page_created_sidebar_tree_page_created (SidebarTree* _sender, SidebarPageRepresentative* entry, Page* page, gpointer self) {
#line 215 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_page_created ((LibraryWindow*) self, entry, page);
#line 1742 "LibraryWindow.c"
}


static void _library_window_on_destroying_page_sidebar_tree_destroying_page (SidebarTree* _sender, SidebarPageRepresentative* entry, Page* page, gpointer self) {
#line 216 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_destroying_page ((LibraryWindow*) self, entry, page);
#line 1749 "LibraryWindow.c"
}


static void _library_window_on_sidebar_entry_selected_sidebar_tree_entry_selected (SidebarTree* _sender, SidebarSelectableEntry* selectable, gpointer self) {
#line 217 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_sidebar_entry_selected ((LibraryWindow*) self, selectable);
#line 1756 "LibraryWindow.c"
}


static void _library_window_on_sidebar_selected_entry_removed_sidebar_tree_selected_entry_removed (SidebarTree* _sender, SidebarSelectableEntry* removed, gpointer self) {
#line 218 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_sidebar_selected_entry_removed ((LibraryWindow*) self, removed);
#line 1763 "LibraryWindow.c"
}


static void _library_window_hide_extended_properties_gtk_widget_hide (GtkWidget* _sender, gpointer self) {
#line 222 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_hide_extended_properties ((LibraryWindow*) self);
#line 1770 "LibraryWindow.c"
}


static void _library_window_show_extended_properties_gtk_widget_show (GtkWidget* _sender, gpointer self) {
#line 223 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_show_extended_properties ((LibraryWindow*) self);
#line 1777 "LibraryWindow.c"
}


static void _library_window_on_trashcan_contents_altered_media_source_collection_trashcan_contents_altered (MediaSourceCollection* _sender, GeeCollection* added, GeeCollection* removed, gpointer self) {
#line 226 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_trashcan_contents_altered ((LibraryWindow*) self);
#line 1784 "LibraryWindow.c"
}


static void _library_window_on_media_altered_data_collection_items_altered (DataCollection* _sender, GeeMap* items, gpointer self) {
#line 227 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_media_altered ((LibraryWindow*) self);
#line 1791 "LibraryWindow.c"
}


static void _library_window_on_metadata_writer_progress_metadata_writer_progress (MetadataWriter* _sender, guint completed, guint total, gpointer self) {
#line 230 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_metadata_writer_progress ((LibraryWindow*) self, completed, total);
#line 1798 "LibraryWindow.c"
}


static void _library_window_on_library_monitor_installed_library_monitor_pool_monitor_installed (LibraryMonitorPool* _sender, LibraryMonitor* monitor, gpointer self) {
#line 236 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_library_monitor_installed ((LibraryWindow*) self, monitor);
#line 1805 "LibraryWindow.c"
}


static void _library_window_on_library_monitor_destroyed_library_monitor_pool_monitor_destroyed (LibraryMonitorPool* _sender, LibraryMonitor* monitor, gpointer self) {
#line 237 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_library_monitor_destroyed ((LibraryWindow*) self, monitor);
#line 1812 "LibraryWindow.c"
}


static void _library_window_on_camera_added_camera_table_camera_added (CameraTable* _sender, DiscoveredCamera* camera, gpointer self) {
#line 239 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_camera_added ((LibraryWindow*) self, camera);
#line 1819 "LibraryWindow.c"
}


static GType library_window_sidebar_root_position_get_type (void) {
	static volatile gsize library_window_sidebar_root_position_type_id__volatile = 0;
	if (g_once_init_enter (&library_window_sidebar_root_position_type_id__volatile)) {
		static const GEnumValue values[] = {{LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_LIBRARY, "LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_LIBRARY", "library"}, {LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_CAMERAS, "LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_CAMERAS", "cameras"}, {LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_SAVED_SEARCH, "LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_SAVED_SEARCH", "saved-search"}, {LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_EVENTS, "LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_EVENTS", "events"}, {LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_FOLDERS, "LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_FOLDERS", "folders"}, {LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_TAGS, "LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_TAGS", "tags"}, {0, NULL, NULL}};
		GType library_window_sidebar_root_position_type_id;
		library_window_sidebar_root_position_type_id = g_enum_register_static ("LibraryWindowSidebarRootPosition", values);
		g_once_init_leave (&library_window_sidebar_root_position_type_id__volatile, library_window_sidebar_root_position_type_id);
	}
	return library_window_sidebar_root_position_type_id__volatile;
}


GType library_window_target_type_get_type (void) {
	static volatile gsize library_window_target_type_type_id__volatile = 0;
	if (g_once_init_enter (&library_window_target_type_type_id__volatile)) {
		static const GEnumValue values[] = {{LIBRARY_WINDOW_TARGET_TYPE_URI_LIST, "LIBRARY_WINDOW_TARGET_TYPE_URI_LIST", "uri-list"}, {LIBRARY_WINDOW_TARGET_TYPE_MEDIA_LIST, "LIBRARY_WINDOW_TARGET_TYPE_MEDIA_LIST", "media-list"}, {LIBRARY_WINDOW_TARGET_TYPE_TAG_PATH, "LIBRARY_WINDOW_TARGET_TYPE_TAG_PATH", "tag-path"}, {0, NULL, NULL}};
		GType library_window_target_type_type_id;
		library_window_target_type_type_id = g_enum_register_static ("LibraryWindowTargetType", values);
		g_once_init_leave (&library_window_target_type_type_id__volatile, library_window_target_type_type_id);
	}
	return library_window_target_type_type_id__volatile;
}


static void _library_window_on_file_import_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_file_import ((LibraryWindow*) self);
#line 1850 "LibraryWindow.c"
}


static void _library_window_on_external_library_import_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_external_library_import ((LibraryWindow*) self);
#line 1857 "LibraryWindow.c"
}


static void _library_window_on_preferences_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_preferences ((LibraryWindow*) self);
#line 1864 "LibraryWindow.c"
}


static void _library_window_on_empty_trash_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_empty_trash ((LibraryWindow*) self);
#line 1871 "LibraryWindow.c"
}


static void _library_window_on_jump_to_event_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_jump_to_event ((LibraryWindow*) self);
#line 1878 "LibraryWindow.c"
}


static void _library_window_on_find_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_find ((LibraryWindow*) self);
#line 1885 "LibraryWindow.c"
}


static void _library_window_on_new_search_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_new_search ((LibraryWindow*) self);
#line 1892 "LibraryWindow.c"
}


static void _library_window_on_action_toggle_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_action_toggle ((LibraryWindow*) self, action, parameter);
#line 1899 "LibraryWindow.c"
}


static void _library_window_on_display_basic_properties_gsimple_action_change_state_callback (GSimpleAction* action, GVariant* value, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_display_basic_properties ((LibraryWindow*) self, action, value);
#line 1906 "LibraryWindow.c"
}


static void _library_window_on_display_extended_properties_gsimple_action_change_state_callback (GSimpleAction* action, GVariant* value, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_display_extended_properties ((LibraryWindow*) self, action, value);
#line 1913 "LibraryWindow.c"
}


static void _library_window_on_display_searchbar_gsimple_action_change_state_callback (GSimpleAction* action, GVariant* value, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_display_searchbar ((LibraryWindow*) self, action, value);
#line 1920 "LibraryWindow.c"
}


static void _library_window_on_display_sidebar_gsimple_action_change_state_callback (GSimpleAction* action, GVariant* value, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_display_sidebar ((LibraryWindow*) self, action, value);
#line 1927 "LibraryWindow.c"
}


static void _library_window_on_display_toolbar_gsimple_action_change_state_callback (GSimpleAction* action, GVariant* value, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_display_toolbar ((LibraryWindow*) self, action, value);
#line 1934 "LibraryWindow.c"
}


static void _library_window_on_action_radio_gsimple_action_activate_callback (GSimpleAction* action, GVariant* parameter, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_action_radio ((LibraryWindow*) self, action, parameter);
#line 1941 "LibraryWindow.c"
}


static void _library_window_on_events_sort_changed_gsimple_action_change_state_callback (GSimpleAction* action, GVariant* value, gpointer self) {
#line 264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_events_sort_changed ((LibraryWindow*) self, action, value);
#line 1948 "LibraryWindow.c"
}


static void _library_window_external_drop_handler_sidebar_tree_external_drop_handler (GdkDragContext* context, SidebarEntry* entry, GtkSelectionData* data, guint info, guint time, gpointer self) {
#line 151 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_external_drop_handler ((LibraryWindow*) self, context, entry, data, info, time);
#line 1955 "LibraryWindow.c"
}


static void _library_window_on_update_properties_now_one_shot_callback (gpointer self) {
#line 171 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_update_properties_now ((LibraryWindow*) self);
#line 1962 "LibraryWindow.c"
}


LibraryWindow* library_window_construct (GType object_type, ProgressMonitor progress_monitor, void* progress_monitor_target) {
	LibraryWindow * self = NULL;
	SidebarTree* _tmp0_ = NULL;
	SidebarTree* _tmp1_ = NULL;
	SidebarTree* _tmp2_ = NULL;
	SidebarTree* _tmp3_ = NULL;
	SidebarTree* _tmp4_ = NULL;
	SidebarTree* _tmp5_ = NULL;
	LibraryBranch* _tmp6_ = NULL;
	SidebarTree* _tmp7_ = NULL;
	TagsBranch* _tmp8_ = NULL;
	SidebarTree* _tmp9_ = NULL;
	FoldersBranch* _tmp10_ = NULL;
	SidebarTree* _tmp11_ = NULL;
	EventsBranch* _tmp12_ = NULL;
	SidebarTree* _tmp13_ = NULL;
	CameraBranch* _tmp14_ = NULL;
	SidebarTree* _tmp15_ = NULL;
	SearchesBranch* _tmp16_ = NULL;
	ExtendedPropertiesWindow* _tmp17_ = NULL;
	ExtendedPropertiesWindow* _tmp18_ = NULL;
	ExtendedPropertiesWindow* _tmp19_ = NULL;
	OneShotScheduler* _tmp20_ = NULL;
	SearchFilterActions* _tmp21_ = NULL;
	SearchFilterToolbar* _tmp22_ = NULL;
	LibraryBranch* _tmp23_ = NULL;
	LibraryPhotosEntry* _tmp24_ = NULL;
	LibraryPhotosEntry* _tmp25_ = NULL;
	Page* _tmp26_ = NULL;
	Page* _tmp27_ = NULL;
	GtkTargetEntry* main_window_dnd_targets = NULL;
	GtkTargetEntry _tmp40_ = {0};
	GtkTargetEntry _tmp41_ = {0};
	GtkTargetEntry* _tmp42_ = NULL;
	gint main_window_dnd_targets_length1 = 0;
	gint _main_window_dnd_targets_size_ = 0;
	GtkTargetEntry* _tmp43_ = NULL;
	gint _tmp43__length1 = 0;
	MetadataWriter* _tmp44_ = NULL;
	MetadataWriter* _tmp45_ = NULL;
	LibraryMonitor* monitor = NULL;
	LibraryMonitorPool* _tmp46_ = NULL;
	LibraryMonitorPool* _tmp47_ = NULL;
	LibraryMonitor* _tmp48_ = NULL;
	LibraryMonitor* _tmp49_ = NULL;
	LibraryMonitor* _tmp50_ = NULL;
	LibraryMonitorPool* _tmp52_ = NULL;
	LibraryMonitorPool* _tmp53_ = NULL;
	LibraryMonitorPool* _tmp54_ = NULL;
	LibraryMonitorPool* _tmp55_ = NULL;
	CameraTable* _tmp56_ = NULL;
	CameraTable* _tmp57_ = NULL;
	GtkProgressBar* _tmp58_ = NULL;
#line 149 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = (LibraryWindow*) app_window_construct (object_type);
#line 151 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = sidebar_tree_new (LIBRARY_WINDOW_DND_TARGET_ENTRIES, G_N_ELEMENTS (LIBRARY_WINDOW_DND_TARGET_ENTRIES), GDK_ACTION_ASK, _library_window_external_drop_handler_sidebar_tree_external_drop_handler, self);
#line 151 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp0_);
#line 151 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->sidebar_tree);
#line 151 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->sidebar_tree = _tmp0_;
#line 154 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = self->priv->sidebar_tree;
#line 154 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (_tmp1_, "page-created", (GCallback) _library_window_on_page_created_sidebar_tree_page_created, self, 0);
#line 155 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = self->priv->sidebar_tree;
#line 155 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (_tmp2_, "destroying-page", (GCallback) _library_window_on_destroying_page_sidebar_tree_destroying_page, self, 0);
#line 156 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = self->priv->sidebar_tree;
#line 156 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (_tmp3_, "entry-selected", (GCallback) _library_window_on_sidebar_entry_selected_sidebar_tree_entry_selected, self, 0);
#line 157 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = self->priv->sidebar_tree;
#line 157 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (_tmp4_, "selected-entry-removed", (GCallback) _library_window_on_sidebar_selected_entry_removed_sidebar_tree_selected_entry_removed, self, 0);
#line 159 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = self->priv->sidebar_tree;
#line 159 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = self->priv->library_branch;
#line 159 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	sidebar_tree_graft (_tmp5_, G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, SIDEBAR_TYPE_BRANCH, SidebarBranch), (gint) LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_LIBRARY);
#line 160 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = self->priv->sidebar_tree;
#line 160 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = self->priv->tags_branch;
#line 160 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	sidebar_tree_graft (_tmp7_, G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, SIDEBAR_TYPE_BRANCH, SidebarBranch), (gint) LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_TAGS);
#line 161 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = self->priv->sidebar_tree;
#line 161 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp10_ = self->priv->folders_branch;
#line 161 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	sidebar_tree_graft (_tmp9_, G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, SIDEBAR_TYPE_BRANCH, SidebarBranch), (gint) LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_FOLDERS);
#line 162 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = self->priv->sidebar_tree;
#line 162 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = self->priv->events_branch;
#line 162 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	sidebar_tree_graft (_tmp11_, G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, SIDEBAR_TYPE_BRANCH, SidebarBranch), (gint) LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_EVENTS);
#line 163 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp13_ = self->priv->sidebar_tree;
#line 163 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp14_ = self->priv->camera_branch;
#line 163 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	sidebar_tree_graft (_tmp13_, G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, SIDEBAR_TYPE_BRANCH, SidebarBranch), (gint) LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_CAMERAS);
#line 164 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp15_ = self->priv->sidebar_tree;
#line 164 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp16_ = self->priv->saved_search_branch;
#line 164 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	sidebar_tree_graft (_tmp15_, G_TYPE_CHECK_INSTANCE_CAST (_tmp16_, SIDEBAR_TYPE_BRANCH, SidebarBranch), (gint) LIBRARY_WINDOW_SIDEBAR_ROOT_POSITION_SAVED_SEARCH);
#line 167 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp17_ = extended_properties_window_new (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_window_get_type (), GtkWindow));
#line 167 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp17_);
#line 167 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->extended_properties);
#line 167 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->extended_properties = _tmp17_;
#line 168 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp18_ = self->priv->extended_properties;
#line 168 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (_tmp18_, gtk_widget_get_type (), GtkWidget), "hide", (GCallback) _library_window_hide_extended_properties_gtk_widget_hide, self, 0);
#line 169 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp19_ = self->priv->extended_properties;
#line 169 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (_tmp19_, gtk_widget_get_type (), GtkWidget), "show", (GCallback) _library_window_show_extended_properties_gtk_widget_show, self, 0);
#line 171 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp20_ = one_shot_scheduler_new ("LibraryWindow properties", _library_window_on_update_properties_now_one_shot_callback, self);
#line 171 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_one_shot_scheduler_unref0 (self->priv->properties_scheduler);
#line 171 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->properties_scheduler = _tmp20_;
#line 175 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp21_ = self->priv->search_actions;
#line 175 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp22_ = search_filter_toolbar_new (_tmp21_);
#line 175 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp22_);
#line 175 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->search_toolbar);
#line 175 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->search_toolbar = _tmp22_;
#line 178 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp23_ = self->priv->library_branch;
#line 178 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp24_ = library_branch_get_photos_entry (_tmp23_);
#line 178 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp25_ = _tmp24_;
#line 178 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp26_ = sidebar_page_representative_get_page (G_TYPE_CHECK_INSTANCE_CAST (_tmp25_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative));
#line 178 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp27_ = _tmp26_;
#line 178 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_create_layout (self, _tmp27_);
#line 178 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp27_);
#line 181 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_load_configuration (self);
#line 2129 "LibraryWindow.c"
	{
		GeeIterator* _media_sources_it = NULL;
		MediaCollectionRegistry* _tmp28_ = NULL;
		MediaCollectionRegistry* _tmp29_ = NULL;
		GeeCollection* _tmp30_ = NULL;
		GeeCollection* _tmp31_ = NULL;
		GeeIterator* _tmp32_ = NULL;
		GeeIterator* _tmp33_ = NULL;
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp28_ = media_collection_registry_get_instance ();
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp29_ = _tmp28_;
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp30_ = media_collection_registry_get_all (_tmp29_);
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp31_ = _tmp30_;
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp32_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp31_, GEE_TYPE_ITERABLE, GeeIterable));
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp33_ = _tmp32_;
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp31_);
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_media_collection_registry_unref0 (_tmp29_);
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_media_sources_it = _tmp33_;
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		while (TRUE) {
#line 2158 "LibraryWindow.c"
			GeeIterator* _tmp34_ = NULL;
			gboolean _tmp35_ = FALSE;
			MediaSourceCollection* media_sources = NULL;
			GeeIterator* _tmp36_ = NULL;
			gpointer _tmp37_ = NULL;
			MediaSourceCollection* _tmp38_ = NULL;
			MediaSourceCollection* _tmp39_ = NULL;
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp34_ = _media_sources_it;
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp35_ = gee_iterator_next (_tmp34_);
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (!_tmp35_) {
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				break;
#line 2174 "LibraryWindow.c"
			}
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp36_ = _media_sources_it;
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp37_ = gee_iterator_get (_tmp36_);
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			media_sources = (MediaSourceCollection*) _tmp37_;
#line 184 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp38_ = media_sources;
#line 184 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			g_signal_connect_object (_tmp38_, "trashcan-contents-altered", (GCallback) _library_window_on_trashcan_contents_altered_media_source_collection_trashcan_contents_altered, self, 0);
#line 185 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp39_ = media_sources;
#line 185 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (_tmp39_, TYPE_DATA_COLLECTION, DataCollection), "items-altered", (GCallback) _library_window_on_media_altered_data_collection_items_altered, self, 0);
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_data_collection_unref0 (media_sources);
#line 2192 "LibraryWindow.c"
		}
#line 183 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_media_sources_it);
#line 2196 "LibraryWindow.c"
	}
#line 190 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp40_ = LIBRARY_WINDOW_DND_TARGET_ENTRIES[LIBRARY_WINDOW_TARGET_TYPE_URI_LIST];
#line 190 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp41_ = LIBRARY_WINDOW_DND_TARGET_ENTRIES[LIBRARY_WINDOW_TARGET_TYPE_MEDIA_LIST];
#line 190 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp42_ = g_new0 (GtkTargetEntry, 2);
#line 190 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp42_[0] = _tmp40_;
#line 190 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp42_[1] = _tmp41_;
#line 190 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	main_window_dnd_targets = _tmp42_;
#line 190 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	main_window_dnd_targets_length1 = 2;
#line 190 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_main_window_dnd_targets_size_ = main_window_dnd_targets_length1;
#line 196 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp43_ = main_window_dnd_targets;
#line 196 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp43__length1 = main_window_dnd_targets_length1;
#line 196 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_drag_dest_set (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_widget_get_type (), GtkWidget), GTK_DEST_DEFAULT_ALL, _tmp43_, _tmp43__length1, (GDK_ACTION_COPY | GDK_ACTION_LINK) | GDK_ACTION_ASK);
#line 199 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp44_ = metadata_writer_get_instance ();
#line 199 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp45_ = _tmp44_;
#line 199 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (_tmp45_, "progress", (GCallback) _library_window_on_metadata_writer_progress_metadata_writer_progress, self, 0);
#line 199 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp45_);
#line 201 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp46_ = library_monitor_pool_get_instance ();
#line 201 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp47_ = _tmp46_;
#line 201 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp48_ = library_monitor_pool_get_monitor (_tmp47_);
#line 201 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp49_ = _tmp48_;
#line 201 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_library_monitor_pool_unref0 (_tmp47_);
#line 201 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	monitor = _tmp49_;
#line 202 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp50_ = monitor;
#line 202 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp50_ != NULL) {
#line 2244 "LibraryWindow.c"
		LibraryMonitor* _tmp51_ = NULL;
#line 203 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp51_ = monitor;
#line 203 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_on_library_monitor_installed (self, _tmp51_);
#line 2250 "LibraryWindow.c"
	}
#line 205 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp52_ = library_monitor_pool_get_instance ();
#line 205 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp53_ = _tmp52_;
#line 205 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (_tmp53_, "monitor-installed", (GCallback) _library_window_on_library_monitor_installed_library_monitor_pool_monitor_installed, self, 0);
#line 205 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_library_monitor_pool_unref0 (_tmp53_);
#line 206 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp54_ = library_monitor_pool_get_instance ();
#line 206 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp55_ = _tmp54_;
#line 206 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (_tmp55_, "monitor-destroyed", (GCallback) _library_window_on_library_monitor_destroyed_library_monitor_pool_monitor_destroyed, self, 0);
#line 206 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_library_monitor_pool_unref0 (_tmp55_);
#line 208 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp56_ = camera_table_get_instance ();
#line 208 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp57_ = _tmp56_;
#line 208 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (_tmp57_, "camera-added", (GCallback) _library_window_on_camera_added_camera_table_camera_added, self, 0);
#line 208 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_camera_table_unref0 (_tmp57_);
#line 210 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp58_ = self->priv->background_progress_bar;
#line 210 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_progress_bar_set_show_text (_tmp58_, TRUE);
#line 149 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (monitor);
#line 149 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	main_window_dnd_targets = (g_free (main_window_dnd_targets), NULL);
#line 149 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return self;
#line 2286 "LibraryWindow.c"
}


LibraryWindow* library_window_new (ProgressMonitor progress_monitor, void* progress_monitor_target) {
#line 149 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return library_window_construct (TYPE_LIBRARY_WINDOW, progress_monitor, progress_monitor_target);
#line 2293 "LibraryWindow.c"
}


static void _library_window_on_library_monitor_discovery_started_directory_monitor_discovery_started (DirectoryMonitor* _sender, gpointer self) {
#line 245 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_library_monitor_discovery_started ((LibraryWindow*) self);
#line 2300 "LibraryWindow.c"
}


static void _library_window_on_library_monitor_discovery_completed_directory_monitor_discovery_completed (DirectoryMonitor* _sender, gpointer self) {
#line 246 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_library_monitor_discovery_completed ((LibraryWindow*) self);
#line 2307 "LibraryWindow.c"
}


static void _library_window_on_library_monitor_discovery_completed_directory_monitor_closed (DirectoryMonitor* _sender, gpointer self) {
#line 247 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_library_monitor_discovery_completed ((LibraryWindow*) self);
#line 2314 "LibraryWindow.c"
}


static void _library_window_on_library_monitor_auto_update_progress_library_monitor_auto_update_progress (LibraryMonitor* _sender, gint completed_files, gint total_files, gpointer self) {
#line 248 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_library_monitor_auto_update_progress ((LibraryWindow*) self, completed_files, total_files);
#line 2321 "LibraryWindow.c"
}


static void _library_window_on_library_monitor_auto_import_preparing_library_monitor_auto_import_preparing (LibraryMonitor* _sender, gpointer self) {
#line 249 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_library_monitor_auto_import_preparing ((LibraryWindow*) self);
#line 2328 "LibraryWindow.c"
}


static void _library_window_on_library_monitor_auto_import_progress_library_monitor_auto_import_progress (LibraryMonitor* _sender, guint64 completed_bytes, guint64 total_bytes, gpointer self) {
#line 250 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_library_monitor_auto_import_progress ((LibraryWindow*) self, completed_bytes, total_bytes);
#line 2335 "LibraryWindow.c"
}


static void library_window_on_library_monitor_installed (LibraryWindow* self, LibraryMonitor* monitor) {
	LibraryMonitor* _tmp0_ = NULL;
	GFile* _tmp1_ = NULL;
	GFile* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	LibraryMonitor* _tmp5_ = NULL;
	LibraryMonitor* _tmp6_ = NULL;
	LibraryMonitor* _tmp7_ = NULL;
	LibraryMonitor* _tmp8_ = NULL;
	LibraryMonitor* _tmp9_ = NULL;
	LibraryMonitor* _tmp10_ = NULL;
#line 242 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 242 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_MONITOR (monitor));
#line 243 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = monitor;
#line 243 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = directory_monitor_get_root (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, TYPE_DIRECTORY_MONITOR, DirectoryMonitor));
#line 243 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _tmp1_;
#line 243 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = g_file_get_path (_tmp2_);
#line 243 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = _tmp3_;
#line 243 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_debug ("LibraryWindow.vala:243: on_library_monitor_installed: %s", _tmp4_);
#line 243 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_free0 (_tmp4_);
#line 243 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp2_);
#line 245 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = monitor;
#line 245 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, TYPE_DIRECTORY_MONITOR, DirectoryMonitor), "discovery-started", (GCallback) _library_window_on_library_monitor_discovery_started_directory_monitor_discovery_started, self, 0);
#line 246 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = monitor;
#line 246 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, TYPE_DIRECTORY_MONITOR, DirectoryMonitor), "discovery-completed", (GCallback) _library_window_on_library_monitor_discovery_completed_directory_monitor_discovery_completed, self, 0);
#line 247 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = monitor;
#line 247 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, TYPE_DIRECTORY_MONITOR, DirectoryMonitor), "closed", (GCallback) _library_window_on_library_monitor_discovery_completed_directory_monitor_closed, self, 0);
#line 248 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = monitor;
#line 248 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (_tmp8_, "auto-update-progress", (GCallback) _library_window_on_library_monitor_auto_update_progress_library_monitor_auto_update_progress, self, 0);
#line 249 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = monitor;
#line 249 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (_tmp9_, "auto-import-preparing", (GCallback) _library_window_on_library_monitor_auto_import_preparing_library_monitor_auto_import_preparing, self, 0);
#line 250 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp10_ = monitor;
#line 250 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (_tmp10_, "auto-import-progress", (GCallback) _library_window_on_library_monitor_auto_import_progress_library_monitor_auto_import_progress, self, 0);
#line 2395 "LibraryWindow.c"
}


static void library_window_on_library_monitor_destroyed (LibraryWindow* self, LibraryMonitor* monitor) {
	LibraryMonitor* _tmp0_ = NULL;
	GFile* _tmp1_ = NULL;
	GFile* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	LibraryMonitor* _tmp5_ = NULL;
	guint _tmp6_ = 0U;
	LibraryMonitor* _tmp7_ = NULL;
	guint _tmp8_ = 0U;
	LibraryMonitor* _tmp9_ = NULL;
	guint _tmp10_ = 0U;
	LibraryMonitor* _tmp11_ = NULL;
	guint _tmp12_ = 0U;
	LibraryMonitor* _tmp13_ = NULL;
	guint _tmp14_ = 0U;
	LibraryMonitor* _tmp15_ = NULL;
	guint _tmp16_ = 0U;
#line 253 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 253 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_MONITOR (monitor));
#line 254 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = monitor;
#line 254 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = directory_monitor_get_root (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, TYPE_DIRECTORY_MONITOR, DirectoryMonitor));
#line 254 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _tmp1_;
#line 254 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = g_file_get_path (_tmp2_);
#line 254 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = _tmp3_;
#line 254 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_debug ("LibraryWindow.vala:254: on_library_monitor_destroyed: %s", _tmp4_);
#line 254 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_free0 (_tmp4_);
#line 254 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp2_);
#line 256 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = monitor;
#line 256 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("discovery-started", TYPE_DIRECTORY_MONITOR, &_tmp6_, NULL, FALSE);
#line 256 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, TYPE_DIRECTORY_MONITOR, DirectoryMonitor), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp6_, 0, NULL, (GCallback) _library_window_on_library_monitor_discovery_started_directory_monitor_discovery_started, self);
#line 257 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = monitor;
#line 257 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("discovery-completed", TYPE_DIRECTORY_MONITOR, &_tmp8_, NULL, FALSE);
#line 257 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, TYPE_DIRECTORY_MONITOR, DirectoryMonitor), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp8_, 0, NULL, (GCallback) _library_window_on_library_monitor_discovery_completed_directory_monitor_discovery_completed, self);
#line 258 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = monitor;
#line 258 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("closed", TYPE_DIRECTORY_MONITOR, &_tmp10_, NULL, FALSE);
#line 258 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, TYPE_DIRECTORY_MONITOR, DirectoryMonitor), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp10_, 0, NULL, (GCallback) _library_window_on_library_monitor_discovery_completed_directory_monitor_closed, self);
#line 259 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = monitor;
#line 259 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("auto-update-progress", TYPE_LIBRARY_MONITOR, &_tmp12_, NULL, FALSE);
#line 259 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (_tmp11_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp12_, 0, NULL, (GCallback) _library_window_on_library_monitor_auto_update_progress_library_monitor_auto_update_progress, self);
#line 260 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp13_ = monitor;
#line 260 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("auto-import-preparing", TYPE_LIBRARY_MONITOR, &_tmp14_, NULL, FALSE);
#line 260 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (_tmp13_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp14_, 0, NULL, (GCallback) _library_window_on_library_monitor_auto_import_preparing_library_monitor_auto_import_preparing, self);
#line 261 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp15_ = monitor;
#line 261 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("auto-import-progress", TYPE_LIBRARY_MONITOR, &_tmp16_, NULL, FALSE);
#line 261 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (_tmp15_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp16_, 0, NULL, (GCallback) _library_window_on_library_monitor_auto_import_progress_library_monitor_auto_import_progress, self);
#line 2473 "LibraryWindow.c"
}


static void library_window_real_add_actions (AppWindow* base) {
	LibraryWindow * self;
	SearchFilterActions* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	GActionEntry* _tmp2_ = NULL;
	SearchFilterActions* _tmp3_ = NULL;
#line 290 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_LIBRARY_WINDOW, LibraryWindow);
#line 291 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	APP_WINDOW_CLASS (library_window_parent_class)->add_actions (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow));
#line 292 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_action_map_add_action_entries (G_TYPE_CHECK_INSTANCE_CAST (self, g_action_map_get_type (), GActionMap), LIBRARY_WINDOW_common_actions, G_N_ELEMENTS (LIBRARY_WINDOW_common_actions), self);
#line 293 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->search_actions;
#line 293 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = search_filter_actions_get_actions (_tmp0_, &_tmp1_);
#line 293 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = self->priv->search_actions;
#line 293 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_action_map_add_action_entries (G_TYPE_CHECK_INSTANCE_CAST (self, g_action_map_get_type (), GActionMap), _tmp2_, _tmp1_, _tmp3_);
#line 2497 "LibraryWindow.c"
}


static void _library_window_on_view_filter_installed_view_collection_view_filter_installed (ViewCollection* _sender, ViewFilter* filer, gpointer self) {
#line 301 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_view_filter_installed ((LibraryWindow*) self, filer);
#line 2504 "LibraryWindow.c"
}


static void _library_window_on_view_filter_removed_view_collection_view_filter_removed (ViewCollection* _sender, ViewFilter* filer, gpointer self) {
#line 302 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_view_filter_removed ((LibraryWindow*) self, filer);
#line 2511 "LibraryWindow.c"
}


static void library_window_real_switched_pages (PageWindow* base, Page* old_page, Page* new_page) {
	LibraryWindow * self;
	Page* _tmp0_ = NULL;
	Page* _tmp1_ = NULL;
	Page* _tmp2_ = NULL;
	Page* _tmp11_ = NULL;
	SearchFilterActions* _tmp18_ = NULL;
	Page* _tmp19_ = NULL;
	Page* _tmp20_ = NULL;
#line 296 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_LIBRARY_WINDOW, LibraryWindow);
#line 296 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail ((old_page == NULL) || IS_PAGE (old_page));
#line 296 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail ((new_page == NULL) || IS_PAGE (new_page));
#line 297 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = old_page;
#line 297 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = new_page;
#line 297 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	PAGE_WINDOW_CLASS (library_window_parent_class)->switched_pages (G_TYPE_CHECK_INSTANCE_CAST (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), TYPE_PAGE_WINDOW, PageWindow), _tmp0_, _tmp1_);
#line 300 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = old_page;
#line 300 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp2_ != NULL) {
#line 2540 "LibraryWindow.c"
		Page* _tmp3_ = NULL;
		ViewCollection* _tmp4_ = NULL;
		ViewCollection* _tmp5_ = NULL;
		guint _tmp6_ = 0U;
		Page* _tmp7_ = NULL;
		ViewCollection* _tmp8_ = NULL;
		ViewCollection* _tmp9_ = NULL;
		guint _tmp10_ = 0U;
#line 301 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = old_page;
#line 301 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = page_get_view (_tmp3_);
#line 301 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = _tmp4_;
#line 301 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_signal_parse_name ("view-filter-installed", TYPE_VIEW_COLLECTION, &_tmp6_, NULL, FALSE);
#line 301 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_signal_handlers_disconnect_matched (_tmp5_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp6_, 0, NULL, (GCallback) _library_window_on_view_filter_installed_view_collection_view_filter_installed, self);
#line 301 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_data_collection_unref0 (_tmp5_);
#line 302 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = old_page;
#line 302 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = page_get_view (_tmp7_);
#line 302 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = _tmp8_;
#line 302 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_signal_parse_name ("view-filter-removed", TYPE_VIEW_COLLECTION, &_tmp10_, NULL, FALSE);
#line 302 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_signal_handlers_disconnect_matched (_tmp9_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp10_, 0, NULL, (GCallback) _library_window_on_view_filter_removed_view_collection_view_filter_removed, self);
#line 302 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_data_collection_unref0 (_tmp9_);
#line 2573 "LibraryWindow.c"
	}
#line 305 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = new_page;
#line 305 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp11_ != NULL) {
#line 2579 "LibraryWindow.c"
		Page* _tmp12_ = NULL;
		ViewCollection* _tmp13_ = NULL;
		ViewCollection* _tmp14_ = NULL;
		Page* _tmp15_ = NULL;
		ViewCollection* _tmp16_ = NULL;
		ViewCollection* _tmp17_ = NULL;
#line 306 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp12_ = new_page;
#line 306 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp13_ = page_get_view (_tmp12_);
#line 306 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp14_ = _tmp13_;
#line 306 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_signal_connect_object (_tmp14_, "view-filter-installed", (GCallback) _library_window_on_view_filter_installed_view_collection_view_filter_installed, self, 0);
#line 306 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_data_collection_unref0 (_tmp14_);
#line 307 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp15_ = new_page;
#line 307 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp16_ = page_get_view (_tmp15_);
#line 307 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp17_ = _tmp16_;
#line 307 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_signal_connect_object (_tmp17_, "view-filter-removed", (GCallback) _library_window_on_view_filter_removed_view_collection_view_filter_removed, self, 0);
#line 307 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_data_collection_unref0 (_tmp17_);
#line 2606 "LibraryWindow.c"
	}
#line 310 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp18_ = self->priv->search_actions;
#line 310 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp19_ = old_page;
#line 310 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp20_ = new_page;
#line 310 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	search_filter_actions_monitor_page_contents (_tmp18_, _tmp19_, _tmp20_);
#line 2616 "LibraryWindow.c"
}


static void _library_window_on_view_filter_refreshed_view_filter_refresh (ViewFilter* _sender, gpointer self) {
#line 314 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_view_filter_refreshed ((LibraryWindow*) self);
#line 2623 "LibraryWindow.c"
}


static void library_window_on_view_filter_installed (LibraryWindow* self, ViewFilter* filter) {
	ViewFilter* _tmp0_ = NULL;
#line 313 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 313 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_VIEW_FILTER (filter));
#line 314 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = filter;
#line 314 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (_tmp0_, "refresh", (GCallback) _library_window_on_view_filter_refreshed_view_filter_refresh, self, 0);
#line 2637 "LibraryWindow.c"
}


static void library_window_on_view_filter_removed (LibraryWindow* self, ViewFilter* filter) {
	ViewFilter* _tmp0_ = NULL;
	guint _tmp1_ = 0U;
#line 317 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 317 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_VIEW_FILTER (filter));
#line 318 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = filter;
#line 318 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("refresh", TYPE_VIEW_FILTER, &_tmp1_, NULL, FALSE);
#line 318 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (_tmp0_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp1_, 0, NULL, (GCallback) _library_window_on_view_filter_refreshed_view_filter_refresh, self);
#line 2654 "LibraryWindow.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 328 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return self ? g_object_ref (self) : NULL;
#line 2661 "LibraryWindow.c"
}


static GVariant* _variant_new1 (gboolean value) {
#line 331 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return g_variant_ref_sink (g_variant_new_boolean (value));
#line 2668 "LibraryWindow.c"
}


static void library_window_on_view_filter_refreshed (LibraryWindow* self) {
	Page* _tmp0_ = NULL;
	Page* _tmp1_ = NULL;
	ViewCollection* _tmp2_ = NULL;
	ViewCollection* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
	GAction* action = NULL;
	GAction* _tmp6_ = NULL;
	GAction* _tmp7_ = NULL;
	GAction* _tmp8_ = NULL;
#line 321 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 324 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 324 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _tmp0_;
#line 324 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = page_get_view (_tmp1_);
#line 324 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _tmp2_;
#line 324 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = view_collection_are_items_filtered_out (_tmp3_);
#line 324 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = !_tmp4_;
#line 324 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_data_collection_unref0 (_tmp3_);
#line 324 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp1_);
#line 324 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp5_) {
#line 325 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 2705 "LibraryWindow.c"
	}
#line 328 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = g_action_map_lookup_action (G_TYPE_CHECK_INSTANCE_CAST (self, g_action_map_get_type (), GActionMap), "CommonDisplaySearchbar");
#line 328 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = _g_object_ref0 (_tmp6_);
#line 328 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	action = _tmp7_;
#line 330 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = action;
#line 330 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp8_ != NULL) {
#line 2717 "LibraryWindow.c"
		GAction* _tmp9_ = NULL;
		GVariant* _tmp10_ = NULL;
#line 331 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = action;
#line 331 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = _variant_new1 (TRUE);
#line 331 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_action_change_state (_tmp9_, _tmp10_);
#line 331 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_variant_unref0 (_tmp10_);
#line 2728 "LibraryWindow.c"
	}
#line 321 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (action);
#line 2732 "LibraryWindow.c"
}


static void library_window_real_show_all (GtkWidget* base) {
	LibraryWindow * self;
	GAction* basic_properties_action = NULL;
	Page* _tmp0_ = NULL;
	Page* _tmp1_ = NULL;
	GAction* _tmp2_ = NULL;
	GAction* _tmp3_ = NULL;
	GAction* _tmp4_ = NULL;
	GAction* _tmp5_ = NULL;
	GVariant* _tmp6_ = NULL;
	GVariant* _tmp7_ = NULL;
	gboolean _tmp8_ = FALSE;
	gboolean _tmp9_ = FALSE;
	CheckerboardPage* current_page = NULL;
	Page* _tmp11_ = NULL;
	CheckerboardPage* _tmp12_ = NULL;
	CheckerboardPage* _tmp13_ = NULL;
	gboolean _tmp15_ = FALSE;
	CheckerboardPage* _tmp16_ = NULL;
	gboolean _tmp17_ = FALSE;
#line 335 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_LIBRARY_WINDOW, LibraryWindow);
#line 336 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	GTK_WIDGET_CLASS (library_window_parent_class)->show_all (G_TYPE_CHECK_INSTANCE_CAST (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), gtk_widget_get_type (), GtkWidget));
#line 338 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 338 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _tmp0_;
#line 338 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = page_get_common_action (_tmp1_, "CommonDisplayBasicProperties", TRUE);
#line 338 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _tmp2_;
#line 338 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp1_);
#line 338 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	basic_properties_action = _tmp3_;
#line 340 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = basic_properties_action;
#line 340 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_vala_assert (_tmp4_ != NULL, "basic_properties_action != null");
#line 342 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = basic_properties_action;
#line 342 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = g_action_get_state (_tmp5_);
#line 342 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = _tmp6_;
#line 342 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = g_variant_get_boolean (_tmp7_);
#line 342 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = !_tmp8_;
#line 342 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_variant_unref0 (_tmp7_);
#line 342 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp9_) {
#line 2790 "LibraryWindow.c"
		GtkFrame* _tmp10_ = NULL;
#line 343 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = self->priv->bottom_frame;
#line 343 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gtk_widget_hide (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, gtk_widget_get_type (), GtkWidget));
#line 2796 "LibraryWindow.c"
	}
#line 346 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 346 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp11_, TYPE_CHECKERBOARD_PAGE) ? ((CheckerboardPage*) _tmp11_) : NULL;
#line 346 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp12_ == NULL) {
#line 346 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp11_);
#line 2806 "LibraryWindow.c"
	}
#line 346 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	current_page = _tmp12_;
#line 347 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp13_ = current_page;
#line 347 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp13_ != NULL) {
#line 2814 "LibraryWindow.c"
		CheckerboardPage* _tmp14_ = NULL;
#line 348 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp14_ = current_page;
#line 348 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_init_view_filter (self, _tmp14_);
#line 2820 "LibraryWindow.c"
	}
#line 350 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp15_ = library_window_should_show_search_bar (self);
#line 350 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp16_ = current_page;
#line 350 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_toggle_search_bar (self, _tmp15_, _tmp16_);
#line 353 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp17_ = library_window_is_sidebar_visible (self);
#line 353 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_set_sidebar_visible (self, _tmp17_);
#line 335 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (current_page);
#line 335 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (basic_properties_action);
#line 2836 "LibraryWindow.c"
}


LibraryWindow* library_window_get_app (void) {
	LibraryWindow* result = NULL;
	AppWindow* _tmp0_ = NULL;
	AppWindow* _tmp1_ = NULL;
	LibraryWindow* _tmp2_ = NULL;
#line 357 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = app_window_instance;
#line 357 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_vala_assert (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, TYPE_LIBRARY_WINDOW), "instance is LibraryWindow");
#line 359 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = app_window_instance;
#line 359 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, TYPE_LIBRARY_WINDOW, LibraryWindow));
#line 359 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	result = _tmp2_;
#line 359 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 2857 "LibraryWindow.c"
}


gboolean library_window_is_mount_uri_supported (const gchar* uri) {
	gboolean result = FALSE;
#line 363 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (uri != NULL, FALSE);
#line 2865 "LibraryWindow.c"
	{
		const gchar** scheme_collection = NULL;
		gint scheme_collection_length1 = 0;
		gint _scheme_collection_size_ = 0;
		gint scheme_it = 0;
#line 364 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		scheme_collection = LIBRARY_WINDOW_SUPPORTED_MOUNT_SCHEMES;
#line 364 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		scheme_collection_length1 = G_N_ELEMENTS (LIBRARY_WINDOW_SUPPORTED_MOUNT_SCHEMES);
#line 364 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		for (scheme_it = 0; scheme_it < G_N_ELEMENTS (LIBRARY_WINDOW_SUPPORTED_MOUNT_SCHEMES); scheme_it = scheme_it + 1) {
#line 2877 "LibraryWindow.c"
			gchar* _tmp0_ = NULL;
			gchar* scheme = NULL;
#line 364 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp0_ = g_strdup (scheme_collection[scheme_it]);
#line 364 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			scheme = _tmp0_;
#line 2884 "LibraryWindow.c"
			{
				const gchar* _tmp1_ = NULL;
				const gchar* _tmp2_ = NULL;
				gboolean _tmp3_ = FALSE;
#line 365 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp1_ = uri;
#line 365 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp2_ = scheme;
#line 365 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp3_ = g_str_has_prefix (_tmp1_, _tmp2_);
#line 365 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				if (_tmp3_) {
#line 366 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					result = TRUE;
#line 366 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					_g_free0 (scheme);
#line 366 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					return result;
#line 2903 "LibraryWindow.c"
				}
#line 364 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_free0 (scheme);
#line 2907 "LibraryWindow.c"
			}
		}
	}
#line 369 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	result = FALSE;
#line 369 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 2915 "LibraryWindow.c"
}


static gchar* library_window_real_get_app_role (AppWindow* base) {
	LibraryWindow * self;
	gchar* result = NULL;
	gchar* _tmp0_ = NULL;
#line 372 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_LIBRARY_WINDOW, LibraryWindow);
#line 373 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = g_strdup (RESOURCES_APP_LIBRARY_ROLE);
#line 373 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	result = _tmp0_;
#line 373 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 2931 "LibraryWindow.c"
}


void library_window_rename_tag_in_sidebar (LibraryWindow* self, Tag* tag) {
	TagsSidebarEntry* entry = NULL;
	TagsBranch* _tmp0_ = NULL;
	Tag* _tmp1_ = NULL;
	TagsSidebarEntry* _tmp2_ = NULL;
	TagsSidebarEntry* _tmp3_ = NULL;
#line 376 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 376 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_TAG (tag));
#line 377 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->tags_branch;
#line 377 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = tag;
#line 377 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = tags_branch_get_entry_for_tag (_tmp0_, _tmp1_);
#line 377 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	entry = _tmp2_;
#line 378 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = entry;
#line 378 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp3_ != NULL) {
#line 2957 "LibraryWindow.c"
		SidebarTree* _tmp4_ = NULL;
		TagsSidebarEntry* _tmp5_ = NULL;
#line 379 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = self->priv->sidebar_tree;
#line 379 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = entry;
#line 379 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		sidebar_tree_rename_entry_in_place (_tmp4_, G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, SIDEBAR_TYPE_ENTRY, SidebarEntry));
#line 2966 "LibraryWindow.c"
	} else {
#line 381 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_debug ("LibraryWindow.vala:381: No tag entry found for rename");
#line 2970 "LibraryWindow.c"
	}
#line 376 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (entry);
#line 2974 "LibraryWindow.c"
}


void library_window_rename_event_in_sidebar (LibraryWindow* self, Event* event) {
	EventsEventEntry* entry = NULL;
	EventsBranch* _tmp0_ = NULL;
	Event* _tmp1_ = NULL;
	EventsEventEntry* _tmp2_ = NULL;
	EventsEventEntry* _tmp3_ = NULL;
#line 384 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 384 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_EVENT (event));
#line 385 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->events_branch;
#line 385 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = event;
#line 385 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = events_branch_get_entry_for_event (_tmp0_, _tmp1_);
#line 385 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	entry = _tmp2_;
#line 386 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = entry;
#line 386 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp3_ != NULL) {
#line 3000 "LibraryWindow.c"
		SidebarTree* _tmp4_ = NULL;
		EventsEventEntry* _tmp5_ = NULL;
#line 387 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = self->priv->sidebar_tree;
#line 387 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = entry;
#line 387 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		sidebar_tree_rename_entry_in_place (_tmp4_, G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, SIDEBAR_TYPE_ENTRY, SidebarEntry));
#line 3009 "LibraryWindow.c"
	} else {
#line 389 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_debug ("LibraryWindow.vala:389: No event entry found for rename");
#line 3013 "LibraryWindow.c"
	}
#line 384 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (entry);
#line 3017 "LibraryWindow.c"
}


void library_window_rename_search_in_sidebar (LibraryWindow* self, SavedSearch* search) {
	SearchesSidebarEntry* entry = NULL;
	SearchesBranch* _tmp0_ = NULL;
	SavedSearch* _tmp1_ = NULL;
	SearchesSidebarEntry* _tmp2_ = NULL;
	SearchesSidebarEntry* _tmp3_ = NULL;
#line 392 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 392 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_SAVED_SEARCH (search));
#line 393 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->saved_search_branch;
#line 393 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = search;
#line 393 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = searches_branch_get_entry_for_saved_search (_tmp0_, _tmp1_);
#line 393 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	entry = _tmp2_;
#line 394 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = entry;
#line 394 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp3_ != NULL) {
#line 3043 "LibraryWindow.c"
		SidebarTree* _tmp4_ = NULL;
		SearchesSidebarEntry* _tmp5_ = NULL;
#line 395 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = self->priv->sidebar_tree;
#line 395 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = entry;
#line 395 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		sidebar_tree_rename_entry_in_place (_tmp4_, G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, SIDEBAR_TYPE_ENTRY, SidebarEntry));
#line 3052 "LibraryWindow.c"
	} else {
#line 397 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_debug ("LibraryWindow.vala:397: No search entry found for rename");
#line 3056 "LibraryWindow.c"
	}
#line 392 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (entry);
#line 3060 "LibraryWindow.c"
}


static void library_window_real_on_quit (AppWindow* base) {
	LibraryWindow * self;
	ConfigFacade* _tmp0_ = NULL;
	ConfigFacade* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	Dimensions _tmp3_ = {0};
	ConfigFacade* _tmp4_ = NULL;
	ConfigFacade* _tmp5_ = NULL;
	GtkPaned* _tmp6_ = NULL;
	gint _tmp7_ = 0;
	gint _tmp8_ = 0;
#line 400 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_LIBRARY_WINDOW, LibraryWindow);
#line 401 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = config_facade_get_instance ();
#line 401 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _tmp0_;
#line 401 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow)->maximized;
#line 401 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow)->dimensions;
#line 401 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	configuration_facade_set_library_window_state (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade), _tmp2_, &_tmp3_);
#line 401 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp1_);
#line 403 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = config_facade_get_instance ();
#line 403 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = _tmp4_;
#line 403 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = self->priv->client_paned;
#line 403 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = gtk_paned_get_position (_tmp6_);
#line 403 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = _tmp7_;
#line 403 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	configuration_facade_set_sidebar_position (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade), _tmp8_);
#line 403 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp5_);
#line 405 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	APP_WINDOW_CLASS (library_window_parent_class)->on_quit (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow));
#line 3105 "LibraryWindow.c"
}


static Photo* library_window_get_start_fullscreen_photo (LibraryWindow* self, CollectionPage* page) {
	Photo* result = NULL;
	ViewCollection* view = NULL;
	CollectionPage* _tmp0_ = NULL;
	ViewCollection* _tmp1_ = NULL;
	GeeList* _tmp2_ = NULL;
	ViewCollection* _tmp3_ = NULL;
	gint _tmp4_ = 0;
	GeeList* sources = NULL;
	GeeList* _tmp9_ = NULL;
	Photo* _tmp10_ = NULL;
	gboolean _tmp11_ = FALSE;
	GeeList* _tmp12_ = NULL;
#line 408 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (IS_LIBRARY_WINDOW (self), NULL);
#line 408 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (IS_COLLECTION_PAGE (page), NULL);
#line 409 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page;
#line 409 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = page_get_view (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, TYPE_PAGE, Page));
#line 409 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	view = _tmp1_;
#line 413 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = view;
#line 413 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = view_collection_get_selected_count (_tmp3_);
#line 413 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp4_ > 0) {
#line 3138 "LibraryWindow.c"
		ViewCollection* _tmp5_ = NULL;
		GeeList* _tmp6_ = NULL;
#line 414 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = view;
#line 414 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = view_collection_get_selected_sources_of_type (_tmp5_, TYPE_LIBRARY_PHOTO);
#line 414 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp2_);
#line 414 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp2_ = _tmp6_;
#line 3149 "LibraryWindow.c"
	} else {
		ViewCollection* _tmp7_ = NULL;
		GeeList* _tmp8_ = NULL;
#line 415 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = view;
#line 415 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = view_collection_get_sources_of_type (_tmp7_, TYPE_LIBRARY_PHOTO);
#line 415 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp2_);
#line 415 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp2_ = _tmp8_;
#line 3161 "LibraryWindow.c"
	}
#line 413 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = _g_object_ref0 (_tmp2_);
#line 413 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	sources = _tmp9_;
#line 417 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = sources;
#line 417 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp12_ != NULL) {
#line 3171 "LibraryWindow.c"
		GeeList* _tmp13_ = NULL;
		gint _tmp14_ = 0;
		gint _tmp15_ = 0;
#line 417 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp13_ = sources;
#line 417 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp14_ = gee_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, GEE_TYPE_COLLECTION, GeeCollection));
#line 417 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp15_ = _tmp14_;
#line 417 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp11_ = _tmp15_ != 0;
#line 3183 "LibraryWindow.c"
	} else {
#line 417 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp11_ = FALSE;
#line 3187 "LibraryWindow.c"
	}
#line 417 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp11_) {
#line 3191 "LibraryWindow.c"
		GeeList* _tmp16_ = NULL;
		gpointer _tmp17_ = NULL;
#line 418 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp16_ = sources;
#line 418 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp17_ = gee_list_get (_tmp16_, 0);
#line 418 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp10_);
#line 418 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = G_TYPE_CHECK_INSTANCE_CAST ((DataSource*) _tmp17_, TYPE_PHOTO, Photo);
#line 3202 "LibraryWindow.c"
	} else {
#line 418 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp10_);
#line 418 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = NULL;
#line 3208 "LibraryWindow.c"
	}
#line 417 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	result = _tmp10_;
#line 417 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (sources);
#line 417 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp2_);
#line 417 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_data_collection_unref0 (view);
#line 417 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 3220 "LibraryWindow.c"
}


static gboolean library_window_get_fullscreen_photo (LibraryWindow* self, Page* page, CollectionPage** collection, Photo** start, ViewCollection** view_collection) {
	CollectionPage* _vala_collection = NULL;
	Photo* _vala_start = NULL;
	ViewCollection* _vala_view_collection = NULL;
	gboolean result = FALSE;
	Page* _tmp0_ = NULL;
	Page* _tmp8_ = NULL;
	Page* _tmp30_ = NULL;
#line 421 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (IS_LIBRARY_WINDOW (self), FALSE);
#line 421 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (IS_PAGE (page), FALSE);
#line 423 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_vala_collection);
#line 423 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_vala_collection = NULL;
#line 424 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_vala_start);
#line 424 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_vala_start = NULL;
#line 425 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_data_collection_unref0 (_vala_view_collection);
#line 425 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_vala_view_collection = NULL;
#line 428 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page;
#line 428 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, TYPE_COLLECTION_PAGE)) {
#line 3252 "LibraryWindow.c"
		Page* _tmp1_ = NULL;
		CollectionPage* _tmp2_ = NULL;
		Photo* photo = NULL;
		CollectionPage* _tmp3_ = NULL;
		Photo* _tmp4_ = NULL;
		Photo* _tmp5_ = NULL;
		Photo* _tmp6_ = NULL;
		Photo* _tmp7_ = NULL;
#line 429 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp1_ = page;
#line 429 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp2_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, TYPE_COLLECTION_PAGE, CollectionPage));
#line 429 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_vala_collection);
#line 429 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_vala_collection = _tmp2_;
#line 430 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = _vala_collection;
#line 430 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = library_window_get_start_fullscreen_photo (self, _tmp3_);
#line 430 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		photo = _tmp4_;
#line 431 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = photo;
#line 431 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp5_ == NULL) {
#line 432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			result = FALSE;
#line 432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (photo);
#line 432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (collection) {
#line 432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*collection = _vala_collection;
#line 3287 "LibraryWindow.c"
			} else {
#line 432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_vala_collection);
#line 3291 "LibraryWindow.c"
			}
#line 432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (start) {
#line 432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*start = _vala_start;
#line 3297 "LibraryWindow.c"
			} else {
#line 432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_vala_start);
#line 3301 "LibraryWindow.c"
			}
#line 432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (view_collection) {
#line 432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*view_collection = _vala_view_collection;
#line 3307 "LibraryWindow.c"
			} else {
#line 432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_data_collection_unref0 (_vala_view_collection);
#line 3311 "LibraryWindow.c"
			}
#line 432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			return result;
#line 3315 "LibraryWindow.c"
		}
#line 434 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = photo;
#line 434 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = _g_object_ref0 (_tmp6_);
#line 434 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_vala_start);
#line 434 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_vala_start = _tmp7_;
#line 435 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_data_collection_unref0 (_vala_view_collection);
#line 435 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_vala_view_collection = NULL;
#line 437 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		result = TRUE;
#line 437 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (photo);
#line 437 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (collection) {
#line 437 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			*collection = _vala_collection;
#line 3337 "LibraryWindow.c"
		} else {
#line 437 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (_vala_collection);
#line 3341 "LibraryWindow.c"
		}
#line 437 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (start) {
#line 437 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			*start = _vala_start;
#line 3347 "LibraryWindow.c"
		} else {
#line 437 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (_vala_start);
#line 3351 "LibraryWindow.c"
		}
#line 437 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (view_collection) {
#line 437 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			*view_collection = _vala_view_collection;
#line 3357 "LibraryWindow.c"
		} else {
#line 437 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_data_collection_unref0 (_vala_view_collection);
#line 3361 "LibraryWindow.c"
		}
#line 437 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return result;
#line 3365 "LibraryWindow.c"
	}
#line 440 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = page;
#line 440 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp8_, TYPE_EVENTS_DIRECTORY_PAGE)) {
#line 3371 "LibraryWindow.c"
		ViewCollection* view = NULL;
		Page* _tmp9_ = NULL;
		ViewCollection* _tmp10_ = NULL;
		ViewCollection* _tmp11_ = NULL;
		gint _tmp12_ = 0;
		Event* event = NULL;
		ViewCollection* _tmp13_ = NULL;
		DataObject* _tmp14_ = NULL;
		DataView* _tmp15_ = NULL;
		DataSource* _tmp16_ = NULL;
		Event* _tmp17_ = NULL;
		Event* _tmp18_ = NULL;
		EventsEventEntry* entry = NULL;
		EventsBranch* _tmp19_ = NULL;
		Event* _tmp20_ = NULL;
		EventsEventEntry* _tmp21_ = NULL;
		EventsEventEntry* _tmp22_ = NULL;
		EventsEventEntry* _tmp23_ = NULL;
		Page* _tmp24_ = NULL;
		Photo* photo = NULL;
		CollectionPage* _tmp25_ = NULL;
		Photo* _tmp26_ = NULL;
		Photo* _tmp27_ = NULL;
		Photo* _tmp28_ = NULL;
		Photo* _tmp29_ = NULL;
#line 441 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = page;
#line 441 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = page_get_view (_tmp9_);
#line 441 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		view = _tmp10_;
#line 442 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp11_ = view;
#line 442 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp12_ = data_collection_get_count (G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, TYPE_DATA_COLLECTION, DataCollection));
#line 442 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp12_ == 0) {
#line 443 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			result = FALSE;
#line 443 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_data_collection_unref0 (view);
#line 443 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (collection) {
#line 443 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*collection = _vala_collection;
#line 3417 "LibraryWindow.c"
			} else {
#line 443 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_vala_collection);
#line 3421 "LibraryWindow.c"
			}
#line 443 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (start) {
#line 443 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*start = _vala_start;
#line 3427 "LibraryWindow.c"
			} else {
#line 443 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_vala_start);
#line 3431 "LibraryWindow.c"
			}
#line 443 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (view_collection) {
#line 443 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*view_collection = _vala_view_collection;
#line 3437 "LibraryWindow.c"
			} else {
#line 443 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_data_collection_unref0 (_vala_view_collection);
#line 3441 "LibraryWindow.c"
			}
#line 443 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			return result;
#line 3445 "LibraryWindow.c"
		}
#line 445 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp13_ = view;
#line 445 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp14_ = data_collection_get_at (G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, TYPE_DATA_COLLECTION, DataCollection), 0);
#line 445 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp15_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, TYPE_DATA_VIEW, DataView);
#line 445 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp16_ = data_view_get_source (_tmp15_);
#line 445 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp17_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp16_, TYPE_EVENT, Event);
#line 445 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp15_);
#line 445 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		event = _tmp17_;
#line 446 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp18_ = event;
#line 446 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp18_ == NULL) {
#line 447 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			result = FALSE;
#line 447 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (event);
#line 447 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_data_collection_unref0 (view);
#line 447 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (collection) {
#line 447 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*collection = _vala_collection;
#line 3475 "LibraryWindow.c"
			} else {
#line 447 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_vala_collection);
#line 3479 "LibraryWindow.c"
			}
#line 447 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (start) {
#line 447 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*start = _vala_start;
#line 3485 "LibraryWindow.c"
			} else {
#line 447 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_vala_start);
#line 3489 "LibraryWindow.c"
			}
#line 447 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (view_collection) {
#line 447 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*view_collection = _vala_view_collection;
#line 3495 "LibraryWindow.c"
			} else {
#line 447 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_data_collection_unref0 (_vala_view_collection);
#line 3499 "LibraryWindow.c"
			}
#line 447 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			return result;
#line 3503 "LibraryWindow.c"
		}
#line 449 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp19_ = self->priv->events_branch;
#line 449 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp20_ = event;
#line 449 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp21_ = events_branch_get_entry_for_event (_tmp19_, _tmp20_);
#line 449 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		entry = _tmp21_;
#line 450 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp22_ = entry;
#line 450 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp22_ == NULL) {
#line 451 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			result = FALSE;
#line 451 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (entry);
#line 451 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (event);
#line 451 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_data_collection_unref0 (view);
#line 451 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (collection) {
#line 451 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*collection = _vala_collection;
#line 3529 "LibraryWindow.c"
			} else {
#line 451 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_vala_collection);
#line 3533 "LibraryWindow.c"
			}
#line 451 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (start) {
#line 451 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*start = _vala_start;
#line 3539 "LibraryWindow.c"
			} else {
#line 451 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_vala_start);
#line 3543 "LibraryWindow.c"
			}
#line 451 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (view_collection) {
#line 451 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*view_collection = _vala_view_collection;
#line 3549 "LibraryWindow.c"
			} else {
#line 451 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_data_collection_unref0 (_vala_view_collection);
#line 3553 "LibraryWindow.c"
			}
#line 451 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			return result;
#line 3557 "LibraryWindow.c"
		}
#line 453 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp23_ = entry;
#line 453 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp24_ = sidebar_page_representative_get_page (G_TYPE_CHECK_INSTANCE_CAST (_tmp23_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative));
#line 453 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_vala_collection);
#line 453 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_vala_collection = G_TYPE_CHECK_INSTANCE_CAST (G_TYPE_CHECK_INSTANCE_CAST (_tmp24_, TYPE_EVENT_PAGE, EventPage), TYPE_COLLECTION_PAGE, CollectionPage);
#line 454 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp25_ = _vala_collection;
#line 454 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp26_ = library_window_get_start_fullscreen_photo (self, _tmp25_);
#line 454 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		photo = _tmp26_;
#line 455 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp27_ = photo;
#line 455 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp27_ == NULL) {
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			result = FALSE;
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (photo);
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (entry);
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (event);
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_data_collection_unref0 (view);
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (collection) {
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*collection = _vala_collection;
#line 3591 "LibraryWindow.c"
			} else {
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_vala_collection);
#line 3595 "LibraryWindow.c"
			}
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (start) {
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*start = _vala_start;
#line 3601 "LibraryWindow.c"
			} else {
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_vala_start);
#line 3605 "LibraryWindow.c"
			}
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (view_collection) {
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*view_collection = _vala_view_collection;
#line 3611 "LibraryWindow.c"
			} else {
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_data_collection_unref0 (_vala_view_collection);
#line 3615 "LibraryWindow.c"
			}
#line 456 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			return result;
#line 3619 "LibraryWindow.c"
		}
#line 458 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp28_ = photo;
#line 458 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp29_ = _g_object_ref0 (_tmp28_);
#line 458 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_vala_start);
#line 458 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_vala_start = _tmp29_;
#line 459 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_data_collection_unref0 (_vala_view_collection);
#line 459 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_vala_view_collection = NULL;
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		result = TRUE;
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (photo);
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (entry);
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (event);
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_data_collection_unref0 (view);
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (collection) {
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			*collection = _vala_collection;
#line 3647 "LibraryWindow.c"
		} else {
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (_vala_collection);
#line 3651 "LibraryWindow.c"
		}
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (start) {
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			*start = _vala_start;
#line 3657 "LibraryWindow.c"
		} else {
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (_vala_start);
#line 3661 "LibraryWindow.c"
		}
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (view_collection) {
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			*view_collection = _vala_view_collection;
#line 3667 "LibraryWindow.c"
		} else {
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_data_collection_unref0 (_vala_view_collection);
#line 3671 "LibraryWindow.c"
		}
#line 461 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return result;
#line 3675 "LibraryWindow.c"
	}
#line 464 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp30_ = page;
#line 464 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp30_, TYPE_LIBRARY_PHOTO_PAGE)) {
#line 3681 "LibraryWindow.c"
		LibraryPhotoPage* photo_page = NULL;
		Page* _tmp31_ = NULL;
		LibraryPhotoPage* _tmp32_ = NULL;
		CollectionPage* controller = NULL;
		LibraryPhotoPage* _tmp33_ = NULL;
		CollectionPage* _tmp34_ = NULL;
		CollectionPage* _tmp35_ = NULL;
		LibraryPhotoPage* _tmp36_ = NULL;
		gboolean _tmp37_ = FALSE;
		CollectionPage* _tmp38_ = NULL;
		CollectionPage* _tmp39_ = NULL;
		LibraryPhotoPage* _tmp40_ = NULL;
		Photo* _tmp41_ = NULL;
		LibraryPhotoPage* _tmp42_ = NULL;
		ViewCollection* _tmp43_ = NULL;
#line 465 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp31_ = page;
#line 465 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp32_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp31_, TYPE_LIBRARY_PHOTO_PAGE, LibraryPhotoPage));
#line 465 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		photo_page = _tmp32_;
#line 467 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp33_ = photo_page;
#line 467 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp34_ = library_photo_page_get_controller_page (_tmp33_);
#line 467 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		controller = _tmp34_;
#line 468 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp35_ = controller;
#line 468 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp35_ == NULL) {
#line 469 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			result = FALSE;
#line 469 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (controller);
#line 469 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (photo_page);
#line 469 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (collection) {
#line 469 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*collection = _vala_collection;
#line 3723 "LibraryWindow.c"
			} else {
#line 469 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_vala_collection);
#line 3727 "LibraryWindow.c"
			}
#line 469 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (start) {
#line 469 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*start = _vala_start;
#line 3733 "LibraryWindow.c"
			} else {
#line 469 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_vala_start);
#line 3737 "LibraryWindow.c"
			}
#line 469 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (view_collection) {
#line 469 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*view_collection = _vala_view_collection;
#line 3743 "LibraryWindow.c"
			} else {
#line 469 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_data_collection_unref0 (_vala_view_collection);
#line 3747 "LibraryWindow.c"
			}
#line 469 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			return result;
#line 3751 "LibraryWindow.c"
		}
#line 471 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp36_ = photo_page;
#line 471 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp37_ = editing_host_page_has_photo (G_TYPE_CHECK_INSTANCE_CAST (_tmp36_, TYPE_EDITING_HOST_PAGE, EditingHostPage));
#line 471 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (!_tmp37_) {
#line 472 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			result = FALSE;
#line 472 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (controller);
#line 472 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (photo_page);
#line 472 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (collection) {
#line 472 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*collection = _vala_collection;
#line 3769 "LibraryWindow.c"
			} else {
#line 472 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_vala_collection);
#line 3773 "LibraryWindow.c"
			}
#line 472 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (start) {
#line 472 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*start = _vala_start;
#line 3779 "LibraryWindow.c"
			} else {
#line 472 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_vala_start);
#line 3783 "LibraryWindow.c"
			}
#line 472 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (view_collection) {
#line 472 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				*view_collection = _vala_view_collection;
#line 3789 "LibraryWindow.c"
			} else {
#line 472 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_data_collection_unref0 (_vala_view_collection);
#line 3793 "LibraryWindow.c"
			}
#line 472 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			return result;
#line 3797 "LibraryWindow.c"
		}
#line 474 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp38_ = controller;
#line 474 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp39_ = _g_object_ref0 (_tmp38_);
#line 474 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_vala_collection);
#line 474 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_vala_collection = _tmp39_;
#line 475 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp40_ = photo_page;
#line 475 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp41_ = editing_host_page_get_photo (G_TYPE_CHECK_INSTANCE_CAST (_tmp40_, TYPE_EDITING_HOST_PAGE, EditingHostPage));
#line 475 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_vala_start);
#line 475 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_vala_start = _tmp41_;
#line 476 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp42_ = photo_page;
#line 476 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp43_ = page_get_view (G_TYPE_CHECK_INSTANCE_CAST (_tmp42_, TYPE_PAGE, Page));
#line 476 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_data_collection_unref0 (_vala_view_collection);
#line 476 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_vala_view_collection = _tmp43_;
#line 478 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		result = TRUE;
#line 478 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (controller);
#line 478 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (photo_page);
#line 478 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (collection) {
#line 478 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			*collection = _vala_collection;
#line 3833 "LibraryWindow.c"
		} else {
#line 478 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (_vala_collection);
#line 3837 "LibraryWindow.c"
		}
#line 478 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (start) {
#line 478 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			*start = _vala_start;
#line 3843 "LibraryWindow.c"
		} else {
#line 478 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (_vala_start);
#line 3847 "LibraryWindow.c"
		}
#line 478 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (view_collection) {
#line 478 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			*view_collection = _vala_view_collection;
#line 3853 "LibraryWindow.c"
		} else {
#line 478 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_data_collection_unref0 (_vala_view_collection);
#line 3857 "LibraryWindow.c"
		}
#line 478 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return result;
#line 3861 "LibraryWindow.c"
	}
#line 481 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	result = FALSE;
#line 481 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (collection) {
#line 481 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		*collection = _vala_collection;
#line 3869 "LibraryWindow.c"
	} else {
#line 481 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_vala_collection);
#line 3873 "LibraryWindow.c"
	}
#line 481 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (start) {
#line 481 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		*start = _vala_start;
#line 3879 "LibraryWindow.c"
	} else {
#line 481 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_vala_start);
#line 3883 "LibraryWindow.c"
	}
#line 481 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (view_collection) {
#line 481 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		*view_collection = _vala_view_collection;
#line 3889 "LibraryWindow.c"
	} else {
#line 481 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_data_collection_unref0 (_vala_view_collection);
#line 3893 "LibraryWindow.c"
	}
#line 481 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 3897 "LibraryWindow.c"
}


static void library_window_real_on_fullscreen (AppWindow* base) {
	LibraryWindow * self;
	Page* current_page = NULL;
	Page* _tmp0_ = NULL;
	Page* _tmp1_ = NULL;
	CollectionPage* collection = NULL;
	Photo* start = NULL;
	ViewCollection* view = NULL;
	Page* _tmp2_ = NULL;
	CollectionPage* _tmp3_ = NULL;
	Photo* _tmp4_ = NULL;
	ViewCollection* _tmp5_ = NULL;
	gboolean _tmp6_ = FALSE;
	LibraryWindowFullscreenPhotoPage* fs_photo = NULL;
	CollectionPage* _tmp7_ = NULL;
	Photo* _tmp8_ = NULL;
	ViewCollection* _tmp9_ = NULL;
	LibraryWindowFullscreenPhotoPage* _tmp10_ = NULL;
	LibraryWindowFullscreenPhotoPage* _tmp11_ = NULL;
#line 484 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_LIBRARY_WINDOW, LibraryWindow);
#line 485 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 485 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	current_page = _tmp0_;
#line 486 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = current_page;
#line 486 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp1_ == NULL) {
#line 487 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (current_page);
#line 487 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 3934 "LibraryWindow.c"
	}
#line 491 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	view = NULL;
#line 492 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = current_page;
#line 492 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = library_window_get_fullscreen_photo (self, _tmp2_, &_tmp3_, &_tmp4_, &_tmp5_);
#line 492 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (collection);
#line 492 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	collection = _tmp3_;
#line 492 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (start);
#line 492 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	start = _tmp4_;
#line 492 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_data_collection_unref0 (view);
#line 492 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	view = _tmp5_;
#line 492 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (!_tmp6_) {
#line 493 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_data_collection_unref0 (view);
#line 493 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (start);
#line 493 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (collection);
#line 493 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (current_page);
#line 493 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 3966 "LibraryWindow.c"
	}
#line 495 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = collection;
#line 495 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = start;
#line 495 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = view;
#line 495 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp10_ = library_window_fullscreen_photo_page_new (_tmp7_, _tmp8_, _tmp9_);
#line 495 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp10_);
#line 495 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	fs_photo = _tmp10_;
#line 497 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = fs_photo;
#line 497 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	app_window_go_fullscreen (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, TYPE_PAGE, Page));
#line 484 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (fs_photo);
#line 484 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_data_collection_unref0 (view);
#line 484 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (start);
#line 484 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (collection);
#line 484 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (current_page);
#line 3994 "LibraryWindow.c"
}


static void _g_free0_ (gpointer var) {
#line 517 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	var = (g_free (var), NULL);
#line 4001 "LibraryWindow.c"
}


static void _g_slist_free__g_free0_ (GSList* self) {
#line 517 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_slist_foreach (self, (GFunc) _g_free0_, NULL);
#line 517 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_slist_free (self);
#line 4010 "LibraryWindow.c"
}


static void library_window_on_file_import (LibraryWindow* self) {
	GtkFileChooserDialog* import_dialog = NULL;
	const gchar* _tmp0_ = NULL;
	GtkFileChooserDialog* _tmp1_ = NULL;
	GtkFileChooserDialog* _tmp2_ = NULL;
	GtkFileChooserDialog* _tmp3_ = NULL;
	GtkFileChooserDialog* _tmp4_ = NULL;
	const gchar* _tmp5_ = NULL;
	gint response = 0;
	GtkFileChooserDialog* _tmp6_ = NULL;
	gint _tmp7_ = 0;
	gint _tmp8_ = 0;
	GtkFileChooserDialog* _tmp23_ = NULL;
	gchar* _tmp24_ = NULL;
	GtkFileChooserDialog* _tmp25_ = NULL;
#line 500 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 501 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = _ ("Import From Folder");
#line 501 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = (GtkFileChooserDialog*) gtk_file_chooser_dialog_new (_tmp0_, NULL, GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER, RESOURCES_CANCEL_LABEL, GTK_RESPONSE_CANCEL, RESOURCES_OK_LABEL, GTK_RESPONSE_OK, NULL);
#line 501 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp1_);
#line 501 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	import_dialog = _tmp1_;
#line 504 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = import_dialog;
#line 504 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_file_chooser_set_local_only (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GTK_TYPE_FILE_CHOOSER, GtkFileChooser), FALSE);
#line 505 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = import_dialog;
#line 505 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_file_chooser_set_select_multiple (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GTK_TYPE_FILE_CHOOSER, GtkFileChooser), TRUE);
#line 506 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = import_dialog;
#line 506 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = self->priv->import_dir;
#line 506 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_file_chooser_set_current_folder (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, GTK_TYPE_FILE_CHOOSER, GtkFileChooser), _tmp5_);
#line 508 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = import_dialog;
#line 508 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = gtk_dialog_run (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, gtk_dialog_get_type (), GtkDialog));
#line 508 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	response = _tmp7_;
#line 510 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = response;
#line 510 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp8_ == ((gint) GTK_RESPONSE_OK)) {
#line 4063 "LibraryWindow.c"
		GtkResponseType _tmp9_ = 0;
		GtkFileChooserDialog* _tmp10_ = NULL;
		gchar* _tmp11_ = NULL;
		gchar* _tmp12_ = NULL;
		GFile* _tmp13_ = NULL;
		GFile* _tmp14_ = NULL;
		gboolean _tmp15_ = FALSE;
		gboolean _tmp16_ = FALSE;
		GtkResponseType copy_files_response = 0;
		GtkResponseType _tmp18_ = 0;
#line 513 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = import_dialog;
#line 513 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp11_ = gtk_file_chooser_get_uri (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, GTK_TYPE_FILE_CHOOSER, GtkFileChooser));
#line 513 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp12_ = _tmp11_;
#line 513 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp13_ = g_file_new_for_uri (_tmp12_);
#line 513 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp14_ = _tmp13_;
#line 513 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp15_ = app_dirs_is_in_import_dir (_tmp14_);
#line 513 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp16_ = _tmp15_;
#line 513 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp14_);
#line 513 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_free0 (_tmp12_);
#line 513 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp16_) {
#line 514 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp9_ = GTK_RESPONSE_REJECT;
#line 4096 "LibraryWindow.c"
		} else {
			GtkResponseType _tmp17_ = 0;
#line 514 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp17_ = copy_files_dialog ();
#line 514 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp9_ = _tmp17_;
#line 4103 "LibraryWindow.c"
		}
#line 512 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		copy_files_response = _tmp9_;
#line 516 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp18_ = copy_files_response;
#line 516 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp18_ != GTK_RESPONSE_CANCEL) {
#line 4111 "LibraryWindow.c"
			GtkFileChooserDialog* _tmp19_ = NULL;
			GSList* _tmp20_ = NULL;
			GSList* _tmp21_ = NULL;
			GtkResponseType _tmp22_ = 0;
#line 517 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp19_ = import_dialog;
#line 517 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp20_ = gtk_file_chooser_get_uris (G_TYPE_CHECK_INSTANCE_CAST (_tmp19_, GTK_TYPE_FILE_CHOOSER, GtkFileChooser));
#line 517 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp21_ = _tmp20_;
#line 517 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp22_ = copy_files_response;
#line 517 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			library_window_dispatch_import_jobs (self, _tmp21_, "folders", _tmp22_ == GTK_RESPONSE_ACCEPT);
#line 517 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			__g_slist_free__g_free0_0 (_tmp21_);
#line 4128 "LibraryWindow.c"
		}
	}
#line 522 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp23_ = import_dialog;
#line 522 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp24_ = gtk_file_chooser_get_current_folder (G_TYPE_CHECK_INSTANCE_CAST (_tmp23_, GTK_TYPE_FILE_CHOOSER, GtkFileChooser));
#line 522 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_free0 (self->priv->import_dir);
#line 522 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->import_dir = _tmp24_;
#line 523 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp25_ = import_dialog;
#line 523 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_destroy (G_TYPE_CHECK_INSTANCE_CAST (_tmp25_, gtk_widget_get_type (), GtkWidget));
#line 500 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (import_dialog);
#line 4145 "LibraryWindow.c"
}


static void library_window_on_external_library_import (LibraryWindow* self) {
	GtkDialog* import_dialog = NULL;
	DataImportsUIDataImportsDialog* _tmp0_ = NULL;
#line 526 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 527 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = data_imports_ui_data_imports_dialog_get_or_create_instance ();
#line 527 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	import_dialog = G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, gtk_dialog_get_type (), GtkDialog);
#line 529 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_dialog_run (import_dialog);
#line 526 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (import_dialog);
#line 4162 "LibraryWindow.c"
}


static void library_window_real_update_common_action_availability (AppWindow* base, Page* old_page, Page* new_page) {
	LibraryWindow * self;
	Page* _tmp0_ = NULL;
	Page* _tmp1_ = NULL;
	gboolean is_checkerboard = FALSE;
	Page* _tmp2_ = NULL;
#line 532 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_LIBRARY_WINDOW, LibraryWindow);
#line 532 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail ((old_page == NULL) || IS_PAGE (old_page));
#line 532 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail ((new_page == NULL) || IS_PAGE (new_page));
#line 533 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = old_page;
#line 533 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = new_page;
#line 533 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	APP_WINDOW_CLASS (library_window_parent_class)->update_common_action_availability (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), _tmp0_, _tmp1_);
#line 535 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = new_page;
#line 535 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	is_checkerboard = G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, TYPE_CHECKERBOARD_PAGE);
#line 537 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	app_window_set_common_action_sensitive (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), "CommonDisplaySearchbar", is_checkerboard);
#line 538 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	app_window_set_common_action_sensitive (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), "CommonFind", is_checkerboard);
#line 4192 "LibraryWindow.c"
}


static void library_window_real_update_common_actions (AppWindow* base, Page* page, gint selected_count, gint count) {
	LibraryWindow * self;
	CollectionPage* collection = NULL;
	Photo* start = NULL;
	gboolean can_fullscreen = FALSE;
	Page* _tmp0_ = NULL;
	CollectionPage* _tmp1_ = NULL;
	Photo* _tmp2_ = NULL;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
	Page* _tmp6_ = NULL;
	gint _tmp7_ = 0;
	gint _tmp8_ = 0;
#line 541 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_LIBRARY_WINDOW, LibraryWindow);
#line 541 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_PAGE (page));
#line 547 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page;
#line 547 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = library_window_get_fullscreen_photo (self, _tmp0_, &_tmp1_, &_tmp2_, NULL);
#line 547 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (collection);
#line 547 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	collection = _tmp1_;
#line 547 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (start);
#line 547 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	start = _tmp2_;
#line 547 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	can_fullscreen = _tmp3_;
#line 549 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = library_window_can_empty_trash (self);
#line 549 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	app_window_set_common_action_sensitive (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), "CommonEmptyTrash", _tmp4_);
#line 550 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	app_window_set_common_action_visible (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), "CommonJumpToEvent", TRUE);
#line 551 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = library_window_can_jump_to_event (self);
#line 551 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	app_window_set_common_action_sensitive (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), "CommonJumpToEvent", _tmp5_);
#line 552 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	app_window_set_common_action_sensitive (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), "CommonFullscreen", can_fullscreen);
#line 554 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = page;
#line 554 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = selected_count;
#line 554 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = count;
#line 554 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	APP_WINDOW_CLASS (library_window_parent_class)->update_common_actions (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), _tmp6_, _tmp7_, _tmp8_);
#line 541 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (start);
#line 541 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (collection);
#line 4252 "LibraryWindow.c"
}


static void library_window_on_trashcan_contents_altered (LibraryWindow* self) {
	gboolean _tmp0_ = FALSE;
#line 557 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 558 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = library_window_can_empty_trash (self);
#line 558 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	app_window_set_common_action_sensitive (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), "CommonEmptyTrash", _tmp0_);
#line 4264 "LibraryWindow.c"
}


static gboolean library_window_can_empty_trash (LibraryWindow* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	LibraryPhotoSourceCollection* _tmp1_ = NULL;
	gint _tmp2_ = 0;
#line 561 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (IS_LIBRARY_WINDOW (self), FALSE);
#line 562 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = library_photo_global;
#line 562 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = media_source_collection_get_trashcan_count (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, TYPE_MEDIA_SOURCE_COLLECTION, MediaSourceCollection));
#line 562 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp2_ > 0) {
#line 562 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp0_ = TRUE;
#line 4283 "LibraryWindow.c"
	} else {
		VideoSourceCollection* _tmp3_ = NULL;
		gint _tmp4_ = 0;
#line 562 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = video_global;
#line 562 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = media_source_collection_get_trashcan_count (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, TYPE_MEDIA_SOURCE_COLLECTION, MediaSourceCollection));
#line 562 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp0_ = _tmp4_ > 0;
#line 4293 "LibraryWindow.c"
	}
#line 562 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	result = _tmp0_;
#line 562 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 4299 "LibraryWindow.c"
}


static void library_window_on_empty_trash (LibraryWindow* self) {
	GeeArrayList* to_remove = NULL;
	GeeArrayList* _tmp0_ = NULL;
	LibraryPhotoSourceCollection* _tmp1_ = NULL;
	GeeCollection* _tmp2_ = NULL;
	GeeCollection* _tmp3_ = NULL;
	VideoSourceCollection* _tmp4_ = NULL;
	GeeCollection* _tmp5_ = NULL;
	GeeCollection* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	CommandManager* _tmp9_ = NULL;
	CommandManager* _tmp10_ = NULL;
#line 565 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 566 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = gee_array_list_new (TYPE_MEDIA_SOURCE, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
#line 566 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	to_remove = _tmp0_;
#line 567 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = library_photo_global;
#line 567 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = media_source_collection_get_trashcan_contents (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, TYPE_MEDIA_SOURCE_COLLECTION, MediaSourceCollection));
#line 567 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _tmp2_;
#line 567 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gee_array_list_add_all (to_remove, _tmp3_);
#line 567 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp3_);
#line 568 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = video_global;
#line 568 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = media_source_collection_get_trashcan_contents (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, TYPE_MEDIA_SOURCE_COLLECTION, MediaSourceCollection));
#line 568 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = _tmp5_;
#line 568 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gee_array_list_add_all (to_remove, _tmp6_);
#line 568 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp6_);
#line 570 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = _ ("Empty Trash");
#line 570 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = _ ("Emptying Trash…");
#line 570 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	remove_from_app (G_TYPE_CHECK_INSTANCE_CAST (to_remove, GEE_TYPE_COLLECTION, GeeCollection), _tmp7_, _tmp8_);
#line 572 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = app_window_get_command_manager ();
#line 572 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp10_ = _tmp9_;
#line 572 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	command_manager_reset (_tmp10_);
#line 572 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_command_manager_unref0 (_tmp10_);
#line 565 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (to_remove);
#line 4358 "LibraryWindow.c"
}


static void library_window_on_new_search (LibraryWindow* self) {
	SavedSearchDialog* _tmp0_ = NULL;
	SavedSearchDialog* _tmp1_ = NULL;
#line 575 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 576 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = saved_search_dialog_new ();
#line 576 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _tmp0_;
#line 576 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	saved_search_dialog_show (_tmp1_);
#line 576 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_saved_search_dialog_unref0 (_tmp1_);
#line 4375 "LibraryWindow.c"
}


static gboolean library_window_can_jump_to_event (LibraryWindow* self) {
	gboolean result = FALSE;
	ViewCollection* view = NULL;
	Page* _tmp0_ = NULL;
	Page* _tmp1_ = NULL;
	ViewCollection* _tmp2_ = NULL;
	ViewCollection* _tmp3_ = NULL;
	ViewCollection* _tmp4_ = NULL;
	gint _tmp5_ = 0;
#line 579 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (IS_LIBRARY_WINDOW (self), FALSE);
#line 580 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 580 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _tmp0_;
#line 580 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = page_get_view (_tmp1_);
#line 580 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _tmp2_;
#line 580 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp1_);
#line 580 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	view = _tmp3_;
#line 581 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = view;
#line 581 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = view_collection_get_selected_count (_tmp4_);
#line 581 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp5_ == 1) {
#line 4408 "LibraryWindow.c"
		DataSource* selected_source = NULL;
		ViewCollection* _tmp6_ = NULL;
		DataSource* _tmp7_ = NULL;
		DataSource* _tmp8_ = NULL;
#line 582 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = view;
#line 582 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = view_collection_get_selected_source_at (_tmp6_, 0);
#line 582 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		selected_source = _tmp7_;
#line 583 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = selected_source;
#line 583 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp8_, TYPE_EVENT)) {
#line 584 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			result = TRUE;
#line 584 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_g_object_unref0 (selected_source);
#line 584 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_data_collection_unref0 (view);
#line 584 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			return result;
#line 4431 "LibraryWindow.c"
		} else {
			DataSource* _tmp9_ = NULL;
#line 585 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp9_ = selected_source;
#line 585 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp9_, TYPE_MEDIA_SOURCE)) {
#line 4438 "LibraryWindow.c"
				ViewCollection* _tmp10_ = NULL;
				DataSource* _tmp11_ = NULL;
				MediaSource* _tmp12_ = NULL;
				Event* _tmp13_ = NULL;
				Event* _tmp14_ = NULL;
				gboolean _tmp15_ = FALSE;
#line 586 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp10_ = view;
#line 586 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp11_ = view_collection_get_selected_source_at (_tmp10_, 0);
#line 586 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp12_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, TYPE_MEDIA_SOURCE, MediaSource);
#line 586 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp13_ = media_source_get_event (_tmp12_);
#line 586 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp14_ = _tmp13_;
#line 586 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp15_ = _tmp14_ != NULL;
#line 586 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_tmp14_);
#line 586 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (_tmp12_);
#line 586 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				result = _tmp15_;
#line 586 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (selected_source);
#line 586 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_data_collection_unref0 (view);
#line 586 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				return result;
#line 4469 "LibraryWindow.c"
			} else {
#line 588 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				result = FALSE;
#line 588 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (selected_source);
#line 588 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_data_collection_unref0 (view);
#line 588 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				return result;
#line 4479 "LibraryWindow.c"
			}
		}
#line 581 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (selected_source);
#line 4484 "LibraryWindow.c"
	} else {
#line 590 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		result = FALSE;
#line 590 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_data_collection_unref0 (view);
#line 590 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return result;
#line 4492 "LibraryWindow.c"
	}
#line 579 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_data_collection_unref0 (view);
#line 4496 "LibraryWindow.c"
}


static void library_window_on_jump_to_event (LibraryWindow* self) {
	ViewCollection* view = NULL;
	Page* _tmp0_ = NULL;
	Page* _tmp1_ = NULL;
	ViewCollection* _tmp2_ = NULL;
	ViewCollection* _tmp3_ = NULL;
	ViewCollection* _tmp4_ = NULL;
	gint _tmp5_ = 0;
	MediaSource* media = NULL;
	ViewCollection* _tmp6_ = NULL;
	DataSource* _tmp7_ = NULL;
	MediaSource* _tmp8_ = NULL;
	MediaSource* _tmp9_ = NULL;
	MediaSource* _tmp10_ = NULL;
	Event* _tmp11_ = NULL;
	Event* _tmp12_ = NULL;
	gboolean _tmp13_ = FALSE;
#line 594 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 595 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 595 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _tmp0_;
#line 595 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = page_get_view (_tmp1_);
#line 595 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _tmp2_;
#line 595 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp1_);
#line 595 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	view = _tmp3_;
#line 597 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = view;
#line 597 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = view_collection_get_selected_count (_tmp4_);
#line 597 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp5_ != 1) {
#line 598 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_data_collection_unref0 (view);
#line 598 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 4541 "LibraryWindow.c"
	}
#line 600 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = view;
#line 600 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = view_collection_get_selected_source_at (_tmp6_, 0);
#line 600 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp7_, TYPE_MEDIA_SOURCE) ? ((MediaSource*) _tmp7_) : NULL;
#line 600 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp8_ == NULL) {
#line 600 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp7_);
#line 4553 "LibraryWindow.c"
	}
#line 600 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	media = _tmp8_;
#line 601 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = media;
#line 601 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp9_ == NULL) {
#line 602 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (media);
#line 602 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_data_collection_unref0 (view);
#line 602 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 4567 "LibraryWindow.c"
	}
#line 604 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp10_ = media;
#line 604 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = media_source_get_event (_tmp10_);
#line 604 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = _tmp11_;
#line 604 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp13_ = _tmp12_ != NULL;
#line 604 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp12_);
#line 604 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp13_) {
#line 4581 "LibraryWindow.c"
		MediaSource* _tmp14_ = NULL;
		Event* _tmp15_ = NULL;
		Event* _tmp16_ = NULL;
#line 605 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp14_ = media;
#line 605 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp15_ = media_source_get_event (_tmp14_);
#line 605 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp16_ = _tmp15_;
#line 605 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_switch_to_event (self, _tmp16_);
#line 605 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp16_);
#line 4595 "LibraryWindow.c"
	}
#line 594 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (media);
#line 594 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_data_collection_unref0 (view);
#line 4601 "LibraryWindow.c"
}


static GVariant* _variant_new2 (gboolean value) {
#line 610 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return g_variant_ref_sink (g_variant_new_boolean (value));
#line 4608 "LibraryWindow.c"
}


static void library_window_on_find (LibraryWindow* self) {
	GAction* action = NULL;
	GAction* _tmp0_ = NULL;
	GAction* _tmp1_ = NULL;
	GVariant* _tmp2_ = NULL;
	SearchFilterToolbar* _tmp3_ = NULL;
#line 608 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 609 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = g_action_map_lookup_action (G_TYPE_CHECK_INSTANCE_CAST (self, g_action_map_get_type (), GActionMap), "CommonDisplaySearchbar");
#line 609 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 609 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	action = _tmp1_;
#line 610 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _variant_new2 (TRUE);
#line 610 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_action_change_state (action, _tmp2_);
#line 610 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_variant_unref0 (_tmp2_);
#line 613 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = self->priv->search_toolbar;
#line 613 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	search_filter_toolbar_take_focus (_tmp3_);
#line 608 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (action);
#line 4638 "LibraryWindow.c"
}


static void library_window_on_media_altered (LibraryWindow* self) {
	gboolean _tmp0_ = FALSE;
#line 616 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 617 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = library_window_can_jump_to_event (self);
#line 617 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	app_window_set_common_action_sensitive (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), "CommonJumpToEvent", _tmp0_);
#line 4650 "LibraryWindow.c"
}


static void library_window_on_clear_search (LibraryWindow* self) {
	gboolean _tmp0_ = FALSE;
#line 620 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 621 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->is_search_toolbar_visible;
#line 621 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp0_) {
#line 4662 "LibraryWindow.c"
		SearchFilterActions* _tmp1_ = NULL;
#line 622 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp1_ = self->priv->search_actions;
#line 622 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		search_filter_actions_reset (_tmp1_);
#line 4668 "LibraryWindow.c"
	}
}


gint library_window_get_events_sort (LibraryWindow* self) {
	gint result = 0;
	GSimpleAction* action = NULL;
	GAction* _tmp0_ = NULL;
	GSimpleAction* _tmp1_ = NULL;
	gint _tmp2_ = 0;
	GSimpleAction* _tmp3_ = NULL;
#line 625 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (IS_LIBRARY_WINDOW (self), 0);
#line 626 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = g_action_map_lookup_action (G_TYPE_CHECK_INSTANCE_CAST (self, g_action_map_get_type (), GActionMap), "CommonSortEvents");
#line 626 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, g_simple_action_get_type ()) ? ((GSimpleAction*) _tmp0_) : NULL);
#line 626 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	action = _tmp1_;
#line 628 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = action;
#line 628 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp3_ != NULL) {
#line 4692 "LibraryWindow.c"
		gint _tmp4_ = 0;
		GSimpleAction* _tmp5_ = NULL;
		GVariant* _tmp6_ = NULL;
		GVariant* _tmp7_ = NULL;
		GVariant* _tmp8_ = NULL;
		const gchar* _tmp9_ = NULL;
		gboolean _tmp10_ = FALSE;
#line 628 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = action;
#line 628 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = g_action_get_state (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, g_action_get_type (), GAction));
#line 628 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = _tmp6_;
#line 628 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = _tmp7_;
#line 628 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = g_variant_get_string (_tmp8_, NULL);
#line 628 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = g_strcmp0 (_tmp9_, LIBRARY_WINDOW_SORT_EVENTS_ORDER_ASCENDING) == 0;
#line 628 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_variant_unref0 (_tmp8_);
#line 628 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp10_) {
#line 629 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp4_ = 0;
#line 4718 "LibraryWindow.c"
		} else {
#line 629 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp4_ = 1;
#line 4722 "LibraryWindow.c"
		}
#line 628 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp2_ = _tmp4_;
#line 4726 "LibraryWindow.c"
	} else {
#line 630 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp2_ = 1;
#line 4730 "LibraryWindow.c"
	}
#line 628 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	result = _tmp2_;
#line 628 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (action);
#line 628 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 4738 "LibraryWindow.c"
}


static void library_window_on_events_sort_changed (LibraryWindow* self, GSimpleAction* action, GVariant* value) {
	ConfigFacade* _tmp0_ = NULL;
	ConfigFacade* _tmp1_ = NULL;
	GVariant* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	GSimpleAction* _tmp4_ = NULL;
	GVariant* _tmp5_ = NULL;
#line 633 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 633 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (G_IS_SIMPLE_ACTION (action));
#line 635 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = config_facade_get_instance ();
#line 635 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _tmp0_;
#line 635 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = value;
#line 635 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = g_variant_get_string (_tmp2_, NULL);
#line 635 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	configuration_facade_set_events_sort_ascending (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade), g_strcmp0 (_tmp3_, LIBRARY_WINDOW_SORT_EVENTS_ORDER_ASCENDING) == 0);
#line 635 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp1_);
#line 638 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = action;
#line 638 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = value;
#line 638 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_simple_action_set_state (_tmp4_, _tmp5_);
#line 4771 "LibraryWindow.c"
}


static void library_window_on_preferences (LibraryWindow* self) {
#line 641 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 642 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	preferences_dialog_show ();
#line 4780 "LibraryWindow.c"
}


static void library_window_on_display_basic_properties (LibraryWindow* self, GSimpleAction* action, GVariant* value) {
	gboolean display = FALSE;
	GVariant* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	ConfigFacade* _tmp10_ = NULL;
	ConfigFacade* _tmp11_ = NULL;
	gboolean _tmp12_ = FALSE;
	GSimpleAction* _tmp13_ = NULL;
	GVariant* _tmp14_ = NULL;
#line 645 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 645 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (G_IS_SIMPLE_ACTION (action));
#line 646 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = value;
#line 646 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = g_variant_get_boolean (_tmp0_);
#line 646 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	display = _tmp1_;
#line 648 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = display;
#line 648 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp2_) {
#line 4808 "LibraryWindow.c"
		BasicProperties* _tmp3_ = NULL;
		Page* _tmp4_ = NULL;
		Page* _tmp5_ = NULL;
		GtkFrame* _tmp6_ = NULL;
#line 649 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = self->priv->basic_properties;
#line 649 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 649 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = _tmp4_;
#line 649 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		properties_update_properties (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, TYPE_PROPERTIES, Properties), _tmp5_);
#line 649 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp5_);
#line 650 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = self->priv->bottom_frame;
#line 650 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gtk_widget_show (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, gtk_widget_get_type (), GtkWidget));
#line 4827 "LibraryWindow.c"
	} else {
		GtkPaned* _tmp7_ = NULL;
		GtkWidget* _tmp8_ = NULL;
#line 652 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = self->priv->sidebar_paned;
#line 652 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = gtk_paned_get_child2 (_tmp7_);
#line 652 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp8_ != NULL) {
#line 4837 "LibraryWindow.c"
			GtkFrame* _tmp9_ = NULL;
#line 653 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp9_ = self->priv->bottom_frame;
#line 653 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			gtk_widget_hide (G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, gtk_widget_get_type (), GtkWidget));
#line 4843 "LibraryWindow.c"
		}
	}
#line 658 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp10_ = config_facade_get_instance ();
#line 658 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = _tmp10_;
#line 658 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = display;
#line 658 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	configuration_facade_set_display_basic_properties (G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade), _tmp12_);
#line 658 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp11_);
#line 659 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp13_ = action;
#line 659 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp14_ = value;
#line 659 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_simple_action_set_state (_tmp13_, _tmp14_);
#line 4862 "LibraryWindow.c"
}


static gboolean _variant_get3 (GVariant* value) {
#line 663 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return g_variant_get_boolean (value);
#line 4869 "LibraryWindow.c"
}


static GVariant* _variant_new4 (gboolean value) {
#line 663 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return g_variant_ref_sink (g_variant_new_boolean (value));
#line 4876 "LibraryWindow.c"
}


static void library_window_on_action_toggle (LibraryWindow* self, GAction* action, GVariant* value) {
	GVariant* new_state = NULL;
	GAction* _tmp0_ = NULL;
	GVariant* _tmp1_ = NULL;
	GVariant* _tmp2_ = NULL;
	gboolean _tmp3_ = FALSE;
	GVariant* _tmp4_ = NULL;
	GVariant* _tmp5_ = NULL;
	GAction* _tmp6_ = NULL;
#line 662 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 662 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (G_IS_ACTION (action));
#line 663 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = action;
#line 663 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = g_action_get_state (_tmp0_);
#line 663 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _tmp1_;
#line 663 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _variant_get3 (_tmp2_);
#line 663 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = _variant_new4 (!_tmp3_);
#line 663 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = _tmp4_;
#line 663 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_variant_unref0 (_tmp2_);
#line 663 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	new_state = _tmp5_;
#line 664 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = action;
#line 664 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_action_change_state (_tmp6_, new_state);
#line 662 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_variant_unref0 (new_state);
#line 4915 "LibraryWindow.c"
}


static void library_window_on_action_radio (LibraryWindow* self, GAction* action, GVariant* value) {
	GAction* _tmp0_ = NULL;
	GVariant* _tmp1_ = NULL;
#line 667 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 667 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (G_IS_ACTION (action));
#line 668 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = action;
#line 668 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = value;
#line 668 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_action_change_state (_tmp0_, _tmp1_);
#line 4932 "LibraryWindow.c"
}


static void library_window_on_display_extended_properties (LibraryWindow* self, GSimpleAction* action, GVariant* value) {
	gboolean display = FALSE;
	GVariant* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	GSimpleAction* _tmp8_ = NULL;
	GVariant* _tmp9_ = NULL;
#line 671 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 671 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (G_IS_SIMPLE_ACTION (action));
#line 672 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = value;
#line 672 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = g_variant_get_boolean (_tmp0_);
#line 672 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	display = _tmp1_;
#line 674 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = display;
#line 674 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp2_) {
#line 4957 "LibraryWindow.c"
		ExtendedPropertiesWindow* _tmp3_ = NULL;
		Page* _tmp4_ = NULL;
		Page* _tmp5_ = NULL;
		ExtendedPropertiesWindow* _tmp6_ = NULL;
#line 675 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = self->priv->extended_properties;
#line 675 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 675 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = _tmp4_;
#line 675 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		extended_properties_window_update_properties (_tmp3_, _tmp5_);
#line 675 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp5_);
#line 676 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = self->priv->extended_properties;
#line 676 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gtk_widget_show_all (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, gtk_widget_get_type (), GtkWidget));
#line 4976 "LibraryWindow.c"
	} else {
		ExtendedPropertiesWindow* _tmp7_ = NULL;
#line 678 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = self->priv->extended_properties;
#line 678 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gtk_widget_hide (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, gtk_widget_get_type (), GtkWidget));
#line 4983 "LibraryWindow.c"
	}
#line 681 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = action;
#line 681 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = value;
#line 681 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_simple_action_set_state (_tmp8_, _tmp9_);
#line 4991 "LibraryWindow.c"
}


static void library_window_on_display_searchbar (LibraryWindow* self, GSimpleAction* action, GVariant* value) {
	gboolean is_shown = FALSE;
	GVariant* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	ConfigFacade* _tmp2_ = NULL;
	ConfigFacade* _tmp3_ = NULL;
	GSimpleAction* _tmp4_ = NULL;
	GVariant* _tmp5_ = NULL;
#line 684 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 684 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (G_IS_SIMPLE_ACTION (action));
#line 685 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = value;
#line 685 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = g_variant_get_boolean (_tmp0_);
#line 685 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	is_shown = _tmp1_;
#line 687 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = config_facade_get_instance ();
#line 687 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _tmp2_;
#line 687 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	configuration_facade_set_display_search_bar (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade), is_shown);
#line 687 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp3_);
#line 688 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_show_search_bar (self, is_shown);
#line 690 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = action;
#line 690 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = value;
#line 690 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_simple_action_set_state (_tmp4_, _tmp5_);
#line 5029 "LibraryWindow.c"
}


void library_window_show_search_bar (LibraryWindow* self, gboolean display) {
	Page* _tmp0_ = NULL;
	Page* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_ = FALSE;
	Page* _tmp5_ = NULL;
	CheckerboardPage* _tmp6_ = NULL;
	CheckerboardPage* _tmp7_ = NULL;
	gboolean _tmp8_ = FALSE;
#line 693 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 694 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 694 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _tmp0_;
#line 694 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, TYPE_CHECKERBOARD_PAGE);
#line 694 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp1_);
#line 694 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp2_) {
#line 695 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 5057 "LibraryWindow.c"
	}
#line 697 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = display;
#line 697 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->is_search_toolbar_visible = _tmp3_;
#line 698 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = library_window_should_show_search_bar (self);
#line 698 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 698 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp5_, TYPE_CHECKERBOARD_PAGE) ? ((CheckerboardPage*) _tmp5_) : NULL;
#line 698 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp6_ == NULL) {
#line 698 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp5_);
#line 5073 "LibraryWindow.c"
	}
#line 698 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = _tmp6_;
#line 698 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_toggle_search_bar (self, _tmp4_, _tmp7_);
#line 698 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp7_);
#line 699 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = display;
#line 699 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (!_tmp8_) {
#line 5085 "LibraryWindow.c"
		SearchFilterActions* _tmp9_ = NULL;
#line 700 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = self->priv->search_actions;
#line 700 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		search_filter_actions_reset (_tmp9_);
#line 5091 "LibraryWindow.c"
	}
}


static void library_window_on_display_sidebar (LibraryWindow* self, GSimpleAction* action, GVariant* variant) {
	GVariant* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	GSimpleAction* _tmp2_ = NULL;
	GVariant* _tmp3_ = NULL;
#line 703 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 703 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (G_IS_SIMPLE_ACTION (action));
#line 704 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = variant;
#line 704 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = g_variant_get_boolean (_tmp0_);
#line 704 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_set_sidebar_visible (self, _tmp1_);
#line 706 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = action;
#line 706 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = variant;
#line 706 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_simple_action_set_state (_tmp2_, _tmp3_);
#line 5117 "LibraryWindow.c"
}


static void library_window_set_sidebar_visible (LibraryWindow* self, gboolean visible) {
	GtkPaned* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	ConfigFacade* _tmp2_ = NULL;
	ConfigFacade* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
#line 709 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 710 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->sidebar_paned;
#line 710 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = visible;
#line 710 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_set_visible (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, gtk_widget_get_type (), GtkWidget), _tmp1_);
#line 711 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = config_facade_get_instance ();
#line 711 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _tmp2_;
#line 711 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = visible;
#line 711 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	configuration_facade_set_display_sidebar (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade), _tmp4_);
#line 711 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp3_);
#line 5145 "LibraryWindow.c"
}


static gboolean library_window_is_sidebar_visible (LibraryWindow* self) {
	gboolean result = FALSE;
	ConfigFacade* _tmp0_ = NULL;
	ConfigFacade* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
#line 714 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (IS_LIBRARY_WINDOW (self), FALSE);
#line 715 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = config_facade_get_instance ();
#line 715 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _tmp0_;
#line 715 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = configuration_facade_get_display_sidebar (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade));
#line 715 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _tmp2_;
#line 715 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp1_);
#line 715 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	result = _tmp3_;
#line 715 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 5171 "LibraryWindow.c"
}


static void library_window_on_display_toolbar (LibraryWindow* self, GSimpleAction* action, GVariant* variant) {
	GVariant* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	GSimpleAction* _tmp2_ = NULL;
	GVariant* _tmp3_ = NULL;
#line 718 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 718 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (G_IS_SIMPLE_ACTION (action));
#line 719 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = variant;
#line 719 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = g_variant_get_boolean (_tmp0_);
#line 719 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_set_toolbar_visible (self, _tmp1_);
#line 721 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = action;
#line 721 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = variant;
#line 721 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_simple_action_set_state (_tmp2_, _tmp3_);
#line 5196 "LibraryWindow.c"
}


static void library_window_set_toolbar_visible (LibraryWindow* self, gboolean visible) {
	GtkToolbar* toolbar = NULL;
	Page* _tmp0_ = NULL;
	Page* _tmp1_ = NULL;
	GtkToolbar* _tmp2_ = NULL;
	GtkToolbar* _tmp3_ = NULL;
	GtkToolbar* _tmp4_ = NULL;
	ConfigFacade* _tmp7_ = NULL;
	ConfigFacade* _tmp8_ = NULL;
	gboolean _tmp9_ = FALSE;
#line 724 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 725 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 725 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _tmp0_;
#line 725 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = page_get_toolbar (_tmp1_);
#line 725 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _tmp2_;
#line 725 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp1_);
#line 725 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	toolbar = _tmp3_;
#line 726 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = toolbar;
#line 726 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp4_ != NULL) {
#line 5228 "LibraryWindow.c"
		GtkToolbar* _tmp5_ = NULL;
		gboolean _tmp6_ = FALSE;
#line 727 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = toolbar;
#line 727 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = visible;
#line 727 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gtk_widget_set_visible (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, gtk_widget_get_type (), GtkWidget), _tmp6_);
#line 5237 "LibraryWindow.c"
	}
#line 729 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = config_facade_get_instance ();
#line 729 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = _tmp7_;
#line 729 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = visible;
#line 729 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	configuration_facade_set_display_toolbar (G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade), _tmp9_);
#line 729 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp8_);
#line 724 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (toolbar);
#line 5251 "LibraryWindow.c"
}


static gboolean library_window_is_toolbar_visible (LibraryWindow* self) {
	gboolean result = FALSE;
	ConfigFacade* _tmp0_ = NULL;
	ConfigFacade* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
#line 732 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (IS_LIBRARY_WINDOW (self), FALSE);
#line 733 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = config_facade_get_instance ();
#line 733 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _tmp0_;
#line 733 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = configuration_facade_get_display_toolbar (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade));
#line 733 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _tmp2_;
#line 733 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp1_);
#line 733 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	result = _tmp3_;
#line 733 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 5277 "LibraryWindow.c"
}


static void library_window_show_extended_properties (LibraryWindow* self) {
#line 736 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 737 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_sync_extended_properties (self, TRUE);
#line 5286 "LibraryWindow.c"
}


static void library_window_hide_extended_properties (LibraryWindow* self) {
#line 740 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 741 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_sync_extended_properties (self, FALSE);
#line 5295 "LibraryWindow.c"
}


static GVariant* _variant_new5 (gboolean value) {
#line 746 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return g_variant_ref_sink (g_variant_new_boolean (value));
#line 5302 "LibraryWindow.c"
}


static void library_window_sync_extended_properties (LibraryWindow* self, gboolean show) {
	GAction* action = NULL;
	GAction* _tmp0_ = NULL;
	GAction* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	GVariant* _tmp3_ = NULL;
	ConfigFacade* _tmp4_ = NULL;
	ConfigFacade* _tmp5_ = NULL;
	gboolean _tmp6_ = FALSE;
#line 744 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 745 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = g_action_map_lookup_action (G_TYPE_CHECK_INSTANCE_CAST (self, g_action_map_get_type (), GActionMap), "CommonDisplayExtendedProperties");
#line 745 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 745 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	action = _tmp1_;
#line 746 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = show;
#line 746 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _variant_new5 (_tmp2_);
#line 746 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_action_change_state (action, _tmp3_);
#line 746 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_variant_unref0 (_tmp3_);
#line 749 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = config_facade_get_instance ();
#line 749 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = _tmp4_;
#line 749 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = show;
#line 749 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	configuration_facade_set_display_extended_properties (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade), _tmp6_);
#line 749 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp5_);
#line 744 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (action);
#line 5343 "LibraryWindow.c"
}


void library_window_enqueue_batch_import (LibraryWindow* self, BatchImport* batch_import, gboolean allow_user_cancel) {
	LibraryBranch* _tmp0_ = NULL;
	LibraryImportQueueSidebarEntry* _tmp1_ = NULL;
	LibraryImportQueueSidebarEntry* _tmp2_ = NULL;
	BatchImport* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
#line 752 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 752 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_BATCH_IMPORT (batch_import));
#line 753 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->library_branch;
#line 753 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = library_branch_get_import_queue_entry (_tmp0_);
#line 753 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _tmp1_;
#line 753 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = batch_import;
#line 753 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = allow_user_cancel;
#line 753 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_import_queue_sidebar_entry_enqueue_and_schedule (_tmp2_, _tmp3_, _tmp4_);
#line 5369 "LibraryWindow.c"
}


static void library_window_import_reporter (LibraryWindow* self, ImportManifest* manifest) {
	ImportManifest* _tmp0_ = NULL;
#line 756 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 756 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_IMPORT_MANIFEST (manifest));
#line 757 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = manifest;
#line 757 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	import_ui_report_manifest (_tmp0_, TRUE, NULL);
#line 5383 "LibraryWindow.c"
}


static void _library_window_import_reporter_batch_import_import_reporter (ImportManifest* manifest, BatchImportRoll* import_roll, gpointer self) {
#line 788 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_import_reporter ((LibraryWindow*) self, manifest);
#line 5390 "LibraryWindow.c"
}


static void library_window_dispatch_import_jobs (LibraryWindow* self, GSList* uris, const gchar* job_name, gboolean copy_to_library) {
	gboolean _tmp0_ = FALSE;
	GFile* _tmp1_ = NULL;
	GFile* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	const gchar* _tmp5_ = NULL;
	gboolean _tmp6_ = FALSE;
	GeeArrayList* jobs = NULL;
	GeeArrayList* _tmp18_ = NULL;
	GSList* _tmp19_ = NULL;
	GeeArrayList* _tmp33_ = NULL;
	gint _tmp34_ = 0;
	gint _tmp35_ = 0;
#line 760 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 760 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (job_name != NULL);
#line 761 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = app_dirs_get_import_dir ();
#line 761 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _tmp1_;
#line 761 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = g_file_get_path (_tmp2_);
#line 761 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = _tmp3_;
#line 761 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = g_get_home_dir ();
#line 761 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = g_strcmp0 (_tmp4_, _tmp5_) == 0;
#line 761 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_free0 (_tmp4_);
#line 761 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp2_);
#line 761 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp6_) {
#line 5430 "LibraryWindow.c"
		gboolean _tmp7_ = FALSE;
#line 761 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = self->priv->notify_library_is_home_dir;
#line 761 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp0_ = _tmp7_;
#line 5436 "LibraryWindow.c"
	} else {
#line 761 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp0_ = FALSE;
#line 5440 "LibraryWindow.c"
	}
#line 761 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp0_) {
#line 5444 "LibraryWindow.c"
		GtkResponseType response = 0;
		const gchar* _tmp8_ = NULL;
		gchar* _tmp9_ = NULL;
		gchar* _tmp10_ = NULL;
		const gchar* _tmp11_ = NULL;
		const gchar* _tmp12_ = NULL;
		AppWindow* _tmp13_ = NULL;
		AppWindow* _tmp14_ = NULL;
		GtkResponseType _tmp15_ = 0;
		GtkResponseType _tmp16_ = 0;
		GtkResponseType _tmp17_ = 0;
#line 762 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = _ ("Shotwell is configured to import photos to your home directory.\n" "We recommend changing this in <span weight=\"bold\">Edit %s Preference" \
"s</span>.\n" "Do you want to continue importing photos?");
#line 762 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = g_strdup_printf (_tmp8_, "▸");
#line 762 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = _tmp9_;
#line 762 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp11_ = _ ("_Import");
#line 762 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp12_ = _ ("Library Location");
#line 762 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp13_ = app_window_get_instance ();
#line 762 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp14_ = _tmp13_;
#line 762 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp15_ = app_window_affirm_cancel_question (_tmp10_, _tmp11_, _tmp12_, G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, gtk_window_get_type (), GtkWindow));
#line 762 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp16_ = _tmp15_;
#line 762 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp14_);
#line 762 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_free0 (_tmp10_);
#line 762 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		response = _tmp16_;
#line 768 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp17_ = response;
#line 768 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp17_ == GTK_RESPONSE_CANCEL) {
#line 769 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			return;
#line 5486 "LibraryWindow.c"
		}
#line 771 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		self->priv->notify_library_is_home_dir = FALSE;
#line 5490 "LibraryWindow.c"
	}
#line 774 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp18_ = gee_array_list_new (TYPE_FILE_IMPORT_JOB, (GBoxedCopyFunc) batch_import_job_ref, batch_import_job_unref, NULL, NULL, NULL);
#line 774 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	jobs = _tmp18_;
#line 775 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp19_ = uris;
#line 5498 "LibraryWindow.c"
	{
		GSList* uri_collection = NULL;
		GSList* uri_it = NULL;
#line 775 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		uri_collection = _tmp19_;
#line 775 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		for (uri_it = uri_collection; uri_it != NULL; uri_it = uri_it->next) {
#line 5506 "LibraryWindow.c"
			gchar* _tmp20_ = NULL;
			gchar* uri = NULL;
#line 775 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp20_ = g_strdup ((const gchar*) uri_it->data);
#line 775 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			uri = _tmp20_;
#line 5513 "LibraryWindow.c"
			{
				GFile* file_or_dir = NULL;
				const gchar* _tmp21_ = NULL;
				GFile* _tmp22_ = NULL;
				GFile* _tmp23_ = NULL;
				gchar* _tmp24_ = NULL;
				gchar* _tmp25_ = NULL;
				gboolean _tmp26_ = FALSE;
				GeeArrayList* _tmp28_ = NULL;
				GFile* _tmp29_ = NULL;
				gboolean _tmp30_ = FALSE;
				FileImportJob* _tmp31_ = NULL;
				FileImportJob* _tmp32_ = NULL;
#line 776 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp21_ = uri;
#line 776 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp22_ = g_file_new_for_uri (_tmp21_);
#line 776 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				file_or_dir = _tmp22_;
#line 777 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp23_ = file_or_dir;
#line 777 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp24_ = g_file_get_path (_tmp23_);
#line 777 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp25_ = _tmp24_;
#line 777 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp26_ = _tmp25_ == NULL;
#line 777 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_free0 (_tmp25_);
#line 777 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				if (_tmp26_) {
#line 5545 "LibraryWindow.c"
					const gchar* _tmp27_ = NULL;
#line 779 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					_tmp27_ = _ ("Photos cannot be imported from this directory.");
#line 779 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					app_window_error_message (_tmp27_, NULL);
#line 781 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					_g_object_unref0 (file_or_dir);
#line 781 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					_g_free0 (uri);
#line 781 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					continue;
#line 5557 "LibraryWindow.c"
				}
#line 784 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp28_ = jobs;
#line 784 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp29_ = file_or_dir;
#line 784 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp30_ = copy_to_library;
#line 784 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp31_ = file_import_job_new (_tmp29_, _tmp30_);
#line 784 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp32_ = _tmp31_;
#line 784 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp28_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp32_);
#line 784 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_batch_import_job_unref0 (_tmp32_);
#line 775 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_object_unref0 (file_or_dir);
#line 775 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_free0 (uri);
#line 5577 "LibraryWindow.c"
			}
		}
	}
#line 787 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp33_ = jobs;
#line 787 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp34_ = gee_abstract_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp33_, GEE_TYPE_COLLECTION, GeeCollection));
#line 787 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp35_ = _tmp34_;
#line 787 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp35_ > 0) {
#line 5589 "LibraryWindow.c"
		BatchImport* batch_import = NULL;
		GeeArrayList* _tmp36_ = NULL;
		const gchar* _tmp37_ = NULL;
		BatchImport* _tmp38_ = NULL;
		BatchImport* _tmp39_ = NULL;
#line 788 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp36_ = jobs;
#line 788 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp37_ = job_name;
#line 788 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp38_ = batch_import_new (G_TYPE_CHECK_INSTANCE_CAST (_tmp36_, GEE_TYPE_ITERABLE, GeeIterable), _tmp37_, _library_window_import_reporter_batch_import_import_reporter, self, NULL, NULL, NULL, NULL, NULL);
#line 788 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		batch_import = _tmp38_;
#line 789 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp39_ = batch_import;
#line 789 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_enqueue_batch_import (self, _tmp39_, TRUE);
#line 790 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_switch_to_import_queue_page (self);
#line 787 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (batch_import);
#line 5611 "LibraryWindow.c"
	}
#line 760 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (jobs);
#line 5615 "LibraryWindow.c"
}


static GdkDragAction library_window_get_drag_action (LibraryWindow* self) {
	GdkDragAction result = 0;
	GdkModifierType mask = 0;
	GdkWindow* _tmp0_ = NULL;
	GdkDisplay* _tmp1_ = NULL;
	GdkDeviceManager* _tmp2_ = NULL;
	GdkDevice* _tmp3_ = NULL;
	GdkModifierType _tmp4_ = 0;
	gboolean ctrl = FALSE;
	GdkModifierType _tmp5_ = 0;
	gboolean alt = FALSE;
	GdkModifierType _tmp6_ = 0;
	gboolean shift = FALSE;
	GdkModifierType _tmp7_ = 0;
	gboolean _tmp8_ = FALSE;
	gboolean _tmp9_ = FALSE;
	gboolean _tmp10_ = FALSE;
#line 794 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (IS_LIBRARY_WINDOW (self), 0);
#line 797 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = gtk_widget_get_window (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_widget_get_type (), GtkWidget));
#line 797 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = gdk_display_get_default ();
#line 797 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = gdk_display_get_device_manager (_tmp1_);
#line 797 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = gdk_device_manager_get_client_pointer (_tmp2_);
#line 797 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gdk_window_get_device_position (_tmp0_, _tmp3_, NULL, NULL, &_tmp4_);
#line 797 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	mask = _tmp4_;
#line 800 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = mask;
#line 800 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	ctrl = (_tmp5_ & GDK_CONTROL_MASK) != 0;
#line 801 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = mask;
#line 801 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	alt = (_tmp6_ & GDK_MOD1_MASK) != 0;
#line 802 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = mask;
#line 802 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	shift = (_tmp7_ & GDK_SHIFT_MASK) != 0;
#line 804 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp10_ = ctrl;
#line 804 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp10_) {
#line 5666 "LibraryWindow.c"
		gboolean _tmp11_ = FALSE;
#line 804 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp11_ = alt;
#line 804 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = !_tmp11_;
#line 5672 "LibraryWindow.c"
	} else {
#line 804 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = FALSE;
#line 5676 "LibraryWindow.c"
	}
#line 804 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp9_) {
#line 5680 "LibraryWindow.c"
		gboolean _tmp12_ = FALSE;
#line 804 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp12_ = shift;
#line 804 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = !_tmp12_;
#line 5686 "LibraryWindow.c"
	} else {
#line 804 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = FALSE;
#line 5690 "LibraryWindow.c"
	}
#line 804 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp8_) {
#line 805 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		result = GDK_ACTION_COPY;
#line 805 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return result;
#line 5698 "LibraryWindow.c"
	} else {
		gboolean _tmp13_ = FALSE;
		gboolean _tmp14_ = FALSE;
		gboolean _tmp15_ = FALSE;
#line 806 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp15_ = ctrl;
#line 806 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (!_tmp15_) {
#line 5707 "LibraryWindow.c"
			gboolean _tmp16_ = FALSE;
#line 806 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp16_ = alt;
#line 806 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp14_ = _tmp16_;
#line 5713 "LibraryWindow.c"
		} else {
#line 806 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp14_ = FALSE;
#line 5717 "LibraryWindow.c"
		}
#line 806 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp14_) {
#line 5721 "LibraryWindow.c"
			gboolean _tmp17_ = FALSE;
#line 806 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp17_ = shift;
#line 806 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp13_ = !_tmp17_;
#line 5727 "LibraryWindow.c"
		} else {
#line 806 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp13_ = FALSE;
#line 5731 "LibraryWindow.c"
		}
#line 806 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp13_) {
#line 807 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			result = GDK_ACTION_ASK;
#line 807 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			return result;
#line 5739 "LibraryWindow.c"
		} else {
			gboolean _tmp18_ = FALSE;
			gboolean _tmp19_ = FALSE;
			gboolean _tmp20_ = FALSE;
#line 808 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp20_ = ctrl;
#line 808 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (_tmp20_) {
#line 5748 "LibraryWindow.c"
				gboolean _tmp21_ = FALSE;
#line 808 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp21_ = alt;
#line 808 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp19_ = !_tmp21_;
#line 5754 "LibraryWindow.c"
			} else {
#line 808 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp19_ = FALSE;
#line 5758 "LibraryWindow.c"
			}
#line 808 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (_tmp19_) {
#line 5762 "LibraryWindow.c"
				gboolean _tmp22_ = FALSE;
#line 808 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp22_ = shift;
#line 808 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp18_ = _tmp22_;
#line 5768 "LibraryWindow.c"
			} else {
#line 808 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp18_ = FALSE;
#line 5772 "LibraryWindow.c"
			}
#line 808 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (_tmp18_) {
#line 809 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				result = GDK_ACTION_LINK;
#line 809 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				return result;
#line 5780 "LibraryWindow.c"
			} else {
#line 811 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				result = GDK_ACTION_DEFAULT;
#line 811 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				return result;
#line 5786 "LibraryWindow.c"
			}
		}
	}
}


static gboolean library_window_real_drag_motion (GtkWidget* base, GdkDragContext* context, gint x, gint y, guint time) {
	LibraryWindow * self;
	gboolean result = FALSE;
	GdkAtom target = 0U;
	GdkDragContext* _tmp0_ = NULL;
	GtkTargetList* _tmp1_ = NULL;
	GdkAtom _tmp2_ = 0U;
	GdkAtom _tmp3_ = 0U;
	GdkAtom _tmp4_ = 0U;
	GdkDragContext* _tmp7_ = NULL;
	GtkWidget* _tmp8_ = NULL;
	GdkDragAction drag_action = 0;
	GdkDragAction _tmp11_ = 0;
	GdkDragAction _tmp12_ = 0;
	GdkDragContext* _tmp13_ = NULL;
	GdkDragAction _tmp14_ = 0;
	guint _tmp15_ = 0U;
#line 814 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_LIBRARY_WINDOW, LibraryWindow);
#line 814 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (GDK_IS_DRAG_CONTEXT (context), FALSE);
#line 815 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = context;
#line 815 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = gtk_drag_dest_get_target_list (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_widget_get_type (), GtkWidget));
#line 815 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = gtk_drag_dest_find_target (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_widget_get_type (), GtkWidget), _tmp0_, _tmp1_);
#line 815 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	target = _tmp2_;
#line 816 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = target;
#line 816 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = GDK_NONE;
#line 816 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp3_ == _tmp4_) {
#line 5828 "LibraryWindow.c"
		GdkDragContext* _tmp5_ = NULL;
		guint _tmp6_ = 0U;
#line 817 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_debug ("LibraryWindow.vala:817: drag target is GDK_NONE");
#line 818 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = context;
#line 818 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = time;
#line 818 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gdk_drag_status (_tmp5_, 0, (guint32) _tmp6_);
#line 820 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		result = TRUE;
#line 820 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return result;
#line 5843 "LibraryWindow.c"
	}
#line 824 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = context;
#line 824 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = gtk_drag_get_source_widget (_tmp7_);
#line 824 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp8_ != NULL) {
#line 5851 "LibraryWindow.c"
		GdkDragContext* _tmp9_ = NULL;
		guint _tmp10_ = 0U;
#line 825 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = context;
#line 825 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = time;
#line 825 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gdk_drag_status (_tmp9_, GDK_ACTION_PRIVATE, (guint32) _tmp10_);
#line 827 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		result = TRUE;
#line 827 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return result;
#line 5864 "LibraryWindow.c"
	}
#line 831 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = library_window_get_drag_action (self);
#line 831 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	drag_action = _tmp11_;
#line 833 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = drag_action;
#line 833 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp12_ == GDK_ACTION_DEFAULT) {
#line 834 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		drag_action = GDK_ACTION_ASK;
#line 5876 "LibraryWindow.c"
	}
#line 836 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp13_ = context;
#line 836 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp14_ = drag_action;
#line 836 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp15_ = time;
#line 836 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gdk_drag_status (_tmp13_, _tmp14_, (guint32) _tmp15_);
#line 838 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	result = TRUE;
#line 838 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 5890 "LibraryWindow.c"
}


static void library_window_real_drag_data_received (GtkWidget* base, GdkDragContext* context, gint x, gint y, GtkSelectionData* selection_data, guint info, guint time) {
	LibraryWindow * self;
	GtkSelectionData* _tmp0_ = NULL;
	guchar* _tmp1_ = NULL;
	GdkDragContext* _tmp2_ = NULL;
	GtkWidget* _tmp3_ = NULL;
#line 841 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_LIBRARY_WINDOW, LibraryWindow);
#line 841 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (GDK_IS_DRAG_CONTEXT (context));
#line 841 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (selection_data != NULL);
#line 843 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = selection_data;
#line 843 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = gtk_selection_data_get_data (_tmp0_);
#line 843 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (-1 < 0) {
#line 844 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_debug ("LibraryWindow.vala:844: failed to retrieve SelectionData");
#line 5914 "LibraryWindow.c"
	}
#line 848 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = context;
#line 848 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = gtk_drag_get_source_widget (_tmp2_);
#line 848 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp3_ == NULL) {
#line 5922 "LibraryWindow.c"
		GdkDragContext* _tmp4_ = NULL;
		GtkSelectionData* _tmp5_ = NULL;
		guint _tmp6_ = 0U;
		guint _tmp7_ = 0U;
#line 849 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = context;
#line 849 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = selection_data;
#line 849 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = info;
#line 849 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = time;
#line 849 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_external_drop_handler (self, _tmp4_, NULL, _tmp5_, _tmp6_, _tmp7_);
#line 5937 "LibraryWindow.c"
	} else {
		GdkDragContext* _tmp8_ = NULL;
		guint _tmp9_ = 0U;
#line 851 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = context;
#line 851 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = time;
#line 851 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gtk_drag_finish (_tmp8_, FALSE, FALSE, (guint32) _tmp9_);
#line 5947 "LibraryWindow.c"
	}
}


static void library_window_external_drop_handler (LibraryWindow* self, GdkDragContext* context, SidebarEntry* entry, GtkSelectionData* data, guint info, guint time) {
	gchar** uris_array = NULL;
	GtkSelectionData* _tmp0_ = NULL;
	gchar** _tmp1_ = NULL;
	gchar** _tmp2_ = NULL;
	gint uris_array_length1 = 0;
	gint _uris_array_size_ = 0;
	GSList* uris = NULL;
	gchar** _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
	GdkDragAction selected_action = 0;
	GdkDragContext* _tmp7_ = NULL;
	GdkDragAction _tmp8_ = 0;
	GdkDragAction _tmp9_ = 0;
	GSList* _tmp21_ = NULL;
	GdkDragAction _tmp22_ = 0;
	GdkDragContext* _tmp23_ = NULL;
	guint _tmp24_ = 0U;
#line 854 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 854 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (GDK_IS_DRAG_CONTEXT (context));
#line 854 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail ((entry == NULL) || SIDEBAR_IS_ENTRY (entry));
#line 854 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (data != NULL);
#line 856 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = data;
#line 856 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _tmp1_ = gtk_selection_data_get_uris (_tmp0_);
#line 856 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	uris_array = _tmp2_;
#line 856 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	uris_array_length1 = _vala_array_length (_tmp1_);
#line 856 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_uris_array_size_ = uris_array_length1;
#line 858 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	uris = NULL;
#line 859 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = uris_array;
#line 859 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3__length1 = uris_array_length1;
#line 5994 "LibraryWindow.c"
	{
		gchar** uri_collection = NULL;
		gint uri_collection_length1 = 0;
		gint _uri_collection_size_ = 0;
		gint uri_it = 0;
#line 859 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		uri_collection = _tmp3_;
#line 859 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		uri_collection_length1 = _tmp3__length1;
#line 859 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		for (uri_it = 0; uri_it < _tmp3__length1; uri_it = uri_it + 1) {
#line 6006 "LibraryWindow.c"
			gchar* _tmp4_ = NULL;
			gchar* uri = NULL;
#line 859 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp4_ = g_strdup (uri_collection[uri_it]);
#line 859 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			uri = _tmp4_;
#line 6013 "LibraryWindow.c"
			{
				const gchar* _tmp5_ = NULL;
				gchar* _tmp6_ = NULL;
#line 860 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp5_ = uri;
#line 860 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp6_ = g_strdup (_tmp5_);
#line 860 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				uris = g_slist_append (uris, _tmp6_);
#line 859 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_g_free0 (uri);
#line 6025 "LibraryWindow.c"
			}
		}
	}
#line 862 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = context;
#line 862 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = gdk_drag_context_get_selected_action (_tmp7_);
#line 862 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	selected_action = _tmp8_;
#line 863 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = selected_action;
#line 863 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp9_ == GDK_ACTION_ASK) {
#line 6039 "LibraryWindow.c"
		GtkResponseType _result_ = 0;
		GSList* _tmp10_ = NULL;
		GtkResponseType _tmp18_ = 0;
#line 865 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_result_ = GTK_RESPONSE_REJECT;
#line 866 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = uris;
#line 6047 "LibraryWindow.c"
		{
			GSList* uri_collection = NULL;
			GSList* uri_it = NULL;
#line 866 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			uri_collection = _tmp10_;
#line 866 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			for (uri_it = uri_collection; uri_it != NULL; uri_it = uri_it->next) {
#line 6055 "LibraryWindow.c"
				gchar* _tmp11_ = NULL;
				gchar* uri = NULL;
#line 866 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp11_ = g_strdup ((const gchar*) uri_it->data);
#line 866 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				uri = _tmp11_;
#line 6062 "LibraryWindow.c"
				{
					const gchar* _tmp12_ = NULL;
					GFile* _tmp13_ = NULL;
					GFile* _tmp14_ = NULL;
					gboolean _tmp15_ = FALSE;
					gboolean _tmp16_ = FALSE;
#line 867 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					_tmp12_ = uri;
#line 867 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					_tmp13_ = g_file_new_for_uri (_tmp12_);
#line 867 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					_tmp14_ = _tmp13_;
#line 867 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					_tmp15_ = app_dirs_is_in_import_dir (_tmp14_);
#line 867 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					_tmp16_ = !_tmp15_;
#line 867 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					_g_object_unref0 (_tmp14_);
#line 867 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					if (_tmp16_) {
#line 6083 "LibraryWindow.c"
						GtkResponseType _tmp17_ = 0;
#line 868 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
						_tmp17_ = copy_files_dialog ();
#line 868 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
						_result_ = _tmp17_;
#line 870 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
						_g_free0 (uri);
#line 870 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
						break;
#line 6093 "LibraryWindow.c"
					}
#line 866 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
					_g_free0 (uri);
#line 6097 "LibraryWindow.c"
				}
			}
		}
#line 874 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp18_ = _result_;
#line 874 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		switch (_tmp18_) {
#line 874 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			case GTK_RESPONSE_ACCEPT:
#line 6107 "LibraryWindow.c"
			{
#line 876 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				selected_action = GDK_ACTION_COPY;
#line 877 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				break;
#line 6113 "LibraryWindow.c"
			}
#line 874 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			case GTK_RESPONSE_REJECT:
#line 6117 "LibraryWindow.c"
			{
#line 880 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				selected_action = GDK_ACTION_LINK;
#line 881 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				break;
#line 6123 "LibraryWindow.c"
			}
			default:
			{
				GdkDragContext* _tmp19_ = NULL;
				guint _tmp20_ = 0U;
#line 885 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp19_ = context;
#line 885 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				_tmp20_ = time;
#line 885 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				gtk_drag_finish (_tmp19_, FALSE, FALSE, (guint32) _tmp20_);
#line 887 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				__g_slist_free__g_free0_0 (uris);
#line 887 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				uris_array = (_vala_array_free (uris_array, uris_array_length1, (GDestroyNotify) g_free), NULL);
#line 887 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				return;
#line 6141 "LibraryWindow.c"
			}
		}
	}
#line 891 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp21_ = uris;
#line 891 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp22_ = selected_action;
#line 891 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_dispatch_import_jobs (self, _tmp21_, "drag-and-drop", _tmp22_ == GDK_ACTION_COPY);
#line 893 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp23_ = context;
#line 893 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp24_ = time;
#line 893 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_drag_finish (_tmp23_, TRUE, FALSE, (guint32) _tmp24_);
#line 854 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	__g_slist_free__g_free0_0 (uris);
#line 854 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	uris_array = (_vala_array_free (uris_array, uris_array_length1, (GDestroyNotify) g_free), NULL);
#line 6161 "LibraryWindow.c"
}


void library_window_switch_to_library_page (LibraryWindow* self) {
	LibraryBranch* _tmp0_ = NULL;
	LibraryPhotosEntry* _tmp1_ = NULL;
	LibraryPhotosEntry* _tmp2_ = NULL;
	Page* _tmp3_ = NULL;
	Page* _tmp4_ = NULL;
#line 896 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 897 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->library_branch;
#line 897 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = library_branch_get_photos_entry (_tmp0_);
#line 897 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _tmp1_;
#line 897 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = sidebar_page_representative_get_page (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative));
#line 897 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = _tmp3_;
#line 897 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_switch_to_page (self, _tmp4_);
#line 897 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp4_);
#line 6187 "LibraryWindow.c"
}


void library_window_switch_to_event (LibraryWindow* self, Event* event) {
	EventsEventEntry* entry = NULL;
	EventsBranch* _tmp0_ = NULL;
	Event* _tmp1_ = NULL;
	EventsEventEntry* _tmp2_ = NULL;
	EventsEventEntry* _tmp3_ = NULL;
#line 900 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 900 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_EVENT (event));
#line 901 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->events_branch;
#line 901 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = event;
#line 901 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = events_branch_get_entry_for_event (_tmp0_, _tmp1_);
#line 901 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	entry = _tmp2_;
#line 902 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = entry;
#line 902 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp3_ != NULL) {
#line 6213 "LibraryWindow.c"
		EventsEventEntry* _tmp4_ = NULL;
		Page* _tmp5_ = NULL;
		Page* _tmp6_ = NULL;
#line 903 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = entry;
#line 903 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = sidebar_page_representative_get_page (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative));
#line 903 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = _tmp5_;
#line 903 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_switch_to_page (self, _tmp6_);
#line 903 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp6_);
#line 6227 "LibraryWindow.c"
	}
#line 900 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (entry);
#line 6231 "LibraryWindow.c"
}


void library_window_switch_to_tag (LibraryWindow* self, Tag* tag) {
	TagsSidebarEntry* entry = NULL;
	TagsBranch* _tmp0_ = NULL;
	Tag* _tmp1_ = NULL;
	TagsSidebarEntry* _tmp2_ = NULL;
	TagsSidebarEntry* _tmp3_ = NULL;
#line 906 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 906 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_TAG (tag));
#line 907 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->tags_branch;
#line 907 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = tag;
#line 907 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = tags_branch_get_entry_for_tag (_tmp0_, _tmp1_);
#line 907 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	entry = _tmp2_;
#line 908 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = entry;
#line 908 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp3_ != NULL) {
#line 6257 "LibraryWindow.c"
		TagsSidebarEntry* _tmp4_ = NULL;
		Page* _tmp5_ = NULL;
		Page* _tmp6_ = NULL;
#line 909 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = entry;
#line 909 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = sidebar_page_representative_get_page (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative));
#line 909 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = _tmp5_;
#line 909 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_switch_to_page (self, _tmp6_);
#line 909 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp6_);
#line 6271 "LibraryWindow.c"
	}
#line 906 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (entry);
#line 6275 "LibraryWindow.c"
}


void library_window_switch_to_saved_search (LibraryWindow* self, SavedSearch* search) {
	SearchesSidebarEntry* entry = NULL;
	SearchesBranch* _tmp0_ = NULL;
	SavedSearch* _tmp1_ = NULL;
	SearchesSidebarEntry* _tmp2_ = NULL;
	SearchesSidebarEntry* _tmp3_ = NULL;
#line 912 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 912 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_SAVED_SEARCH (search));
#line 913 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->saved_search_branch;
#line 913 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = search;
#line 913 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = searches_branch_get_entry_for_saved_search (_tmp0_, _tmp1_);
#line 913 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	entry = _tmp2_;
#line 914 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = entry;
#line 914 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp3_ != NULL) {
#line 6301 "LibraryWindow.c"
		SearchesSidebarEntry* _tmp4_ = NULL;
		Page* _tmp5_ = NULL;
		Page* _tmp6_ = NULL;
#line 915 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = entry;
#line 915 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = sidebar_page_representative_get_page (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative));
#line 915 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = _tmp5_;
#line 915 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_switch_to_page (self, _tmp6_);
#line 915 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp6_);
#line 6315 "LibraryWindow.c"
	}
#line 912 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (entry);
#line 6319 "LibraryWindow.c"
}


void library_window_switch_to_photo_page (LibraryWindow* self, CollectionPage* controller, Photo* current) {
	CollectionPage* _tmp0_ = NULL;
	ViewCollection* _tmp1_ = NULL;
	ViewCollection* _tmp2_ = NULL;
	Photo* _tmp3_ = NULL;
	DataView* _tmp4_ = NULL;
	DataView* _tmp5_ = NULL;
	LibraryPhotoPage* _tmp6_ = NULL;
	LibraryPhotoPage* _tmp9_ = NULL;
	CollectionPage* _tmp10_ = NULL;
	Photo* _tmp11_ = NULL;
	LibraryPhotoPage* _tmp12_ = NULL;
#line 918 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 918 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_COLLECTION_PAGE (controller));
#line 918 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_PHOTO (current));
#line 919 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = controller;
#line 919 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = page_get_view (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, TYPE_PAGE, Page));
#line 919 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _tmp1_;
#line 919 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = current;
#line 919 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = view_collection_get_view_for_source (_tmp2_, G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, TYPE_DATA_SOURCE, DataSource));
#line 919 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = _tmp4_;
#line 919 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_vala_assert (_tmp5_ != NULL, "controller.get_view().get_view_for_source(current) != null");
#line 919 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp5_);
#line 919 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_data_collection_unref0 (_tmp2_);
#line 920 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = self->priv->photo_page;
#line 920 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp6_ == NULL) {
#line 6363 "LibraryWindow.c"
		LibraryPhotoPage* _tmp7_ = NULL;
		LibraryPhotoPage* _tmp8_ = NULL;
#line 921 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = library_photo_page_new ();
#line 921 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_object_ref_sink (_tmp7_);
#line 921 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (self->priv->photo_page);
#line 921 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		self->priv->photo_page = _tmp7_;
#line 922 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = self->priv->photo_page;
#line 922 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_add_to_stack (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, TYPE_PAGE, Page));
#line 926 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		spin_event_loop ();
#line 6380 "LibraryWindow.c"
	}
#line 929 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = self->priv->photo_page;
#line 929 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp10_ = controller;
#line 929 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = current;
#line 929 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_photo_page_display_for_collection (_tmp9_, _tmp10_, _tmp11_, NULL);
#line 930 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = self->priv->photo_page;
#line 930 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_switch_to_page (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, TYPE_PAGE, Page));
#line 6394 "LibraryWindow.c"
}


void library_window_switch_to_import_queue_page (LibraryWindow* self) {
	LibraryBranch* _tmp0_ = NULL;
	LibraryImportQueueSidebarEntry* _tmp1_ = NULL;
	LibraryImportQueueSidebarEntry* _tmp2_ = NULL;
	Page* _tmp3_ = NULL;
	Page* _tmp4_ = NULL;
#line 933 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 934 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->library_branch;
#line 934 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = library_branch_get_import_queue_entry (_tmp0_);
#line 934 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _tmp1_;
#line 934 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = sidebar_page_representative_get_page (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative));
#line 934 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = _tmp3_;
#line 934 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_switch_to_page (self, _tmp4_);
#line 934 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp4_);
#line 6420 "LibraryWindow.c"
}


static void library_window_on_camera_added (LibraryWindow* self, DiscoveredCamera* camera) {
	CameraSidebarEntry* entry = NULL;
	CameraBranch* _tmp0_ = NULL;
	DiscoveredCamera* _tmp1_ = NULL;
	CameraSidebarEntry* _tmp2_ = NULL;
	CameraSidebarEntry* _tmp3_ = NULL;
	ImportPage* page = NULL;
	CameraSidebarEntry* _tmp4_ = NULL;
	Page* _tmp5_ = NULL;
	GFile* uri_file = NULL;
	DiscoveredCamera* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	GFile* _tmp8_ = NULL;
	GMount* mount = NULL;
	gboolean _tmp13_ = FALSE;
	GMount* _tmp14_ = NULL;
	GError * _inner_error_ = NULL;
#line 937 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 937 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_DISCOVERED_CAMERA (camera));
#line 938 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->camera_branch;
#line 938 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = camera;
#line 938 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = camera_branch_get_entry_for_camera (_tmp0_, _tmp1_);
#line 938 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	entry = _tmp2_;
#line 939 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = entry;
#line 939 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp3_ == NULL) {
#line 940 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (entry);
#line 940 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 6461 "LibraryWindow.c"
	}
#line 942 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = entry;
#line 942 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = sidebar_page_representative_get_page (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative));
#line 942 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	page = G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, TYPE_IMPORT_PAGE, ImportPage);
#line 943 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = camera;
#line 943 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = _tmp6_->uri;
#line 943 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = g_file_new_for_uri (_tmp7_);
#line 943 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	uri_file = _tmp8_;
#line 946 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	mount = NULL;
#line 6479 "LibraryWindow.c"
	{
		GMount* _tmp9_ = NULL;
		GFile* _tmp10_ = NULL;
		GMount* _tmp11_ = NULL;
		GMount* _tmp12_ = NULL;
#line 948 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = uri_file;
#line 948 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp11_ = g_file_find_enclosing_mount (_tmp10_, NULL, &_inner_error_);
#line 948 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = _tmp11_;
#line 948 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 6493 "LibraryWindow.c"
			goto __catch39_g_error;
		}
#line 948 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp12_ = _tmp9_;
#line 948 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = NULL;
#line 948 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (mount);
#line 948 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		mount = _tmp12_;
#line 947 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp9_);
#line 6506 "LibraryWindow.c"
	}
	goto __finally39;
	__catch39_g_error:
	{
		GError* err = NULL;
#line 947 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		err = _inner_error_;
#line 947 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_inner_error_ = NULL;
#line 947 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_error_free0 (err);
#line 6518 "LibraryWindow.c"
	}
	__finally39:
#line 947 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 947 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (mount);
#line 947 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (uri_file);
#line 947 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (page);
#line 947 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (entry);
#line 947 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 947 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_clear_error (&_inner_error_);
#line 947 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 6537 "LibraryWindow.c"
	}
#line 954 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp14_ = mount;
#line 954 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp14_ != NULL) {
#line 6543 "LibraryWindow.c"
		DiscoveredCamera* _tmp15_ = NULL;
		const gchar* _tmp16_ = NULL;
		gboolean _tmp17_ = FALSE;
#line 954 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp15_ = camera;
#line 954 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp16_ = _tmp15_->uri;
#line 954 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp17_ = g_str_has_prefix (_tmp16_, "file://");
#line 954 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp13_ = !_tmp17_;
#line 6555 "LibraryWindow.c"
	} else {
#line 954 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp13_ = FALSE;
#line 6559 "LibraryWindow.c"
	}
#line 954 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp13_) {
#line 6563 "LibraryWindow.c"
		ImportPage* _tmp18_ = NULL;
		GMount* _tmp19_ = NULL;
		gboolean _tmp20_ = FALSE;
#line 955 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp18_ = page;
#line 955 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp19_ = mount;
#line 955 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp20_ = import_page_unmount_camera (_tmp18_, _tmp19_);
#line 955 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp20_) {
#line 6575 "LibraryWindow.c"
			ImportPage* _tmp21_ = NULL;
#line 956 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp21_ = page;
#line 956 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			library_window_switch_to_page (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp21_, TYPE_PAGE, Page));
#line 6581 "LibraryWindow.c"
		} else {
#line 958 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			app_window_error_message ("Unable to unmount the camera at this time.", NULL);
#line 6585 "LibraryWindow.c"
		}
	} else {
		ImportPage* _tmp22_ = NULL;
#line 960 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp22_ = page;
#line 960 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_switch_to_page (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp22_, TYPE_PAGE, Page));
#line 6593 "LibraryWindow.c"
	}
#line 937 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (mount);
#line 937 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (uri_file);
#line 937 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (page);
#line 937 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (entry);
#line 6603 "LibraryWindow.c"
}


void library_window_add_to_stack (LibraryWindow* self, Page* page) {
	Page* _tmp0_ = NULL;
	GtkStack* _tmp1_ = NULL;
	Page* _tmp2_ = NULL;
	GtkStack* _tmp3_ = NULL;
#line 965 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 965 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_PAGE (page));
#line 967 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page;
#line 967 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_show_all (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, gtk_widget_get_type (), GtkWidget));
#line 969 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = self->priv->stack;
#line 969 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = page;
#line 969 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_container_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, gtk_container_get_type (), GtkContainer), G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, gtk_widget_get_type (), GtkWidget));
#line 971 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = self->priv->stack;
#line 971 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_show_all (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, gtk_widget_get_type (), GtkWidget));
#line 6630 "LibraryWindow.c"
}


static void library_window_remove_from_stack (LibraryWindow* self, Page* page) {
	GtkStack* _tmp0_ = NULL;
	Page* _tmp1_ = NULL;
	GtkStack* _tmp2_ = NULL;
#line 974 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 974 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_PAGE (page));
#line 975 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->stack;
#line 975 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = page;
#line 975 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_container_remove (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, gtk_container_get_type (), GtkContainer), G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, gtk_widget_get_type (), GtkWidget));
#line 978 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = self->priv->stack;
#line 978 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_show_all (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, gtk_widget_get_type (), GtkWidget));
#line 6652 "LibraryWindow.c"
}


static GVariant* _variant_new6 (gboolean value) {
#line 985 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return g_variant_ref_sink (g_variant_new_boolean (value));
#line 6659 "LibraryWindow.c"
}


static GVariant* _variant_new7 (gboolean value) {
#line 989 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return g_variant_ref_sink (g_variant_new_boolean (value));
#line 6666 "LibraryWindow.c"
}


static GVariant* _variant_new8 (gboolean value) {
#line 993 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return g_variant_ref_sink (g_variant_new_boolean (value));
#line 6673 "LibraryWindow.c"
}


static GVariant* _variant_new9 (const gchar* value) {
#line 1004 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return g_variant_ref_sink (g_variant_new_string (value));
#line 6680 "LibraryWindow.c"
}


static void library_window_load_configuration (LibraryWindow* self) {
	GAction* basic_display_action = NULL;
	GAction* _tmp0_ = NULL;
	GAction* _tmp1_ = NULL;
	GAction* _tmp2_ = NULL;
	GAction* _tmp3_ = NULL;
	ConfigFacade* _tmp4_ = NULL;
	ConfigFacade* _tmp5_ = NULL;
	gboolean _tmp6_ = FALSE;
	GVariant* _tmp7_ = NULL;
	GAction* extended_display_action = NULL;
	GAction* _tmp8_ = NULL;
	GAction* _tmp9_ = NULL;
	GAction* _tmp10_ = NULL;
	GAction* _tmp11_ = NULL;
	ConfigFacade* _tmp12_ = NULL;
	ConfigFacade* _tmp13_ = NULL;
	gboolean _tmp14_ = FALSE;
	GVariant* _tmp15_ = NULL;
	GAction* search_bar_display_action = NULL;
	GAction* _tmp16_ = NULL;
	GAction* _tmp17_ = NULL;
	GAction* _tmp18_ = NULL;
	GAction* _tmp19_ = NULL;
	ConfigFacade* _tmp20_ = NULL;
	ConfigFacade* _tmp21_ = NULL;
	gboolean _tmp22_ = FALSE;
	GVariant* _tmp23_ = NULL;
	GAction* sort_events_action = NULL;
	GAction* _tmp24_ = NULL;
	GAction* _tmp25_ = NULL;
	GAction* _tmp26_ = NULL;
	const gchar* _tmp27_ = NULL;
	ConfigFacade* _tmp28_ = NULL;
	ConfigFacade* _tmp29_ = NULL;
	gboolean _tmp30_ = FALSE;
	gboolean _tmp31_ = FALSE;
	gchar* event_sort_val = NULL;
	gchar* _tmp32_ = NULL;
	GAction* _tmp33_ = NULL;
	GVariant* _tmp34_ = NULL;
#line 982 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 983 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = g_action_map_lookup_action (G_TYPE_CHECK_INSTANCE_CAST (self, g_action_map_get_type (), GActionMap), "CommonDisplayBasicProperties");
#line 983 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 983 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	basic_display_action = _tmp1_;
#line 984 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = basic_display_action;
#line 984 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_vala_assert (_tmp2_ != NULL, "basic_display_action != null");
#line 985 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = basic_display_action;
#line 985 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = config_facade_get_instance ();
#line 985 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = _tmp4_;
#line 985 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = configuration_facade_get_display_basic_properties (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade));
#line 985 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = _variant_new6 (_tmp6_);
#line 985 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_action_change_state (_tmp3_, _tmp7_);
#line 985 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_variant_unref0 (_tmp7_);
#line 985 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp5_);
#line 987 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = g_action_map_lookup_action (G_TYPE_CHECK_INSTANCE_CAST (self, g_action_map_get_type (), GActionMap), "CommonDisplayExtendedProperties");
#line 987 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = _g_object_ref0 (_tmp8_);
#line 987 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	extended_display_action = _tmp9_;
#line 988 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp10_ = extended_display_action;
#line 988 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_vala_assert (_tmp10_ != NULL, "extended_display_action != null");
#line 989 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = extended_display_action;
#line 989 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = config_facade_get_instance ();
#line 989 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp13_ = _tmp12_;
#line 989 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp14_ = configuration_facade_get_display_extended_properties (G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade));
#line 989 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp15_ = _variant_new7 (_tmp14_);
#line 989 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_action_change_state (_tmp11_, _tmp15_);
#line 989 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_variant_unref0 (_tmp15_);
#line 989 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp13_);
#line 991 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp16_ = g_action_map_lookup_action (G_TYPE_CHECK_INSTANCE_CAST (self, g_action_map_get_type (), GActionMap), "CommonDisplaySearchbar");
#line 991 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp17_ = _g_object_ref0 (_tmp16_);
#line 991 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	search_bar_display_action = _tmp17_;
#line 992 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp18_ = search_bar_display_action;
#line 992 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_vala_assert (_tmp18_ != NULL, "search_bar_display_action != null");
#line 993 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp19_ = search_bar_display_action;
#line 993 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp20_ = config_facade_get_instance ();
#line 993 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp21_ = _tmp20_;
#line 993 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp22_ = configuration_facade_get_display_search_bar (G_TYPE_CHECK_INSTANCE_CAST (_tmp21_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade));
#line 993 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp23_ = _variant_new8 (_tmp22_);
#line 993 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_action_change_state (_tmp19_, _tmp23_);
#line 993 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_variant_unref0 (_tmp23_);
#line 993 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp21_);
#line 995 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp24_ = g_action_map_lookup_action (G_TYPE_CHECK_INSTANCE_CAST (self, g_action_map_get_type (), GActionMap), "CommonSortEvents");
#line 995 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp25_ = _g_object_ref0 (_tmp24_);
#line 995 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	sort_events_action = _tmp25_;
#line 996 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp26_ = sort_events_action;
#line 996 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_vala_assert (_tmp26_ != NULL, "sort_events_action != null");
#line 1001 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp28_ = config_facade_get_instance ();
#line 1001 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp29_ = _tmp28_;
#line 1001 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp30_ = configuration_facade_get_events_sort_ascending (G_TYPE_CHECK_INSTANCE_CAST (_tmp29_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade));
#line 1001 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp31_ = _tmp30_;
#line 1001 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp29_);
#line 1001 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp31_) {
#line 1001 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp27_ = LIBRARY_WINDOW_SORT_EVENTS_ORDER_ASCENDING;
#line 6829 "LibraryWindow.c"
	} else {
#line 1002 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp27_ = LIBRARY_WINDOW_SORT_EVENTS_ORDER_DESCENDING;
#line 6833 "LibraryWindow.c"
	}
#line 1001 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp32_ = g_strdup (_tmp27_);
#line 1001 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	event_sort_val = _tmp32_;
#line 1004 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp33_ = sort_events_action;
#line 1004 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp34_ = _variant_new9 (event_sort_val);
#line 1004 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_action_change_state (_tmp33_, _tmp34_);
#line 1004 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_variant_unref0 (_tmp34_);
#line 982 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_free0 (event_sort_val);
#line 982 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (sort_events_action);
#line 982 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (search_bar_display_action);
#line 982 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (extended_display_action);
#line 982 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (basic_display_action);
#line 6857 "LibraryWindow.c"
}


static gboolean _library_window_on_pulse_background_progress_bar_gsource_func (gpointer self) {
	gboolean result;
	result = library_window_on_pulse_background_progress_bar ((LibraryWindow*) self);
#line 1019 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 6866 "LibraryWindow.c"
}


static void library_window_start_pulse_background_progress_bar (LibraryWindow* self, const gchar* label, gint priority) {
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	gint _tmp3_ = 0;
	GtkProgressBar* _tmp4_ = NULL;
	const gchar* _tmp5_ = NULL;
	GtkProgressBar* _tmp6_ = NULL;
	guint _tmp7_ = 0U;
#line 1007 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1007 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (label != NULL);
#line 1008 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = priority;
#line 1008 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = self->priv->current_progress_priority;
#line 1008 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp0_ < _tmp1_) {
#line 1009 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 6891 "LibraryWindow.c"
	}
#line 1011 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = priority;
#line 1011 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_stop_pulse_background_progress_bar (self, _tmp2_, FALSE);
#line 1013 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = priority;
#line 1013 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->current_progress_priority = _tmp3_;
#line 1015 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = self->priv->background_progress_bar;
#line 1015 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = label;
#line 1015 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_progress_bar_set_text (_tmp4_, _tmp5_);
#line 1016 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = self->priv->background_progress_bar;
#line 1016 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_progress_bar_pulse (_tmp6_);
#line 1017 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_show_background_progress_bar (self);
#line 1019 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) LIBRARY_WINDOW_BACKGROUND_PROGRESS_PULSE_MSEC, _library_window_on_pulse_background_progress_bar_gsource_func, g_object_ref (self), g_object_unref);
#line 1019 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->background_progress_pulse_id = _tmp7_;
#line 6917 "LibraryWindow.c"
}


static gboolean library_window_on_pulse_background_progress_bar (LibraryWindow* self) {
	gboolean result = FALSE;
	GtkProgressBar* _tmp0_ = NULL;
#line 1023 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (IS_LIBRARY_WINDOW (self), FALSE);
#line 1024 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->background_progress_bar;
#line 1024 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_progress_bar_pulse (_tmp0_);
#line 1026 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	result = TRUE;
#line 1026 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 6934 "LibraryWindow.c"
}


static void library_window_stop_pulse_background_progress_bar (LibraryWindow* self, gint priority, gboolean clear) {
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	guint _tmp2_ = 0U;
	gboolean _tmp4_ = FALSE;
#line 1029 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1030 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = priority;
#line 1030 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = self->priv->current_progress_priority;
#line 1030 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp0_ < _tmp1_) {
#line 1031 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 6953 "LibraryWindow.c"
	}
#line 1033 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = self->priv->background_progress_pulse_id;
#line 1033 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp2_ != ((guint) 0)) {
#line 6959 "LibraryWindow.c"
		guint _tmp3_ = 0U;
#line 1034 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = self->priv->background_progress_pulse_id;
#line 1034 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_source_remove (_tmp3_);
#line 1035 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		self->priv->background_progress_pulse_id = (guint) 0;
#line 6967 "LibraryWindow.c"
	}
#line 1038 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = clear;
#line 1038 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp4_) {
#line 6973 "LibraryWindow.c"
		gint _tmp5_ = 0;
#line 1039 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = priority;
#line 1039 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_clear_background_progress_bar (self, _tmp5_);
#line 6979 "LibraryWindow.c"
	}
}


static void library_window_update_background_progress_bar (LibraryWindow* self, const gchar* label, gint priority, gdouble count, gdouble total) {
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_ = FALSE;
	gdouble _tmp5_ = 0.0;
	gint _tmp10_ = 0;
	gdouble fraction = 0.0;
	gdouble _tmp11_ = 0.0;
	gdouble _tmp12_ = 0.0;
	GtkProgressBar* _tmp13_ = NULL;
	gdouble _tmp14_ = 0.0;
	GtkProgressBar* _tmp15_ = NULL;
	const gchar* _tmp16_ = NULL;
	const gchar* _tmp17_ = NULL;
	gdouble _tmp18_ = 0.0;
	gchar* _tmp19_ = NULL;
	gchar* _tmp20_ = NULL;
#line 1042 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1042 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (label != NULL);
#line 1044 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = priority;
#line 1044 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = self->priv->current_progress_priority;
#line 1044 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp0_ < _tmp1_) {
#line 1045 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 7015 "LibraryWindow.c"
	}
#line 1047 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = priority;
#line 1047 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_stop_pulse_background_progress_bar (self, _tmp2_, FALSE);
#line 1049 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = count;
#line 1049 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp5_ <= 0.0) {
#line 1049 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = TRUE;
#line 7027 "LibraryWindow.c"
	} else {
		gdouble _tmp6_ = 0.0;
#line 1049 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = total;
#line 1049 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = _tmp6_ <= 0.0;
#line 7034 "LibraryWindow.c"
	}
#line 1049 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp4_) {
#line 1049 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = TRUE;
#line 7040 "LibraryWindow.c"
	} else {
		gdouble _tmp7_ = 0.0;
		gdouble _tmp8_ = 0.0;
#line 1049 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = count;
#line 1049 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = total;
#line 1049 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = _tmp7_ >= _tmp8_;
#line 7050 "LibraryWindow.c"
	}
#line 1049 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp3_) {
#line 7054 "LibraryWindow.c"
		gint _tmp9_ = 0;
#line 1050 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = priority;
#line 1050 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_clear_background_progress_bar (self, _tmp9_);
#line 1052 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 7062 "LibraryWindow.c"
	}
#line 1055 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp10_ = priority;
#line 1055 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->current_progress_priority = _tmp10_;
#line 1057 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = count;
#line 1057 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = total;
#line 1057 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	fraction = _tmp11_ / _tmp12_;
#line 1058 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp13_ = self->priv->background_progress_bar;
#line 1058 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp14_ = fraction;
#line 1058 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_progress_bar_set_fraction (_tmp13_, _tmp14_);
#line 1059 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp15_ = self->priv->background_progress_bar;
#line 1059 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp16_ = _ ("%s (%d%%)");
#line 1059 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp17_ = label;
#line 1059 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp18_ = fraction;
#line 1059 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp19_ = g_strdup_printf (_tmp16_, _tmp17_, (gint) (_tmp18_ * 100.0));
#line 1059 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp20_ = _tmp19_;
#line 1059 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_progress_bar_set_text (_tmp15_, _tmp20_);
#line 1059 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_free0 (_tmp20_);
#line 1060 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_show_background_progress_bar (self);
#line 7098 "LibraryWindow.c"
}


static void library_window_clear_background_progress_bar (LibraryWindow* self, gint priority) {
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	GtkProgressBar* _tmp3_ = NULL;
	GtkProgressBar* _tmp4_ = NULL;
#line 1069 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1070 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = priority;
#line 1070 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = self->priv->current_progress_priority;
#line 1070 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp0_ < _tmp1_) {
#line 1071 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 7118 "LibraryWindow.c"
	}
#line 1073 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = priority;
#line 1073 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_stop_pulse_background_progress_bar (self, _tmp2_, FALSE);
#line 1075 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->current_progress_priority = 0;
#line 1077 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = self->priv->background_progress_bar;
#line 1077 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_progress_bar_set_fraction (_tmp3_, 0.0);
#line 1078 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = self->priv->background_progress_bar;
#line 1078 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_progress_bar_set_text (_tmp4_, "");
#line 1079 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_hide_background_progress_bar (self);
#line 7136 "LibraryWindow.c"
}


static void library_window_show_background_progress_bar (LibraryWindow* self) {
	gboolean _tmp0_ = FALSE;
#line 1087 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1088 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->background_progress_displayed;
#line 1088 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (!_tmp0_) {
#line 7148 "LibraryWindow.c"
		GtkBox* _tmp1_ = NULL;
		GtkFrame* _tmp2_ = NULL;
		GtkFrame* _tmp3_ = NULL;
#line 1089 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp1_ = self->priv->top_section;
#line 1089 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp2_ = self->priv->background_progress_frame;
#line 1089 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gtk_box_pack_end (_tmp1_, G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, gtk_widget_get_type (), GtkWidget), FALSE, FALSE, (guint) 0);
#line 1090 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = self->priv->background_progress_frame;
#line 1090 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gtk_widget_show_all (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, gtk_widget_get_type (), GtkWidget));
#line 1091 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		self->priv->background_progress_displayed = TRUE;
#line 7164 "LibraryWindow.c"
	}
}


static void library_window_hide_background_progress_bar (LibraryWindow* self) {
	gboolean _tmp0_ = FALSE;
#line 1095 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1096 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->background_progress_displayed;
#line 1096 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp0_) {
#line 7177 "LibraryWindow.c"
		GtkBox* _tmp1_ = NULL;
		GtkFrame* _tmp2_ = NULL;
#line 1097 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp1_ = self->priv->top_section;
#line 1097 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp2_ = self->priv->background_progress_frame;
#line 1097 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gtk_container_remove (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, gtk_container_get_type (), GtkContainer), G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, gtk_widget_get_type (), GtkWidget));
#line 1098 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		self->priv->background_progress_displayed = FALSE;
#line 7188 "LibraryWindow.c"
	}
}


static void library_window_on_library_monitor_discovery_started (LibraryWindow* self) {
	const gchar* _tmp0_ = NULL;
#line 1102 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1103 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = _ ("Updating library…");
#line 1103 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_start_pulse_background_progress_bar (self, _tmp0_, LIBRARY_WINDOW_STARTUP_SCAN_PROGRESS_PRIORITY);
#line 7201 "LibraryWindow.c"
}


static void library_window_on_library_monitor_discovery_completed (LibraryWindow* self) {
#line 1106 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1107 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_stop_pulse_background_progress_bar (self, LIBRARY_WINDOW_STARTUP_SCAN_PROGRESS_PRIORITY, TRUE);
#line 7210 "LibraryWindow.c"
}


static void library_window_on_library_monitor_auto_update_progress (LibraryWindow* self, gint completed_files, gint total_files) {
	gint _tmp0_ = 0;
#line 1110 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1111 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = total_files;
#line 1111 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp0_ < LIBRARY_WINDOW_MIN_PROGRESS_BAR_FILES) {
#line 1112 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_clear_background_progress_bar (self, LIBRARY_WINDOW_REALTIME_UPDATE_PROGRESS_PRIORITY);
#line 7224 "LibraryWindow.c"
	} else {
		const gchar* _tmp1_ = NULL;
		gint _tmp2_ = 0;
		gint _tmp3_ = 0;
#line 1114 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp1_ = _ ("Updating library…");
#line 1114 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp2_ = completed_files;
#line 1114 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = total_files;
#line 1114 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_update_background_progress_bar (self, _tmp1_, LIBRARY_WINDOW_REALTIME_UPDATE_PROGRESS_PRIORITY, (gdouble) _tmp2_, (gdouble) _tmp3_);
#line 7237 "LibraryWindow.c"
	}
}


static void library_window_on_library_monitor_auto_import_preparing (LibraryWindow* self) {
	const gchar* _tmp0_ = NULL;
#line 1119 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1120 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = _ ("Preparing to auto-import photos…");
#line 1120 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_start_pulse_background_progress_bar (self, _tmp0_, LIBRARY_WINDOW_REALTIME_IMPORT_PROGRESS_PRIORITY);
#line 7250 "LibraryWindow.c"
}


static void library_window_on_library_monitor_auto_import_progress (LibraryWindow* self, guint64 completed_bytes, guint64 total_bytes) {
	const gchar* _tmp0_ = NULL;
	guint64 _tmp1_ = 0ULL;
	guint64 _tmp2_ = 0ULL;
#line 1124 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1125 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = _ ("Auto-importing photos…");
#line 1125 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = completed_bytes;
#line 1125 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = total_bytes;
#line 1125 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_update_background_progress_bar (self, _tmp0_, LIBRARY_WINDOW_REALTIME_IMPORT_PROGRESS_PRIORITY, (gdouble) _tmp1_, (gdouble) _tmp2_);
#line 7268 "LibraryWindow.c"
}


static void library_window_on_metadata_writer_progress (LibraryWindow* self, guint completed, guint total) {
	guint _tmp0_ = 0U;
#line 1129 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1130 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = total;
#line 1130 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp0_ < ((guint) LIBRARY_WINDOW_MIN_PROGRESS_BAR_FILES)) {
#line 1131 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_clear_background_progress_bar (self, LIBRARY_WINDOW_METADATA_WRITER_PROGRESS_PRIORITY);
#line 7282 "LibraryWindow.c"
	} else {
		const gchar* _tmp1_ = NULL;
		guint _tmp2_ = 0U;
		guint _tmp3_ = 0U;
#line 1133 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp1_ = _ ("Writing metadata to files…");
#line 1133 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp2_ = completed;
#line 1133 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = total;
#line 1133 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_update_background_progress_bar (self, _tmp1_, LIBRARY_WINDOW_METADATA_WRITER_PROGRESS_PRIORITY, (gdouble) _tmp2_, (gdouble) _tmp3_);
#line 7295 "LibraryWindow.c"
	}
}


static void library_window_create_layout (LibraryWindow* self, Page* start_page) {
	GtkScrolledWindow* scrolled_sidebar = NULL;
	GtkScrolledWindow* _tmp0_ = NULL;
	SidebarTree* _tmp1_ = NULL;
	GtkFrame* _tmp2_ = NULL;
	GtkFrame* _tmp3_ = NULL;
	GtkProgressBar* _tmp4_ = NULL;
	GtkFrame* _tmp5_ = NULL;
	GtkStyleContext* _tmp6_ = NULL;
	BasicProperties* _tmp7_ = NULL;
	BasicProperties* _tmp8_ = NULL;
	BasicProperties* _tmp9_ = NULL;
	BasicProperties* _tmp10_ = NULL;
	BasicProperties* _tmp11_ = NULL;
	BasicProperties* _tmp12_ = NULL;
	BasicProperties* _tmp13_ = NULL;
	BasicProperties* _tmp14_ = NULL;
	GtkFrame* _tmp15_ = NULL;
	BasicProperties* _tmp16_ = NULL;
	GtkFrame* _tmp17_ = NULL;
	GtkStyleContext* _tmp18_ = NULL;
	GtkBox* _tmp19_ = NULL;
	GtkPaned* _tmp20_ = NULL;
	GtkBox* _tmp21_ = NULL;
	GtkPaned* _tmp22_ = NULL;
	GtkFrame* _tmp23_ = NULL;
	GtkPaned* _tmp24_ = NULL;
	GtkBox* _tmp25_ = NULL;
	GtkBox* _tmp26_ = NULL;
	SearchFilterToolbar* _tmp27_ = NULL;
	GtkBox* _tmp28_ = NULL;
	GtkStack* _tmp29_ = NULL;
	GtkPaned* _tmp30_ = NULL;
	GtkPaned* _tmp31_ = NULL;
	GtkPaned* _tmp32_ = NULL;
	SidebarTree* _tmp33_ = NULL;
	GtkPaned* _tmp34_ = NULL;
	GtkBox* _tmp35_ = NULL;
	GtkPaned* _tmp36_ = NULL;
	ConfigFacade* _tmp37_ = NULL;
	ConfigFacade* _tmp38_ = NULL;
	gint _tmp39_ = 0;
	GtkStack* _tmp40_ = NULL;
	gint _tmp41_ = 0;
	gint _tmp42_ = 0;
	GtkBox* _tmp43_ = NULL;
	GtkPaned* _tmp44_ = NULL;
	GtkBox* _tmp45_ = NULL;
	Page* _tmp46_ = NULL;
	Page* _tmp47_ = NULL;
#line 1138 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1138 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_PAGE (start_page));
#line 1141 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
#line 1141 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp0_);
#line 1141 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	scrolled_sidebar = _tmp0_;
#line 1142 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_scrolled_window_set_policy (scrolled_sidebar, GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);
#line 1143 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = self->priv->sidebar_tree;
#line 1143 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_container_add (G_TYPE_CHECK_INSTANCE_CAST (scrolled_sidebar, gtk_container_get_type (), GtkContainer), G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, gtk_widget_get_type (), GtkWidget));
#line 1145 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = self->priv->background_progress_frame;
#line 1145 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_container_set_border_width (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, gtk_container_get_type (), GtkContainer), (guint) 2);
#line 1146 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = self->priv->background_progress_frame;
#line 1146 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = self->priv->background_progress_bar;
#line 1146 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_container_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, gtk_container_get_type (), GtkContainer), G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, gtk_widget_get_type (), GtkWidget));
#line 1147 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = self->priv->background_progress_frame;
#line 1147 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = gtk_widget_get_style_context (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, gtk_widget_get_type (), GtkWidget));
#line 1147 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_style_context_remove_class (_tmp6_, "frame");
#line 1150 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = self->priv->basic_properties;
#line 1150 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_set_halign (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, gtk_widget_get_type (), GtkWidget), GTK_ALIGN_FILL);
#line 1151 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = self->priv->basic_properties;
#line 1151 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_set_valign (G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, gtk_widget_get_type (), GtkWidget), GTK_ALIGN_CENTER);
#line 1152 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = self->priv->basic_properties;
#line 1152 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_set_hexpand (G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, gtk_widget_get_type (), GtkWidget), TRUE);
#line 1153 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp10_ = self->priv->basic_properties;
#line 1153 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_set_vexpand (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, gtk_widget_get_type (), GtkWidget), FALSE);
#line 1154 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = self->priv->basic_properties;
#line 1154 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_set_margin_top (G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, gtk_widget_get_type (), GtkWidget), 10);
#line 1155 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = self->priv->basic_properties;
#line 1155 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_set_margin_bottom (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, gtk_widget_get_type (), GtkWidget), 10);
#line 1156 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp13_ = self->priv->basic_properties;
#line 1156 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_set_margin_start (G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, gtk_widget_get_type (), GtkWidget), 6);
#line 1157 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp14_ = self->priv->basic_properties;
#line 1157 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_set_margin_end (G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, gtk_widget_get_type (), GtkWidget), 0);
#line 1159 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp15_ = self->priv->bottom_frame;
#line 1159 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp16_ = self->priv->basic_properties;
#line 1159 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_container_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp15_, gtk_container_get_type (), GtkContainer), G_TYPE_CHECK_INSTANCE_CAST (_tmp16_, gtk_widget_get_type (), GtkWidget));
#line 1160 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp17_ = self->priv->bottom_frame;
#line 1160 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp18_ = gtk_widget_get_style_context (G_TYPE_CHECK_INSTANCE_CAST (_tmp17_, gtk_widget_get_type (), GtkWidget));
#line 1160 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_style_context_remove_class (_tmp18_, "frame");
#line 1164 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp19_ = self->priv->top_section;
#line 1164 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_box_pack_start (_tmp19_, G_TYPE_CHECK_INSTANCE_CAST (scrolled_sidebar, gtk_widget_get_type (), GtkWidget), TRUE, TRUE, (guint) 0);
#line 1166 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp20_ = self->priv->sidebar_paned;
#line 1166 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp21_ = self->priv->top_section;
#line 1166 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_paned_pack1 (_tmp20_, G_TYPE_CHECK_INSTANCE_CAST (_tmp21_, gtk_widget_get_type (), GtkWidget), TRUE, FALSE);
#line 1167 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp22_ = self->priv->sidebar_paned;
#line 1167 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp23_ = self->priv->bottom_frame;
#line 1167 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_paned_pack2 (_tmp22_, G_TYPE_CHECK_INSTANCE_CAST (_tmp23_, gtk_widget_get_type (), GtkWidget), FALSE, FALSE);
#line 1168 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp24_ = self->priv->sidebar_paned;
#line 1168 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_paned_set_position (_tmp24_, 1000);
#line 1170 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp25_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 0);
#line 1170 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp25_);
#line 1170 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->right_vbox);
#line 1170 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->right_vbox = _tmp25_;
#line 1171 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp26_ = self->priv->right_vbox;
#line 1171 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp27_ = self->priv->search_toolbar;
#line 1171 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_box_pack_start (_tmp26_, G_TYPE_CHECK_INSTANCE_CAST (_tmp27_, gtk_widget_get_type (), GtkWidget), FALSE, FALSE, (guint) 0);
#line 1172 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp28_ = self->priv->right_vbox;
#line 1172 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp29_ = self->priv->stack;
#line 1172 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_box_pack_start (_tmp28_, G_TYPE_CHECK_INSTANCE_CAST (_tmp29_, gtk_widget_get_type (), GtkWidget), TRUE, TRUE, (guint) 0);
#line 1174 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp30_ = (GtkPaned*) gtk_paned_new (GTK_ORIENTATION_HORIZONTAL);
#line 1174 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp30_);
#line 1174 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->client_paned);
#line 1174 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->client_paned = _tmp30_;
#line 1175 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp31_ = self->priv->client_paned;
#line 1175 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp32_ = self->priv->sidebar_paned;
#line 1175 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_paned_pack1 (_tmp31_, G_TYPE_CHECK_INSTANCE_CAST (_tmp32_, gtk_widget_get_type (), GtkWidget), FALSE, FALSE);
#line 1176 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp33_ = self->priv->sidebar_tree;
#line 1176 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_set_size_request (G_TYPE_CHECK_INSTANCE_CAST (_tmp33_, gtk_widget_get_type (), GtkWidget), LIBRARY_WINDOW_SIDEBAR_MIN_WIDTH, -1);
#line 1177 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp34_ = self->priv->client_paned;
#line 1177 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp35_ = self->priv->right_vbox;
#line 1177 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_paned_pack2 (_tmp34_, G_TYPE_CHECK_INSTANCE_CAST (_tmp35_, gtk_widget_get_type (), GtkWidget), TRUE, FALSE);
#line 1178 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp36_ = self->priv->client_paned;
#line 1178 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp37_ = config_facade_get_instance ();
#line 1178 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp38_ = _tmp37_;
#line 1178 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp39_ = configuration_facade_get_sidebar_position (G_TYPE_CHECK_INSTANCE_CAST (_tmp38_, TYPE_CONFIGURATION_FACADE, ConfigurationFacade));
#line 1178 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_paned_set_position (_tmp36_, _tmp39_);
#line 1178 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp38_);
#line 1180 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp40_ = self->priv->stack;
#line 1180 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp41_ = library_window_get_PAGE_MIN_WIDTH ();
#line 1180 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp42_ = _tmp41_;
#line 1180 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_set_size_request (G_TYPE_CHECK_INSTANCE_CAST (_tmp40_, gtk_widget_get_type (), GtkWidget), _tmp42_, -1);
#line 1182 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp43_ = self->priv->layout;
#line 1182 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp44_ = self->priv->client_paned;
#line 1182 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_box_pack_end (_tmp43_, G_TYPE_CHECK_INSTANCE_CAST (_tmp44_, gtk_widget_get_type (), GtkWidget), TRUE, TRUE, (guint) 0);
#line 1184 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp45_ = self->priv->layout;
#line 1184 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_container_add (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_container_get_type (), GtkContainer), G_TYPE_CHECK_INSTANCE_CAST (_tmp45_, gtk_widget_get_type (), GtkWidget));
#line 1186 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp46_ = start_page;
#line 1186 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_switch_to_page (self, _tmp46_);
#line 1187 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp47_ = start_page;
#line 1187 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_grab_focus (G_TYPE_CHECK_INSTANCE_CAST (_tmp47_, gtk_widget_get_type (), GtkWidget));
#line 1138 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (scrolled_sidebar);
#line 7530 "LibraryWindow.c"
}


static void library_window_real_set_current_page (PageWindow* base, Page* page) {
	LibraryWindow * self;
	Page* _tmp0_ = NULL;
#line 1190 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_LIBRARY_WINDOW, LibraryWindow);
#line 1190 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_PAGE (page));
#line 1192 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page;
#line 1192 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_switch_to_page (self, _tmp0_);
#line 7545 "LibraryWindow.c"
}


void library_window_set_page_switching_enabled (LibraryWindow* self, gboolean should_enable) {
	gboolean _tmp0_ = FALSE;
#line 1195 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1196 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = should_enable;
#line 1196 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->page_switching_enabled = _tmp0_;
#line 7557 "LibraryWindow.c"
}


void library_window_switch_to_page (LibraryWindow* self, Page* page) {
	gboolean _tmp0_ = FALSE;
	Page* _tmp1_ = NULL;
	Page* _tmp2_ = NULL;
	Page* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	Page* current_page = NULL;
	Page* _tmp5_ = NULL;
	Page* _tmp6_ = NULL;
	GtkStack* _tmp16_ = NULL;
	Page* _tmp17_ = NULL;
	Page* _tmp18_ = NULL;
	Page* _tmp19_ = NULL;
	gboolean _tmp21_ = FALSE;
	Page* _tmp22_ = NULL;
	SidebarEntry* entry = NULL;
	GeeHashMap* _tmp23_ = NULL;
	Page* _tmp24_ = NULL;
	gpointer _tmp25_ = NULL;
	SidebarEntry* _tmp26_ = NULL;
	Page* _tmp37_ = NULL;
	Page* _tmp39_ = NULL;
	Page* _tmp40_ = NULL;
	Page* _tmp41_ = NULL;
	Page* _tmp42_ = NULL;
	Page* _tmp43_ = NULL;
	GMenuModel* _tmp44_ = NULL;
	GMenuModel* _tmp45_ = NULL;
	GtkToolbar* toolbar = NULL;
	Page* _tmp46_ = NULL;
	GtkToolbar* _tmp47_ = NULL;
	GtkToolbar* _tmp48_ = NULL;
	Page* _tmp54_ = NULL;
#line 1199 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1199 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_PAGE (page));
#line 1200 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->page_switching_enabled;
#line 1200 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (!_tmp0_) {
#line 1201 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 7604 "LibraryWindow.c"
	}
#line 1203 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = page;
#line 1203 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 1203 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _tmp2_;
#line 1203 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = _tmp1_ == _tmp3_;
#line 1203 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp3_);
#line 1203 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp4_) {
#line 1204 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 7620 "LibraryWindow.c"
	}
#line 1206 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 1206 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	current_page = _tmp5_;
#line 1207 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = current_page;
#line 1207 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp6_ != NULL) {
#line 7630 "LibraryWindow.c"
		GtkToolbar* toolbar = NULL;
		Page* _tmp7_ = NULL;
		GtkToolbar* _tmp8_ = NULL;
		GtkToolbar* _tmp9_ = NULL;
		Page* _tmp12_ = NULL;
		Page* _tmp13_ = NULL;
		Page* _tmp15_ = NULL;
#line 1208 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gtk_application_window_set_show_menubar (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_application_window_get_type (), GtkApplicationWindow), FALSE);
#line 1209 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		application_set_menubar (NULL);
#line 1211 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = current_page;
#line 1211 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = page_get_toolbar (_tmp7_);
#line 1211 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		toolbar = _tmp8_;
#line 1212 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = toolbar;
#line 1212 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp9_ != NULL) {
#line 7652 "LibraryWindow.c"
			GtkBox* _tmp10_ = NULL;
			GtkToolbar* _tmp11_ = NULL;
#line 1213 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp10_ = self->priv->right_vbox;
#line 1213 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp11_ = toolbar;
#line 1213 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			gtk_container_remove (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, gtk_container_get_type (), GtkContainer), G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, gtk_widget_get_type (), GtkWidget));
#line 7661 "LibraryWindow.c"
		}
#line 1215 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp12_ = current_page;
#line 1215 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		page_switching_from (_tmp12_);
#line 1219 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp13_ = current_page;
#line 1219 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp13_, TYPE_LIBRARY_PHOTO_PAGE)) {
#line 7671 "LibraryWindow.c"
			SidebarTree* _tmp14_ = NULL;
#line 1220 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp14_ = self->priv->sidebar_tree;
#line 1220 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			sidebar_tree_enable_editing (_tmp14_);
#line 7677 "LibraryWindow.c"
		}
#line 1223 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp15_ = current_page;
#line 1223 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_unsubscribe_from_basic_information (self, _tmp15_);
#line 1207 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (toolbar);
#line 7685 "LibraryWindow.c"
	}
#line 1226 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp16_ = self->priv->stack;
#line 1226 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp17_ = page;
#line 1226 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_stack_set_visible_child (_tmp16_, G_TYPE_CHECK_INSTANCE_CAST (_tmp17_, gtk_widget_get_type (), GtkWidget));
#line 1230 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp18_ = page;
#line 1230 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	PAGE_WINDOW_CLASS (library_window_parent_class)->set_current_page (G_TYPE_CHECK_INSTANCE_CAST (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), TYPE_PAGE_WINDOW, PageWindow), _tmp18_);
#line 1236 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp19_ = page;
#line 1236 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp19_, TYPE_LIBRARY_PHOTO_PAGE)) {
#line 7701 "LibraryWindow.c"
		SidebarTree* _tmp20_ = NULL;
#line 1237 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp20_ = self->priv->sidebar_tree;
#line 1237 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		sidebar_tree_disable_editing (_tmp20_);
#line 7707 "LibraryWindow.c"
	}
#line 1240 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp21_ = library_window_should_show_search_bar (self);
#line 1240 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp22_ = page;
#line 1240 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_toggle_search_bar (self, _tmp21_, G_TYPE_CHECK_INSTANCE_TYPE (_tmp22_, TYPE_CHECKERBOARD_PAGE) ? ((CheckerboardPage*) _tmp22_) : NULL);
#line 1243 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp23_ = self->priv->page_map;
#line 1243 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp24_ = page;
#line 1243 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp25_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp23_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp24_);
#line 1243 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	entry = (SidebarEntry*) _tmp25_;
#line 1244 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp26_ = entry;
#line 1244 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp26_ != NULL) {
#line 7727 "LibraryWindow.c"
		SidebarExpandableEntry* expandable_entry = NULL;
		SidebarEntry* _tmp27_ = NULL;
		SidebarExpandableEntry* _tmp28_ = NULL;
		gboolean _tmp29_ = FALSE;
		SidebarExpandableEntry* _tmp30_ = NULL;
		SidebarTree* _tmp35_ = NULL;
		SidebarEntry* _tmp36_ = NULL;
#line 1247 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp27_ = entry;
#line 1247 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp28_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp27_, SIDEBAR_TYPE_EXPANDABLE_ENTRY) ? ((SidebarExpandableEntry*) _tmp27_) : NULL);
#line 1247 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		expandable_entry = _tmp28_;
#line 1248 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp30_ = expandable_entry;
#line 1248 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp30_ != NULL) {
#line 7745 "LibraryWindow.c"
			SidebarExpandableEntry* _tmp31_ = NULL;
			gboolean _tmp32_ = FALSE;
#line 1248 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp31_ = expandable_entry;
#line 1248 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp32_ = sidebar_expandable_entry_expand_on_select (_tmp31_);
#line 1248 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp29_ = _tmp32_;
#line 7754 "LibraryWindow.c"
		} else {
#line 1248 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp29_ = FALSE;
#line 7758 "LibraryWindow.c"
		}
#line 1248 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp29_) {
#line 7762 "LibraryWindow.c"
			SidebarTree* _tmp33_ = NULL;
			SidebarEntry* _tmp34_ = NULL;
#line 1249 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp33_ = self->priv->sidebar_tree;
#line 1249 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp34_ = entry;
#line 1249 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			sidebar_tree_expand_to_entry (_tmp33_, _tmp34_);
#line 7771 "LibraryWindow.c"
		}
#line 1251 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp35_ = self->priv->sidebar_tree;
#line 1251 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp36_ = entry;
#line 1251 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		sidebar_tree_place_cursor (_tmp35_, _tmp36_, TRUE);
#line 1244 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (expandable_entry);
#line 7781 "LibraryWindow.c"
	}
#line 1254 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_update_properties (self);
#line 1256 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp37_ = page;
#line 1256 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp37_, TYPE_CHECKERBOARD_PAGE)) {
#line 7789 "LibraryWindow.c"
		Page* _tmp38_ = NULL;
#line 1257 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp38_ = page;
#line 1257 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_init_view_filter (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp38_, TYPE_CHECKERBOARD_PAGE, CheckerboardPage));
#line 7795 "LibraryWindow.c"
	}
#line 1259 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp39_ = page;
#line 1259 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_widget_show_all (G_TYPE_CHECK_INSTANCE_CAST (_tmp39_, gtk_widget_get_type (), GtkWidget));
#line 1262 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp40_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 1262 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp41_ = _tmp40_;
#line 1262 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_subscribe_for_basic_information (self, _tmp41_);
#line 1262 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp41_);
#line 1264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp42_ = page;
#line 1264 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	page_switched_to (_tmp42_);
#line 1266 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp43_ = page;
#line 1266 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp44_ = page_get_menubar (_tmp43_);
#line 1266 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp45_ = _tmp44_;
#line 1266 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	application_set_menubar (_tmp45_);
#line 1266 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp45_);
#line 1267 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_application_window_set_show_menubar (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_application_window_get_type (), GtkApplicationWindow), TRUE);
#line 1269 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp46_ = page;
#line 1269 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp47_ = page_get_toolbar (_tmp46_);
#line 1269 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	toolbar = _tmp47_;
#line 1270 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp48_ = toolbar;
#line 1270 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp48_ != NULL) {
#line 7835 "LibraryWindow.c"
		GtkBox* _tmp49_ = NULL;
		GtkToolbar* _tmp50_ = NULL;
		GtkToolbar* _tmp51_ = NULL;
		GtkToolbar* _tmp52_ = NULL;
		gboolean _tmp53_ = FALSE;
#line 1271 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp49_ = self->priv->right_vbox;
#line 1271 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp50_ = toolbar;
#line 1271 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gtk_container_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp49_, gtk_container_get_type (), GtkContainer), G_TYPE_CHECK_INSTANCE_CAST (_tmp50_, gtk_widget_get_type (), GtkWidget));
#line 1272 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp51_ = toolbar;
#line 1272 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gtk_widget_show_all (G_TYPE_CHECK_INSTANCE_CAST (_tmp51_, gtk_widget_get_type (), GtkWidget));
#line 1273 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp52_ = toolbar;
#line 1273 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp53_ = library_window_is_toolbar_visible (self);
#line 1273 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		gtk_widget_set_visible (G_TYPE_CHECK_INSTANCE_CAST (_tmp52_, gtk_widget_get_type (), GtkWidget), _tmp53_);
#line 7857 "LibraryWindow.c"
	}
#line 1276 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp54_ = page;
#line 1276 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	page_ready (_tmp54_);
#line 1199 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (toolbar);
#line 1199 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (entry);
#line 1199 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (current_page);
#line 7869 "LibraryWindow.c"
}


static void library_window_init_view_filter (LibraryWindow* self, CheckerboardPage* page) {
	SearchFilterToolbar* _tmp0_ = NULL;
	CheckerboardPage* _tmp1_ = NULL;
	SearchViewFilter* _tmp2_ = NULL;
	SearchViewFilter* _tmp3_ = NULL;
	CheckerboardPage* _tmp4_ = NULL;
	ViewCollection* _tmp5_ = NULL;
	ViewCollection* _tmp6_ = NULL;
	CheckerboardPage* _tmp7_ = NULL;
	SearchViewFilter* _tmp8_ = NULL;
	SearchViewFilter* _tmp9_ = NULL;
#line 1279 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1279 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_CHECKERBOARD_PAGE (page));
#line 1280 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->search_toolbar;
#line 1280 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = page;
#line 1280 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = checkerboard_page_get_search_view_filter (_tmp1_);
#line 1280 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _tmp2_;
#line 1280 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	search_filter_toolbar_set_view_filter (_tmp0_, _tmp3_);
#line 1280 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_view_filter_unref0 (_tmp3_);
#line 1281 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = page;
#line 1281 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = page_get_view (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, TYPE_PAGE, Page));
#line 1281 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = _tmp5_;
#line 1281 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = page;
#line 1281 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = checkerboard_page_get_search_view_filter (_tmp7_);
#line 1281 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = _tmp8_;
#line 1281 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	view_collection_install_view_filter (_tmp6_, G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, TYPE_VIEW_FILTER, ViewFilter));
#line 1281 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_view_filter_unref0 (_tmp9_);
#line 1281 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_data_collection_unref0 (_tmp6_);
#line 7918 "LibraryWindow.c"
}


static gboolean library_window_should_show_search_bar (LibraryWindow* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	Page* _tmp1_ = NULL;
	Page* _tmp2_ = NULL;
	gboolean _tmp3_ = FALSE;
#line 1284 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (IS_LIBRARY_WINDOW (self), FALSE);
#line 1285 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 1285 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _tmp1_;
#line 1285 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, TYPE_CHECKERBOARD_PAGE);
#line 1285 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp2_);
#line 1285 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp3_) {
#line 7940 "LibraryWindow.c"
		gboolean _tmp4_ = FALSE;
#line 1285 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = self->priv->is_search_toolbar_visible;
#line 1285 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp0_ = _tmp4_;
#line 7946 "LibraryWindow.c"
	} else {
#line 1285 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp0_ = FALSE;
#line 7950 "LibraryWindow.c"
	}
#line 1285 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	result = _tmp0_;
#line 1285 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 7956 "LibraryWindow.c"
}


static void library_window_toggle_search_bar (LibraryWindow* self, gboolean show, CheckerboardPage* page) {
	SearchFilterToolbar* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
#line 1289 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1289 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail ((page == NULL) || IS_CHECKERBOARD_PAGE (page));
#line 1290 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->search_toolbar;
#line 1290 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = show;
#line 1290 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gtk_revealer_set_reveal_child (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, gtk_revealer_get_type (), GtkRevealer), _tmp1_);
#line 1291 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = show;
#line 1291 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp2_) {
#line 7978 "LibraryWindow.c"
		CheckerboardPage* _tmp3_ = NULL;
		SearchFilterToolbar* _tmp4_ = NULL;
		CheckerboardPage* _tmp5_ = NULL;
		SearchViewFilter* _tmp6_ = NULL;
		SearchViewFilter* _tmp7_ = NULL;
		CheckerboardPage* _tmp8_ = NULL;
		ViewCollection* _tmp9_ = NULL;
		ViewCollection* _tmp10_ = NULL;
		CheckerboardPage* _tmp11_ = NULL;
		SearchViewFilter* _tmp12_ = NULL;
		SearchViewFilter* _tmp13_ = NULL;
#line 1292 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = page;
#line 1292 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_vala_assert (NULL != _tmp3_, "null != page");
#line 1293 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = self->priv->search_toolbar;
#line 1293 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = page;
#line 1293 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = checkerboard_page_get_search_view_filter (_tmp5_);
#line 1293 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = _tmp6_;
#line 1293 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		search_filter_toolbar_set_view_filter (_tmp4_, _tmp7_);
#line 1293 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_view_filter_unref0 (_tmp7_);
#line 1294 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = page;
#line 1294 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = page_get_view (G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, TYPE_PAGE, Page));
#line 1294 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = _tmp9_;
#line 1294 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp11_ = page;
#line 1294 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp12_ = checkerboard_page_get_search_view_filter (_tmp11_);
#line 1294 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp13_ = _tmp12_;
#line 1294 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		view_collection_install_view_filter (_tmp10_, G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, TYPE_VIEW_FILTER, ViewFilter));
#line 1294 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_view_filter_unref0 (_tmp13_);
#line 1294 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_data_collection_unref0 (_tmp10_);
#line 8024 "LibraryWindow.c"
	} else {
		CheckerboardPage* _tmp14_ = NULL;
#line 1296 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp14_ = page;
#line 1296 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (_tmp14_ != NULL) {
#line 8031 "LibraryWindow.c"
			CheckerboardPage* _tmp15_ = NULL;
			ViewCollection* _tmp16_ = NULL;
			ViewCollection* _tmp17_ = NULL;
			DisabledViewFilter* _tmp18_ = NULL;
			DisabledViewFilter* _tmp19_ = NULL;
#line 1297 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp15_ = page;
#line 1297 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp16_ = page_get_view (G_TYPE_CHECK_INSTANCE_CAST (_tmp15_, TYPE_PAGE, Page));
#line 1297 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp17_ = _tmp16_;
#line 1297 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp18_ = disabled_view_filter_new ();
#line 1297 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp19_ = _tmp18_;
#line 1297 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			view_collection_install_view_filter (_tmp17_, G_TYPE_CHECK_INSTANCE_CAST (_tmp19_, TYPE_VIEW_FILTER, ViewFilter));
#line 1297 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_view_filter_unref0 (_tmp19_);
#line 1297 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_data_collection_unref0 (_tmp17_);
#line 8053 "LibraryWindow.c"
		}
	}
}


static void library_window_on_page_created (LibraryWindow* self, SidebarPageRepresentative* entry, Page* page) {
	GeeHashMap* _tmp0_ = NULL;
	Page* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	GeeHashMap* _tmp3_ = NULL;
	Page* _tmp4_ = NULL;
	SidebarPageRepresentative* _tmp5_ = NULL;
	Page* _tmp6_ = NULL;
#line 1301 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1301 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (SIDEBAR_IS_PAGE_REPRESENTATIVE (entry));
#line 1301 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_PAGE (page));
#line 1302 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->page_map;
#line 1302 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = page;
#line 1302 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = gee_abstract_map_has_key (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp1_);
#line 1302 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_vala_assert (!_tmp2_, "!page_map.has_key(page)");
#line 1303 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = self->priv->page_map;
#line 1303 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = page;
#line 1303 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = entry;
#line 1303 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gee_abstract_map_set (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp4_, G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, SIDEBAR_TYPE_ENTRY, SidebarEntry));
#line 1305 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = page;
#line 1305 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_add_to_stack (self, _tmp6_);
#line 8093 "LibraryWindow.c"
}


static void library_window_on_destroying_page (LibraryWindow* self, SidebarPageRepresentative* entry, Page* page) {
	Page* _tmp0_ = NULL;
	Page* _tmp1_ = NULL;
	Page* _tmp2_ = NULL;
	gboolean _tmp3_ = FALSE;
	Page* _tmp9_ = NULL;
	gboolean removed = FALSE;
	GeeHashMap* _tmp10_ = NULL;
	Page* _tmp11_ = NULL;
	gboolean _tmp12_ = FALSE;
#line 1308 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1308 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (SIDEBAR_IS_PAGE_REPRESENTATIVE (entry));
#line 1308 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_PAGE (page));
#line 1310 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page;
#line 1310 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 1310 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _tmp1_;
#line 1310 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _tmp0_ == _tmp2_;
#line 1310 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp2_);
#line 1310 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp3_) {
#line 8125 "LibraryWindow.c"
		LibraryBranch* _tmp4_ = NULL;
		LibraryPhotosEntry* _tmp5_ = NULL;
		LibraryPhotosEntry* _tmp6_ = NULL;
		Page* _tmp7_ = NULL;
		Page* _tmp8_ = NULL;
#line 1311 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = self->priv->library_branch;
#line 1311 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = library_branch_get_photos_entry (_tmp4_);
#line 1311 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = _tmp5_;
#line 1311 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = sidebar_page_representative_get_page (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative));
#line 1311 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = _tmp7_;
#line 1311 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_switch_to_page (self, _tmp8_);
#line 1311 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp8_);
#line 8145 "LibraryWindow.c"
	}
#line 1313 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = page;
#line 1313 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_remove_from_stack (self, _tmp9_);
#line 1315 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp10_ = self->priv->page_map;
#line 1315 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = page;
#line 1315 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = gee_abstract_map_unset (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp11_, NULL);
#line 1315 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	removed = _tmp12_;
#line 1316 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_vala_assert (removed, "removed");
#line 8161 "LibraryWindow.c"
}


static void library_window_on_sidebar_entry_selected (LibraryWindow* self, SidebarSelectableEntry* selectable) {
	SidebarPageRepresentative* page_rep = NULL;
	SidebarSelectableEntry* _tmp0_ = NULL;
	SidebarPageRepresentative* _tmp1_ = NULL;
	SidebarPageRepresentative* _tmp2_ = NULL;
#line 1319 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1319 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (SIDEBAR_IS_SELECTABLE_ENTRY (selectable));
#line 1320 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = selectable;
#line 1320 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE) ? ((SidebarPageRepresentative*) _tmp0_) : NULL);
#line 1320 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	page_rep = _tmp1_;
#line 1321 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = page_rep;
#line 1321 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp2_ != NULL) {
#line 8184 "LibraryWindow.c"
		SidebarPageRepresentative* _tmp3_ = NULL;
		Page* _tmp4_ = NULL;
		Page* _tmp5_ = NULL;
#line 1322 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = page_rep;
#line 1322 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = sidebar_page_representative_get_page (_tmp3_);
#line 1322 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = _tmp4_;
#line 1322 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_switch_to_page (self, _tmp5_);
#line 1322 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp5_);
#line 8198 "LibraryWindow.c"
	}
#line 1319 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (page_rep);
#line 8202 "LibraryWindow.c"
}


static void library_window_on_sidebar_selected_entry_removed (LibraryWindow* self, SidebarSelectableEntry* selectable) {
	LibraryLastImportSidebarEntry* last_import_entry = NULL;
	LibraryBranch* _tmp0_ = NULL;
	LibraryLastImportSidebarEntry* _tmp1_ = NULL;
	LibraryLastImportSidebarEntry* _tmp2_ = NULL;
	LibraryLastImportSidebarEntry* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	SidebarSelectableEntry* _tmp5_ = NULL;
	gboolean _tmp12_ = FALSE;
	SidebarSelectableEntry* _tmp13_ = NULL;
	gboolean _tmp21_ = FALSE;
	SidebarSelectableEntry* _tmp22_ = NULL;
	LibraryBranch* _tmp30_ = NULL;
	LibraryPhotosEntry* _tmp31_ = NULL;
	LibraryPhotosEntry* _tmp32_ = NULL;
	Page* _tmp33_ = NULL;
	Page* _tmp34_ = NULL;
#line 1325 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1325 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (SIDEBAR_IS_SELECTABLE_ENTRY (selectable));
#line 1329 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->library_branch;
#line 1329 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = library_branch_get_last_imported_entry (_tmp0_);
#line 1329 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _tmp1_;
#line 1329 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _g_object_ref0 (_tmp2_);
#line 1329 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	last_import_entry = _tmp3_;
#line 1332 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = selectable;
#line 1332 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp5_, LIBRARY_TYPE_IMPORT_QUEUE_SIDEBAR_ENTRY)) {
#line 8241 "LibraryWindow.c"
		LibraryLastImportSidebarEntry* _tmp6_ = NULL;
		gboolean _tmp7_ = FALSE;
		gboolean _tmp8_ = FALSE;
#line 1332 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = last_import_entry;
#line 1332 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = library_hideable_page_entry_get_visible (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, LIBRARY_TYPE_HIDEABLE_PAGE_ENTRY, LibraryHideablePageEntry));
#line 1332 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = _tmp7_;
#line 1332 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = _tmp8_;
#line 8253 "LibraryWindow.c"
	} else {
#line 1332 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = FALSE;
#line 8257 "LibraryWindow.c"
	}
#line 1332 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp4_) {
#line 8261 "LibraryWindow.c"
		LibraryLastImportSidebarEntry* _tmp9_ = NULL;
		Page* _tmp10_ = NULL;
		Page* _tmp11_ = NULL;
#line 1333 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = last_import_entry;
#line 1333 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = sidebar_page_representative_get_page (G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative));
#line 1333 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp11_ = _tmp10_;
#line 1333 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_switch_to_page (self, _tmp11_);
#line 1333 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp11_);
#line 1335 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (last_import_entry);
#line 1335 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 8279 "LibraryWindow.c"
	}
#line 1339 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp13_ = selectable;
#line 1339 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp13_, EVENTS_TYPE_EVENT_ENTRY)) {
#line 8285 "LibraryWindow.c"
		EventsBranch* _tmp14_ = NULL;
		gboolean _tmp15_ = FALSE;
#line 1339 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp14_ = self->priv->events_branch;
#line 1339 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp15_ = sidebar_branch_get_show_branch (G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, SIDEBAR_TYPE_BRANCH, SidebarBranch));
#line 1339 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp12_ = _tmp15_;
#line 8294 "LibraryWindow.c"
	} else {
#line 1339 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp12_ = FALSE;
#line 8298 "LibraryWindow.c"
	}
#line 1339 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp12_) {
#line 8302 "LibraryWindow.c"
		EventsBranch* _tmp16_ = NULL;
		EventsMasterDirectoryEntry* _tmp17_ = NULL;
		EventsMasterDirectoryEntry* _tmp18_ = NULL;
		Page* _tmp19_ = NULL;
		Page* _tmp20_ = NULL;
#line 1340 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp16_ = self->priv->events_branch;
#line 1340 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp17_ = events_branch_get_master_entry (_tmp16_);
#line 1340 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp18_ = _tmp17_;
#line 1340 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp19_ = sidebar_page_representative_get_page (G_TYPE_CHECK_INSTANCE_CAST (_tmp18_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative));
#line 1340 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp20_ = _tmp19_;
#line 1340 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_switch_to_page (self, _tmp20_);
#line 1340 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp20_);
#line 1340 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp18_);
#line 1342 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (last_import_entry);
#line 1342 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 8328 "LibraryWindow.c"
	}
#line 1346 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp22_ = selectable;
#line 1346 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp22_, EVENTS_TYPE_DIRECTORY_ENTRY)) {
#line 8334 "LibraryWindow.c"
		EventsBranch* _tmp23_ = NULL;
		gboolean _tmp24_ = FALSE;
#line 1346 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp23_ = self->priv->events_branch;
#line 1346 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp24_ = sidebar_branch_get_show_branch (G_TYPE_CHECK_INSTANCE_CAST (_tmp23_, SIDEBAR_TYPE_BRANCH, SidebarBranch));
#line 1346 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp21_ = _tmp24_;
#line 8343 "LibraryWindow.c"
	} else {
#line 1346 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp21_ = FALSE;
#line 8347 "LibraryWindow.c"
	}
#line 1346 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp21_) {
#line 8351 "LibraryWindow.c"
		EventsBranch* _tmp25_ = NULL;
		EventsMasterDirectoryEntry* _tmp26_ = NULL;
		EventsMasterDirectoryEntry* _tmp27_ = NULL;
		Page* _tmp28_ = NULL;
		Page* _tmp29_ = NULL;
#line 1347 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp25_ = self->priv->events_branch;
#line 1347 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp26_ = events_branch_get_master_entry (_tmp25_);
#line 1347 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp27_ = _tmp26_;
#line 1347 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp28_ = sidebar_page_representative_get_page (G_TYPE_CHECK_INSTANCE_CAST (_tmp27_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative));
#line 1347 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp29_ = _tmp28_;
#line 1347 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_switch_to_page (self, _tmp29_);
#line 1347 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp29_);
#line 1347 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp27_);
#line 1349 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (last_import_entry);
#line 1349 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 8377 "LibraryWindow.c"
	}
#line 1353 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp30_ = self->priv->library_branch;
#line 1353 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp31_ = library_branch_get_photos_entry (_tmp30_);
#line 1353 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp32_ = _tmp31_;
#line 1353 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp33_ = sidebar_page_representative_get_page (G_TYPE_CHECK_INSTANCE_CAST (_tmp32_, SIDEBAR_TYPE_PAGE_REPRESENTATIVE, SidebarPageRepresentative));
#line 1353 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp34_ = _tmp33_;
#line 1353 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_switch_to_page (self, _tmp34_);
#line 1353 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp34_);
#line 1325 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (last_import_entry);
#line 8395 "LibraryWindow.c"
}


static void _library_window_on_update_properties_view_collection_items_state_changed (ViewCollection* _sender, GeeIterable* changed, gpointer self) {
#line 1359 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_update_properties ((LibraryWindow*) self);
#line 8402 "LibraryWindow.c"
}


static void _library_window_on_update_properties_data_collection_items_altered (DataCollection* _sender, GeeMap* items, gpointer self) {
#line 1360 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_update_properties ((LibraryWindow*) self);
#line 8409 "LibraryWindow.c"
}


static void _library_window_on_update_properties_data_collection_contents_altered (DataCollection* _sender, GeeIterable* added, GeeIterable* removed, gpointer self) {
#line 1361 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_update_properties ((LibraryWindow*) self);
#line 8416 "LibraryWindow.c"
}


static void _library_window_on_update_properties_view_collection_items_visibility_changed (ViewCollection* _sender, GeeCollection* changed, gpointer self) {
#line 1362 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_on_update_properties ((LibraryWindow*) self);
#line 8423 "LibraryWindow.c"
}


static void library_window_subscribe_for_basic_information (LibraryWindow* self, Page* page) {
	ViewCollection* view = NULL;
	Page* _tmp0_ = NULL;
	ViewCollection* _tmp1_ = NULL;
#line 1356 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1356 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_PAGE (page));
#line 1357 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page;
#line 1357 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = page_get_view (_tmp0_);
#line 1357 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	view = _tmp1_;
#line 1359 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (view, "items-state-changed", (GCallback) _library_window_on_update_properties_view_collection_items_state_changed, self, 0);
#line 1360 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (view, TYPE_DATA_COLLECTION, DataCollection), "items-altered", (GCallback) _library_window_on_update_properties_data_collection_items_altered, self, 0);
#line 1361 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (view, TYPE_DATA_COLLECTION, DataCollection), "contents-altered", (GCallback) _library_window_on_update_properties_data_collection_contents_altered, self, 0);
#line 1362 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_connect_object (view, "items-visibility-changed", (GCallback) _library_window_on_update_properties_view_collection_items_visibility_changed, self, 0);
#line 1356 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_data_collection_unref0 (view);
#line 8451 "LibraryWindow.c"
}


static void library_window_unsubscribe_from_basic_information (LibraryWindow* self, Page* page) {
	ViewCollection* view = NULL;
	Page* _tmp0_ = NULL;
	ViewCollection* _tmp1_ = NULL;
	guint _tmp2_ = 0U;
	guint _tmp3_ = 0U;
	guint _tmp4_ = 0U;
	guint _tmp5_ = 0U;
#line 1365 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1365 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_PAGE (page));
#line 1366 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = page;
#line 1366 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = page_get_view (_tmp0_);
#line 1366 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	view = _tmp1_;
#line 1368 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("items-state-changed", TYPE_VIEW_COLLECTION, &_tmp2_, NULL, FALSE);
#line 1368 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (view, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp2_, 0, NULL, (GCallback) _library_window_on_update_properties_view_collection_items_state_changed, self);
#line 1369 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("items-altered", TYPE_DATA_COLLECTION, &_tmp3_, NULL, FALSE);
#line 1369 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (view, TYPE_DATA_COLLECTION, DataCollection), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp3_, 0, NULL, (GCallback) _library_window_on_update_properties_data_collection_items_altered, self);
#line 1370 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("contents-altered", TYPE_DATA_COLLECTION, &_tmp4_, NULL, FALSE);
#line 1370 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (view, TYPE_DATA_COLLECTION, DataCollection), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp4_, 0, NULL, (GCallback) _library_window_on_update_properties_data_collection_contents_altered, self);
#line 1371 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("items-visibility-changed", TYPE_VIEW_COLLECTION, &_tmp5_, NULL, FALSE);
#line 1371 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (view, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp5_, 0, NULL, (GCallback) _library_window_on_update_properties_view_collection_items_visibility_changed, self);
#line 1365 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_data_collection_unref0 (view);
#line 8491 "LibraryWindow.c"
}


static void library_window_on_update_properties (LibraryWindow* self) {
	OneShotScheduler* _tmp0_ = NULL;
#line 1374 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1375 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->properties_scheduler;
#line 1375 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	one_shot_scheduler_at_idle (_tmp0_);
#line 8503 "LibraryWindow.c"
}


static void library_window_on_update_properties_now (LibraryWindow* self) {
	GtkFrame* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	ExtendedPropertiesWindow* _tmp6_ = NULL;
	gboolean _tmp7_ = FALSE;
	gboolean _tmp8_ = FALSE;
#line 1378 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1379 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->bottom_frame;
#line 1379 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = gtk_widget_get_visible (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, gtk_widget_get_type (), GtkWidget));
#line 1379 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = _tmp1_;
#line 1379 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp2_) {
#line 8524 "LibraryWindow.c"
		BasicProperties* _tmp3_ = NULL;
		Page* _tmp4_ = NULL;
		Page* _tmp5_ = NULL;
#line 1380 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = self->priv->basic_properties;
#line 1380 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp4_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 1380 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = _tmp4_;
#line 1380 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		properties_update_properties (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, TYPE_PROPERTIES, Properties), _tmp5_);
#line 1380 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp5_);
#line 8538 "LibraryWindow.c"
	}
#line 1382 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = self->priv->extended_properties;
#line 1382 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = gtk_widget_get_visible (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, gtk_widget_get_type (), GtkWidget));
#line 1382 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = _tmp7_;
#line 1382 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp8_) {
#line 8548 "LibraryWindow.c"
		ExtendedPropertiesWindow* _tmp9_ = NULL;
		Page* _tmp10_ = NULL;
		Page* _tmp11_ = NULL;
#line 1383 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = self->priv->extended_properties;
#line 1383 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 1383 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp11_ = _tmp10_;
#line 1383 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		extended_properties_window_update_properties (_tmp9_, _tmp11_);
#line 1383 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp11_);
#line 8562 "LibraryWindow.c"
	}
}


static gchar* string_replace (const gchar* self, const gchar* old, const gchar* replacement) {
	gchar* result = NULL;
	GError * _inner_error_ = NULL;
#line 1380 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1380 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	g_return_val_if_fail (old != NULL, NULL);
#line 1380 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	g_return_val_if_fail (replacement != NULL, NULL);
#line 8576 "LibraryWindow.c"
	{
		GRegex* regex = NULL;
		const gchar* _tmp0_ = NULL;
		gchar* _tmp1_ = NULL;
		gchar* _tmp2_ = NULL;
		GRegex* _tmp3_ = NULL;
		GRegex* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
		GRegex* _tmp6_ = NULL;
		const gchar* _tmp7_ = NULL;
		gchar* _tmp8_ = NULL;
		gchar* _tmp9_ = NULL;
#line 1382 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_tmp0_ = old;
#line 1382 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_tmp1_ = g_regex_escape_string (_tmp0_, -1);
#line 1382 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_tmp2_ = _tmp1_;
#line 1382 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_tmp3_ = g_regex_new (_tmp2_, 0, 0, &_inner_error_);
#line 1382 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_tmp4_ = _tmp3_;
#line 1382 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_g_free0 (_tmp2_);
#line 1382 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		regex = _tmp4_;
#line 1382 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1382 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
			if (_inner_error_->domain == G_REGEX_ERROR) {
#line 8607 "LibraryWindow.c"
				goto __catch41_g_regex_error;
			}
#line 1382 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1382 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error_);
#line 1382 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
			return NULL;
#line 8616 "LibraryWindow.c"
		}
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_tmp6_ = regex;
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_tmp7_ = replacement;
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_tmp8_ = g_regex_replace_literal (_tmp6_, self, (gssize) -1, 0, _tmp7_, 0, &_inner_error_);
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_tmp5_ = _tmp8_;
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
			if (_inner_error_->domain == G_REGEX_ERROR) {
#line 8632 "LibraryWindow.c"
				goto __catch41_g_regex_error;
			}
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error_);
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
			return NULL;
#line 8643 "LibraryWindow.c"
		}
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_tmp9_ = _tmp5_;
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_tmp5_ = NULL;
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		result = _tmp9_;
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_g_free0 (_tmp5_);
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_g_regex_unref0 (regex);
#line 1383 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		return result;
#line 8657 "LibraryWindow.c"
	}
	goto __finally41;
	__catch41_g_regex_error:
	{
		GError* e = NULL;
#line 1381 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		e = _inner_error_;
#line 1381 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_inner_error_ = NULL;
#line 1385 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		g_assert_not_reached ();
#line 1381 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		_g_error_free0 (e);
#line 8671 "LibraryWindow.c"
	}
	__finally41:
#line 1381 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1381 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1381 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		g_clear_error (&_inner_error_);
#line 1381 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		return NULL;
#line 8682 "LibraryWindow.c"
	}
}


void library_window_mounted_camera_shell_notification (LibraryWindow* self, const gchar* uri, gboolean at_startup) {
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	GFile* uri_file = NULL;
	const gchar* _tmp4_ = NULL;
	GFile* _tmp5_ = NULL;
	GMount* mount = NULL;
	gchar* alt_uri = NULL;
	const gchar* _tmp12_ = NULL;
	gboolean _tmp13_ = FALSE;
	gboolean _tmp18_ = FALSE;
	GError * _inner_error_ = NULL;
#line 1386 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (IS_LIBRARY_WINDOW (self));
#line 1386 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (uri != NULL);
#line 1387 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = uri;
#line 1387 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_debug ("LibraryWindow.vala:1387: mount point reported: %s", _tmp0_);
#line 1390 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = uri;
#line 1390 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = library_window_is_mount_uri_supported (_tmp1_);
#line 1390 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (!_tmp2_) {
#line 8714 "LibraryWindow.c"
		const gchar* _tmp3_ = NULL;
#line 1391 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp3_ = uri;
#line 1391 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_debug ("LibraryWindow.vala:1391: Unsupported mount scheme: %s", _tmp3_);
#line 1393 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 8722 "LibraryWindow.c"
	}
#line 1396 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = uri;
#line 1396 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = g_file_new_for_uri (_tmp4_);
#line 1396 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	uri_file = _tmp5_;
#line 1399 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	mount = NULL;
#line 8732 "LibraryWindow.c"
	{
		GMount* _tmp6_ = NULL;
		GFile* _tmp7_ = NULL;
		GMount* _tmp8_ = NULL;
		GMount* _tmp9_ = NULL;
#line 1401 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = uri_file;
#line 1401 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = g_file_find_enclosing_mount (_tmp7_, NULL, &_inner_error_);
#line 1401 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = _tmp8_;
#line 1401 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 8746 "LibraryWindow.c"
			goto __catch40_g_error;
		}
#line 1401 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = _tmp6_;
#line 1401 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = NULL;
#line 1401 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (mount);
#line 1401 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		mount = _tmp9_;
#line 1400 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp6_);
#line 8759 "LibraryWindow.c"
	}
	goto __finally40;
	__catch40_g_error:
	{
		GError* err = NULL;
		GError* _tmp10_ = NULL;
		const gchar* _tmp11_ = NULL;
#line 1400 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		err = _inner_error_;
#line 1400 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_inner_error_ = NULL;
#line 1403 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp10_ = err;
#line 1403 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp11_ = _tmp10_->message;
#line 1403 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_debug ("LibraryWindow.vala:1403: %s", _tmp11_);
#line 1405 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_error_free0 (err);
#line 1405 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (mount);
#line 1405 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (uri_file);
#line 1405 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 8785 "LibraryWindow.c"
	}
	__finally40:
#line 1400 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1400 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (mount);
#line 1400 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (uri_file);
#line 1400 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1400 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_clear_error (&_inner_error_);
#line 1400 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return;
#line 8800 "LibraryWindow.c"
	}
#line 1409 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	alt_uri = NULL;
#line 1410 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = uri;
#line 1410 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp13_ = g_str_has_prefix (_tmp12_, "file://");
#line 1410 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp13_) {
#line 8810 "LibraryWindow.c"
		const gchar* _tmp14_ = NULL;
		gchar* _tmp15_ = NULL;
		gchar* _tmp16_ = NULL;
		gchar* _tmp17_ = NULL;
#line 1411 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp14_ = uri;
#line 1411 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp15_ = string_replace (_tmp14_, "file://", "disk:");
#line 1411 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp16_ = _tmp15_;
#line 1411 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp17_ = camera_table_get_port_uri (_tmp16_);
#line 1411 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_free0 (alt_uri);
#line 1411 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		alt_uri = _tmp17_;
#line 1411 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_free0 (_tmp16_);
#line 8829 "LibraryWindow.c"
	}
#line 1414 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp18_ = at_startup;
#line 1414 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp18_) {
#line 8835 "LibraryWindow.c"
		const gchar* _tmp19_ = NULL;
		gboolean _tmp20_ = FALSE;
		const gchar* _tmp23_ = NULL;
		gboolean _tmp24_ = FALSE;
#line 1415 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp19_ = uri;
#line 1415 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp20_ = is_string_empty (_tmp19_);
#line 1415 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (!_tmp20_) {
#line 8846 "LibraryWindow.c"
			GeeHashSet* _tmp21_ = NULL;
			const gchar* _tmp22_ = NULL;
#line 1416 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp21_ = library_window_initial_camera_uris;
#line 1416 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp22_ = uri;
#line 1416 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp21_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp22_);
#line 8855 "LibraryWindow.c"
		}
#line 1418 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp23_ = alt_uri;
#line 1418 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp24_ = is_string_empty (_tmp23_);
#line 1418 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		if (!_tmp24_) {
#line 8863 "LibraryWindow.c"
			GeeHashSet* _tmp25_ = NULL;
			const gchar* _tmp26_ = NULL;
#line 1419 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp25_ = library_window_initial_camera_uris;
#line 1419 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp26_ = alt_uri;
#line 1419 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp25_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp26_);
#line 8872 "LibraryWindow.c"
		}
	}
#line 1386 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_free0 (alt_uri);
#line 1386 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (mount);
#line 1386 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (uri_file);
#line 8881 "LibraryWindow.c"
}


static gboolean library_window_real_key_press_event (GtkWidget* base, GdkEventKey* event) {
	LibraryWindow * self;
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	SidebarTree* _tmp2_ = NULL;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_ = FALSE;
	GdkEventKey* _tmp11_ = NULL;
	gboolean _tmp12_ = FALSE;
	GdkEventKey* _tmp13_ = NULL;
	guint _tmp14_ = 0U;
	const gchar* _tmp15_ = NULL;
#line 1423 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_LIBRARY_WINDOW, LibraryWindow);
#line 1423 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 1424 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = self->priv->sidebar_tree;
#line 1424 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, gtk_widget_get_type (), GtkWidget), "has-focus", &_tmp3_, NULL);
#line 1424 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = _tmp3_;
#line 1424 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp4_) {
#line 8910 "LibraryWindow.c"
		SidebarTree* _tmp5_ = NULL;
		GdkEventKey* _tmp6_ = NULL;
		gboolean _tmp7_ = FALSE;
#line 1424 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp5_ = self->priv->sidebar_tree;
#line 1424 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp6_ = event;
#line 1424 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp7_ = sidebar_tree_is_keypress_interpreted (_tmp5_, _tmp6_);
#line 1424 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp1_ = _tmp7_;
#line 8922 "LibraryWindow.c"
	} else {
#line 1424 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp1_ = FALSE;
#line 8926 "LibraryWindow.c"
	}
#line 1424 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp1_) {
#line 8930 "LibraryWindow.c"
		SidebarTree* _tmp8_ = NULL;
		GdkEventKey* _tmp9_ = NULL;
		gboolean _tmp10_ = FALSE;
#line 1425 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp8_ = self->priv->sidebar_tree;
#line 1425 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp9_ = event;
#line 1425 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		g_signal_emit_by_name (G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, gtk_widget_get_type (), GtkWidget), "key-press-event", _tmp9_, &_tmp10_);
#line 1425 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp0_ = _tmp10_;
#line 8942 "LibraryWindow.c"
	} else {
#line 1424 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp0_ = FALSE;
#line 8946 "LibraryWindow.c"
	}
#line 1424 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp0_) {
#line 1426 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		result = TRUE;
#line 1426 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return result;
#line 8954 "LibraryWindow.c"
	}
#line 1429 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = event;
#line 1429 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = GTK_WIDGET_CLASS (library_window_parent_class)->key_press_event (G_TYPE_CHECK_INSTANCE_CAST (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_APP_WINDOW, AppWindow), gtk_widget_get_type (), GtkWidget), _tmp11_);
#line 1429 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp12_) {
#line 1430 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		result = TRUE;
#line 1430 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return result;
#line 8966 "LibraryWindow.c"
	}
#line 1432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp13_ = event;
#line 1432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp14_ = _tmp13_->keyval;
#line 1432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp15_ = gdk_keyval_name (_tmp14_);
#line 1432 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (g_strcmp0 (_tmp15_, "Escape") == 0) {
#line 1433 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_on_clear_search (self);
#line 1434 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		result = TRUE;
#line 1434 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		return result;
#line 8982 "LibraryWindow.c"
	}
#line 1437 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	result = FALSE;
#line 1437 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 8988 "LibraryWindow.c"
}


gint library_window_get_PAGE_MIN_WIDTH (void) {
	gint result;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
#line 12 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = thumbnail_get_MAX_SCALE ();
#line 12 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _tmp0_;
#line 12 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	result = _tmp1_ + (CHECKERBOARD_LAYOUT_COLUMN_GUTTER_PADDING * 2);
#line 12 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return result;
#line 9004 "LibraryWindow.c"
}


static gpointer _data_collection_ref0 (gpointer self) {
#line 78 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return self ? data_collection_ref (self) : NULL;
#line 9011 "LibraryWindow.c"
}


static LibraryWindowFullscreenPhotoPage* library_window_fullscreen_photo_page_construct (GType object_type, CollectionPage* collection, Photo* start, ViewCollection* view) {
	LibraryWindowFullscreenPhotoPage * self = NULL;
	CollectionPage* _tmp0_ = NULL;
	CollectionPage* _tmp1_ = NULL;
	Photo* _tmp2_ = NULL;
	Photo* _tmp3_ = NULL;
	ViewCollection* _tmp4_ = NULL;
	ViewCollection* _tmp5_ = NULL;
#line 75 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (IS_COLLECTION_PAGE (collection), NULL);
#line 75 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail (IS_PHOTO (start), NULL);
#line 75 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_val_if_fail ((view == NULL) || IS_VIEW_COLLECTION (view), NULL);
#line 75 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = (LibraryWindowFullscreenPhotoPage*) library_photo_page_construct (object_type);
#line 76 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = collection;
#line 76 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 76 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->collection);
#line 76 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->collection = _tmp1_;
#line 77 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = start;
#line 77 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = _g_object_ref0 (_tmp2_);
#line 77 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->start);
#line 77 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->start = _tmp3_;
#line 78 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = view;
#line 78 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = _data_collection_ref0 (_tmp4_);
#line 78 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_data_collection_unref0 (self->priv->view);
#line 78 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->view = _tmp5_;
#line 75 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return self;
#line 9057 "LibraryWindow.c"
}


static LibraryWindowFullscreenPhotoPage* library_window_fullscreen_photo_page_new (CollectionPage* collection, Photo* start, ViewCollection* view) {
#line 75 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	return library_window_fullscreen_photo_page_construct (LIBRARY_WINDOW_TYPE_FULLSCREEN_PHOTO_PAGE, collection, start, view);
#line 9064 "LibraryWindow.c"
}


static void library_window_fullscreen_photo_page_real_switched_to (Page* base) {
	LibraryWindowFullscreenPhotoPage * self;
	CollectionPage* _tmp0_ = NULL;
	Photo* _tmp1_ = NULL;
	ViewCollection* _tmp2_ = NULL;
#line 81 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, LIBRARY_WINDOW_TYPE_FULLSCREEN_PHOTO_PAGE, LibraryWindowFullscreenPhotoPage);
#line 82 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->collection;
#line 82 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = self->priv->start;
#line 82 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = self->priv->view;
#line 82 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_photo_page_display_for_collection (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_LIBRARY_PHOTO_PAGE, LibraryPhotoPage), _tmp0_, _tmp1_, _tmp2_);
#line 84 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	PAGE_CLASS (library_window_fullscreen_photo_page_parent_class)->switched_to (G_TYPE_CHECK_INSTANCE_CAST (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_LIBRARY_PHOTO_PAGE, LibraryPhotoPage), TYPE_PAGE, Page));
#line 9085 "LibraryWindow.c"
}


static void library_window_fullscreen_photo_page_real_init_collect_ui_filenames (Page* base, GeeList* ui_filenames) {
	LibraryWindowFullscreenPhotoPage * self;
	GeeList* _tmp0_ = NULL;
#line 87 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, LIBRARY_WINDOW_TYPE_FULLSCREEN_PHOTO_PAGE, LibraryWindowFullscreenPhotoPage);
#line 87 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_return_if_fail (GEE_IS_LIST (ui_filenames));
#line 90 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = ui_filenames;
#line 90 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	gee_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_COLLECTION, GeeCollection), "photo_context.ui");
#line 9100 "LibraryWindow.c"
}


static void library_window_fullscreen_photo_page_class_init (LibraryWindowFullscreenPhotoPageClass * klass) {
#line 70 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_fullscreen_photo_page_parent_class = g_type_class_peek_parent (klass);
#line 70 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_type_class_add_private (klass, sizeof (LibraryWindowFullscreenPhotoPagePrivate));
#line 70 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	((PageClass *) klass)->switched_to = library_window_fullscreen_photo_page_real_switched_to;
#line 70 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	((PageClass *) klass)->init_collect_ui_filenames = library_window_fullscreen_photo_page_real_init_collect_ui_filenames;
#line 70 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	G_OBJECT_CLASS (klass)->finalize = library_window_fullscreen_photo_page_finalize;
#line 9115 "LibraryWindow.c"
}


static void library_window_fullscreen_photo_page_instance_init (LibraryWindowFullscreenPhotoPage * self) {
#line 70 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv = LIBRARY_WINDOW_FULLSCREEN_PHOTO_PAGE_GET_PRIVATE (self);
#line 9122 "LibraryWindow.c"
}


static void library_window_fullscreen_photo_page_finalize (GObject* obj) {
	LibraryWindowFullscreenPhotoPage * self;
#line 70 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, LIBRARY_WINDOW_TYPE_FULLSCREEN_PHOTO_PAGE, LibraryWindowFullscreenPhotoPage);
#line 71 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->collection);
#line 72 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->start);
#line 73 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_data_collection_unref0 (self->priv->view);
#line 70 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	G_OBJECT_CLASS (library_window_fullscreen_photo_page_parent_class)->finalize (obj);
#line 9138 "LibraryWindow.c"
}


static GType library_window_fullscreen_photo_page_get_type (void) {
	static volatile gsize library_window_fullscreen_photo_page_type_id__volatile = 0;
	if (g_once_init_enter (&library_window_fullscreen_photo_page_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (LibraryWindowFullscreenPhotoPageClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) library_window_fullscreen_photo_page_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (LibraryWindowFullscreenPhotoPage), 0, (GInstanceInitFunc) library_window_fullscreen_photo_page_instance_init, NULL };
		GType library_window_fullscreen_photo_page_type_id;
		library_window_fullscreen_photo_page_type_id = g_type_register_static (TYPE_LIBRARY_PHOTO_PAGE, "LibraryWindowFullscreenPhotoPage", &g_define_type_info, 0);
		g_once_init_leave (&library_window_fullscreen_photo_page_type_id__volatile, library_window_fullscreen_photo_page_type_id);
	}
	return library_window_fullscreen_photo_page_type_id__volatile;
}


static void library_window_class_init (LibraryWindowClass * klass) {
	GeeHashSet* _tmp0_ = NULL;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_parent_class = g_type_class_peek_parent (klass);
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_type_class_add_private (klass, sizeof (LibraryWindowPrivate));
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	((AppWindowClass *) klass)->add_actions = library_window_real_add_actions;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	((PageWindowClass *) klass)->switched_pages = library_window_real_switched_pages;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	((GtkWidgetClass *) klass)->show_all = library_window_real_show_all;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	((AppWindowClass *) klass)->get_app_role = library_window_real_get_app_role;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	((AppWindowClass *) klass)->on_quit = library_window_real_on_quit;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	((AppWindowClass *) klass)->on_fullscreen = library_window_real_on_fullscreen;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	((AppWindowClass *) klass)->update_common_action_availability = library_window_real_update_common_action_availability;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	((AppWindowClass *) klass)->update_common_actions = library_window_real_update_common_actions;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	((GtkWidgetClass *) klass)->drag_motion = library_window_real_drag_motion;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	((GtkWidgetClass *) klass)->drag_data_received = library_window_real_drag_data_received;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	((PageWindowClass *) klass)->set_current_page = library_window_real_set_current_page;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	((GtkWidgetClass *) klass)->key_press_event = library_window_real_key_press_event;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_library_window_get_property;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	G_OBJECT_CLASS (klass)->finalize = library_window_finalize;
#line 119 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = gee_hash_set_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL, NULL, NULL, NULL);
#line 119 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_initial_camera_uris = _tmp0_;
#line 9192 "LibraryWindow.c"
}


static void library_window_instance_init (LibraryWindow * self) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	GtkPaned* _tmp2_ = NULL;
	GtkPaned* _tmp3_ = NULL;
	GtkFrame* _tmp4_ = NULL;
	LibraryBranch* _tmp5_ = NULL;
	TagsBranch* _tmp6_ = NULL;
	FoldersBranch* _tmp7_ = NULL;
	EventsBranch* _tmp8_ = NULL;
	CameraBranch* _tmp9_ = NULL;
	SearchesBranch* _tmp10_ = NULL;
	GeeHashMap* _tmp11_ = NULL;
	SearchFilterActions* _tmp12_ = NULL;
	GtkBox* _tmp13_ = NULL;
	GtkFrame* _tmp14_ = NULL;
	GtkProgressBar* _tmp15_ = NULL;
	BasicProperties* _tmp16_ = NULL;
	GtkStack* _tmp17_ = NULL;
	GtkBox* _tmp18_ = NULL;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv = LIBRARY_WINDOW_GET_PRIVATE (self);
#line 95 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = g_get_home_dir ();
#line 95 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 95 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->import_dir = _tmp1_;
#line 97 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = (GtkPaned*) gtk_paned_new (GTK_ORIENTATION_VERTICAL);
#line 97 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp2_);
#line 97 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->sidebar_paned = _tmp2_;
#line 98 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp3_ = (GtkPaned*) gtk_paned_new (GTK_ORIENTATION_HORIZONTAL);
#line 98 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp3_);
#line 98 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->client_paned = _tmp3_;
#line 99 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = (GtkFrame*) gtk_frame_new (NULL);
#line 99 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp4_);
#line 99 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->bottom_frame = _tmp4_;
#line 101 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->properties_scheduler = NULL;
#line 102 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->notify_library_is_home_dir = TRUE;
#line 106 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp5_ = library_branch_new ();
#line 106 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->library_branch = _tmp5_;
#line 107 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = tags_branch_new ();
#line 107 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->tags_branch = _tmp6_;
#line 108 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp7_ = folders_branch_new ();
#line 108 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->folders_branch = _tmp7_;
#line 109 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = events_branch_new ();
#line 109 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->events_branch = _tmp8_;
#line 110 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = camera_branch_new ();
#line 110 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->camera_branch = _tmp9_;
#line 111 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp10_ = searches_branch_new ();
#line 111 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->saved_search_branch = _tmp10_;
#line 112 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->page_switching_enabled = TRUE;
#line 114 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp11_ = gee_hash_map_new (TYPE_PAGE, (GBoxedCopyFunc) g_object_ref, g_object_unref, SIDEBAR_TYPE_ENTRY, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 114 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->page_map = _tmp11_;
#line 116 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->photo_page = NULL;
#line 121 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->is_search_toolbar_visible = FALSE;
#line 126 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = search_filter_actions_new ();
#line 126 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->search_actions = _tmp12_;
#line 129 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp13_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 0);
#line 129 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp13_);
#line 129 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->top_section = _tmp13_;
#line 130 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp14_ = (GtkFrame*) gtk_frame_new (NULL);
#line 130 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp14_);
#line 130 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->background_progress_frame = _tmp14_;
#line 131 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp15_ = (GtkProgressBar*) gtk_progress_bar_new ();
#line 131 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp15_);
#line 131 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->background_progress_bar = _tmp15_;
#line 132 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->background_progress_displayed = FALSE;
#line 134 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp16_ = basic_properties_new ();
#line 134 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp16_);
#line 134 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->basic_properties = _tmp16_;
#line 137 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp17_ = (GtkStack*) gtk_stack_new ();
#line 137 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp17_);
#line 137 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->stack = _tmp17_;
#line 138 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp18_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 0);
#line 138 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_object_ref_sink (_tmp18_);
#line 138 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->layout = _tmp18_;
#line 141 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->current_progress_priority = 0;
#line 142 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self->priv->background_progress_pulse_id = (guint) 0;
#line 9326 "LibraryWindow.c"
}


static void library_window_finalize (GObject* obj) {
	LibraryWindow * self;
	SidebarTree* _tmp0_ = NULL;
	guint _tmp1_ = 0U;
	SidebarTree* _tmp2_ = NULL;
	guint _tmp3_ = 0U;
	SidebarTree* _tmp4_ = NULL;
	guint _tmp5_ = 0U;
	SidebarTree* _tmp6_ = NULL;
	guint _tmp7_ = 0U;
	Page* _tmp8_ = NULL;
	Page* _tmp9_ = NULL;
	ExtendedPropertiesWindow* _tmp10_ = NULL;
	guint _tmp11_ = 0U;
	ExtendedPropertiesWindow* _tmp12_ = NULL;
	guint _tmp13_ = 0U;
	MetadataWriter* _tmp28_ = NULL;
	MetadataWriter* _tmp29_ = NULL;
	guint _tmp30_ = 0U;
	LibraryMonitor* monitor = NULL;
	LibraryMonitorPool* _tmp31_ = NULL;
	LibraryMonitorPool* _tmp32_ = NULL;
	LibraryMonitor* _tmp33_ = NULL;
	LibraryMonitor* _tmp34_ = NULL;
	LibraryMonitor* _tmp35_ = NULL;
	LibraryMonitorPool* _tmp37_ = NULL;
	LibraryMonitorPool* _tmp38_ = NULL;
	guint _tmp39_ = 0U;
	LibraryMonitorPool* _tmp40_ = NULL;
	LibraryMonitorPool* _tmp41_ = NULL;
	guint _tmp42_ = 0U;
	CameraTable* _tmp43_ = NULL;
	CameraTable* _tmp44_ = NULL;
	guint _tmp45_ = 0U;
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_LIBRARY_WINDOW, LibraryWindow);
#line 215 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp0_ = self->priv->sidebar_tree;
#line 215 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("page-created", SIDEBAR_TYPE_TREE, &_tmp1_, NULL, FALSE);
#line 215 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (_tmp0_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp1_, 0, NULL, (GCallback) _library_window_on_page_created_sidebar_tree_page_created, self);
#line 216 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp2_ = self->priv->sidebar_tree;
#line 216 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("destroying-page", SIDEBAR_TYPE_TREE, &_tmp3_, NULL, FALSE);
#line 216 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (_tmp2_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp3_, 0, NULL, (GCallback) _library_window_on_destroying_page_sidebar_tree_destroying_page, self);
#line 217 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp4_ = self->priv->sidebar_tree;
#line 217 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("entry-selected", SIDEBAR_TYPE_TREE, &_tmp5_, NULL, FALSE);
#line 217 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (_tmp4_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp5_, 0, NULL, (GCallback) _library_window_on_sidebar_entry_selected_sidebar_tree_entry_selected, self);
#line 218 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp6_ = self->priv->sidebar_tree;
#line 218 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("selected-entry-removed", SIDEBAR_TYPE_TREE, &_tmp7_, NULL, FALSE);
#line 218 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (_tmp6_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp7_, 0, NULL, (GCallback) _library_window_on_sidebar_selected_entry_removed_sidebar_tree_selected_entry_removed, self);
#line 220 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp8_ = page_window_get_current_page (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_PAGE_WINDOW, PageWindow));
#line 220 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp9_ = _tmp8_;
#line 220 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	library_window_unsubscribe_from_basic_information (self, _tmp9_);
#line 220 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp9_);
#line 222 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp10_ = self->priv->extended_properties;
#line 222 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("hide", gtk_widget_get_type (), &_tmp11_, NULL, FALSE);
#line 222 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, gtk_widget_get_type (), GtkWidget), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp11_, 0, NULL, (GCallback) _library_window_hide_extended_properties_gtk_widget_hide, self);
#line 223 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp12_ = self->priv->extended_properties;
#line 223 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("show", gtk_widget_get_type (), &_tmp13_, NULL, FALSE);
#line 223 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, gtk_widget_get_type (), GtkWidget), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp13_, 0, NULL, (GCallback) _library_window_show_extended_properties_gtk_widget_show, self);
#line 9410 "LibraryWindow.c"
	{
		GeeIterator* _media_sources_it = NULL;
		MediaCollectionRegistry* _tmp14_ = NULL;
		MediaCollectionRegistry* _tmp15_ = NULL;
		GeeCollection* _tmp16_ = NULL;
		GeeCollection* _tmp17_ = NULL;
		GeeIterator* _tmp18_ = NULL;
		GeeIterator* _tmp19_ = NULL;
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp14_ = media_collection_registry_get_instance ();
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp15_ = _tmp14_;
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp16_ = media_collection_registry_get_all (_tmp15_);
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp17_ = _tmp16_;
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp18_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp17_, GEE_TYPE_ITERABLE, GeeIterable));
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp19_ = _tmp18_;
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_tmp17_);
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_media_collection_registry_unref0 (_tmp15_);
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_media_sources_it = _tmp19_;
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		while (TRUE) {
#line 9439 "LibraryWindow.c"
			GeeIterator* _tmp20_ = NULL;
			gboolean _tmp21_ = FALSE;
			MediaSourceCollection* media_sources = NULL;
			GeeIterator* _tmp22_ = NULL;
			gpointer _tmp23_ = NULL;
			MediaSourceCollection* _tmp24_ = NULL;
			guint _tmp25_ = 0U;
			MediaSourceCollection* _tmp26_ = NULL;
			guint _tmp27_ = 0U;
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp20_ = _media_sources_it;
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp21_ = gee_iterator_next (_tmp20_);
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			if (!_tmp21_) {
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
				break;
#line 9457 "LibraryWindow.c"
			}
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp22_ = _media_sources_it;
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp23_ = gee_iterator_get (_tmp22_);
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			media_sources = (MediaSourceCollection*) _tmp23_;
#line 226 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp24_ = media_sources;
#line 226 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			g_signal_parse_name ("trashcan-contents-altered", TYPE_MEDIA_SOURCE_COLLECTION, &_tmp25_, NULL, FALSE);
#line 226 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			g_signal_handlers_disconnect_matched (_tmp24_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp25_, 0, NULL, (GCallback) _library_window_on_trashcan_contents_altered_media_source_collection_trashcan_contents_altered, self);
#line 227 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_tmp26_ = media_sources;
#line 227 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			g_signal_parse_name ("items-altered", TYPE_DATA_COLLECTION, &_tmp27_, NULL, FALSE);
#line 227 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp26_, TYPE_DATA_COLLECTION, DataCollection), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp27_, 0, NULL, (GCallback) _library_window_on_media_altered_data_collection_items_altered, self);
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
			_data_collection_unref0 (media_sources);
#line 9479 "LibraryWindow.c"
		}
#line 225 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_g_object_unref0 (_media_sources_it);
#line 9483 "LibraryWindow.c"
	}
#line 230 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp28_ = metadata_writer_get_instance ();
#line 230 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp29_ = _tmp28_;
#line 230 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("progress", TYPE_METADATA_WRITER, &_tmp30_, NULL, FALSE);
#line 230 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (_tmp29_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp30_, 0, NULL, (GCallback) _library_window_on_metadata_writer_progress_metadata_writer_progress, self);
#line 230 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (_tmp29_);
#line 232 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp31_ = library_monitor_pool_get_instance ();
#line 232 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp32_ = _tmp31_;
#line 232 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp33_ = library_monitor_pool_get_monitor (_tmp32_);
#line 232 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp34_ = _tmp33_;
#line 232 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_library_monitor_pool_unref0 (_tmp32_);
#line 232 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	monitor = _tmp34_;
#line 233 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp35_ = monitor;
#line 233 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	if (_tmp35_ != NULL) {
#line 9511 "LibraryWindow.c"
		LibraryMonitor* _tmp36_ = NULL;
#line 234 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		_tmp36_ = monitor;
#line 234 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		library_window_on_library_monitor_destroyed (self, _tmp36_);
#line 9517 "LibraryWindow.c"
	}
#line 236 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp37_ = library_monitor_pool_get_instance ();
#line 236 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp38_ = _tmp37_;
#line 236 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("monitor-installed", TYPE_LIBRARY_MONITOR_POOL, &_tmp39_, NULL, FALSE);
#line 236 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (_tmp38_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp39_, 0, NULL, (GCallback) _library_window_on_library_monitor_installed_library_monitor_pool_monitor_installed, self);
#line 236 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_library_monitor_pool_unref0 (_tmp38_);
#line 237 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp40_ = library_monitor_pool_get_instance ();
#line 237 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp41_ = _tmp40_;
#line 237 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("monitor-destroyed", TYPE_LIBRARY_MONITOR_POOL, &_tmp42_, NULL, FALSE);
#line 237 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (_tmp41_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp42_, 0, NULL, (GCallback) _library_window_on_library_monitor_destroyed_library_monitor_pool_monitor_destroyed, self);
#line 237 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_library_monitor_pool_unref0 (_tmp41_);
#line 239 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp43_ = camera_table_get_instance ();
#line 239 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_tmp44_ = _tmp43_;
#line 239 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_parse_name ("camera-added", TYPE_CAMERA_TABLE, &_tmp45_, NULL, FALSE);
#line 239 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	g_signal_handlers_disconnect_matched (_tmp44_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp45_, 0, NULL, (GCallback) _library_window_on_camera_added_camera_table_camera_added, self);
#line 239 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_camera_table_unref0 (_tmp44_);
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (monitor);
#line 95 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_free0 (self->priv->import_dir);
#line 97 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->sidebar_paned);
#line 98 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->client_paned);
#line 99 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->bottom_frame);
#line 101 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_one_shot_scheduler_unref0 (self->priv->properties_scheduler);
#line 105 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->sidebar_tree);
#line 106 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->library_branch);
#line 107 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->tags_branch);
#line 108 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->folders_branch);
#line 109 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->events_branch);
#line 110 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->camera_branch);
#line 111 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->saved_search_branch);
#line 114 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->page_map);
#line 116 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->photo_page);
#line 126 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_search_filter_actions_unref0 (self->priv->search_actions);
#line 127 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->search_toolbar);
#line 129 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->top_section);
#line 130 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->background_progress_frame);
#line 131 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->background_progress_bar);
#line 134 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->basic_properties);
#line 135 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->extended_properties);
#line 137 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->stack);
#line 138 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->layout);
#line 139 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	_g_object_unref0 (self->priv->right_vbox);
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	G_OBJECT_CLASS (library_window_parent_class)->finalize (obj);
#line 9601 "LibraryWindow.c"
}


GType library_window_get_type (void) {
	static volatile gsize library_window_type_id__volatile = 0;
	if (g_once_init_enter (&library_window_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (LibraryWindowClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) library_window_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (LibraryWindow), 0, (GInstanceInitFunc) library_window_instance_init, NULL };
		GType library_window_type_id;
		library_window_type_id = g_type_register_static (TYPE_APP_WINDOW, "LibraryWindow", &g_define_type_info, 0);
		g_once_init_leave (&library_window_type_id__volatile, library_window_type_id);
	}
	return library_window_type_id__volatile;
}


static void _vala_library_window_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	LibraryWindow * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TYPE_LIBRARY_WINDOW, LibraryWindow);
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
	switch (property_id) {
#line 9622 "LibraryWindow.c"
		default:
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 7 "/home/jens/Source/shotwell/src/library/LibraryWindow.vala"
		break;
#line 9628 "LibraryWindow.c"
	}
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint _vala_array_length (gpointer array) {
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



