/* ViewCollection.c generated by valac 0.36.6, the Vala compiler
 * generated from ViewCollection.vala, do not modify */

/* Copyright 2016 Software Freedom Conservancy Inc.
 *
 * This software is licensed under the GNU Lesser General Public License
 * (version 2.1 or later).  See the COPYING file in this distribution.
 */
/* A ViewCollection holds DataView objects, which are view instances wrapping DataSource objects.*/
/* Thus, multiple views can exist of a single SourceCollection, each view displaying all or some*/
/* of that SourceCollection.  A view collection also has a notion of order*/
/* (first/last/next/previous) that can be overridden by child classes.  It also understands hidden*/
/* objects, which are withheld entirely from the collection until they're made visible.  Currently*/
/* the only way to hide objects is with a ViewFilter.*/
/**/
/* A ViewCollection may also be locked.  When locked, it will not (a) remove hidden items from the*/
/* collection and (b) remove DataViews representing unlinked DataSources.  This allows for the*/
/* ViewCollection to be "frozen" while manipulating items within it.  When the collection is*/
/* unlocked, all changes are applied at once.*/
/**/
/* The default implementation provides a browser which orders the view in the order they're*/
/* stored in DataCollection, which is not specified.*/

#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <gee.h>
#include <gobject/gvaluecollector.h>


#define TYPE_DATA_COLLECTION (data_collection_get_type ())
#define DATA_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DATA_COLLECTION, DataCollection))
#define DATA_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DATA_COLLECTION, DataCollectionClass))
#define IS_DATA_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DATA_COLLECTION))
#define IS_DATA_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DATA_COLLECTION))
#define DATA_COLLECTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DATA_COLLECTION, DataCollectionClass))

typedef struct _DataCollection DataCollection;
typedef struct _DataCollectionClass DataCollectionClass;
typedef struct _DataCollectionPrivate DataCollectionPrivate;

#define TYPE_DATA_OBJECT (data_object_get_type ())
#define DATA_OBJECT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DATA_OBJECT, DataObject))
#define DATA_OBJECT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DATA_OBJECT, DataObjectClass))
#define IS_DATA_OBJECT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DATA_OBJECT))
#define IS_DATA_OBJECT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DATA_OBJECT))
#define DATA_OBJECT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DATA_OBJECT, DataObjectClass))

typedef struct _DataObject DataObject;
typedef struct _DataObjectClass DataObjectClass;

#define TYPE_ALTERATION (alteration_get_type ())
#define ALTERATION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_ALTERATION, Alteration))
#define ALTERATION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_ALTERATION, AlterationClass))
#define IS_ALTERATION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_ALTERATION))
#define IS_ALTERATION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_ALTERATION))
#define ALTERATION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_ALTERATION, AlterationClass))

typedef struct _Alteration Alteration;
typedef struct _AlterationClass AlterationClass;

#define TYPE_MARKER (marker_get_type ())
#define MARKER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_MARKER, Marker))
#define IS_MARKER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_MARKER))
#define MARKER_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), TYPE_MARKER, MarkerIface))

typedef struct _Marker Marker;
typedef struct _MarkerIface MarkerIface;

#define TYPE_VIEW_COLLECTION (view_collection_get_type ())
#define VIEW_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_VIEW_COLLECTION, ViewCollection))
#define VIEW_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_VIEW_COLLECTION, ViewCollectionClass))
#define IS_VIEW_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_VIEW_COLLECTION))
#define IS_VIEW_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_VIEW_COLLECTION))
#define VIEW_COLLECTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_VIEW_COLLECTION, ViewCollectionClass))

typedef struct _ViewCollection ViewCollection;
typedef struct _ViewCollectionClass ViewCollectionClass;
typedef struct _ViewCollectionPrivate ViewCollectionPrivate;

#define TYPE_DATA_VIEW (data_view_get_type ())
#define DATA_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DATA_VIEW, DataView))
#define DATA_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DATA_VIEW, DataViewClass))
#define IS_DATA_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DATA_VIEW))
#define IS_DATA_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DATA_VIEW))
#define DATA_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DATA_VIEW, DataViewClass))

typedef struct _DataView DataView;
typedef struct _DataViewClass DataViewClass;

#define TYPE_VIEW_FILTER (view_filter_get_type ())
#define VIEW_FILTER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_VIEW_FILTER, ViewFilter))
#define VIEW_FILTER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_VIEW_FILTER, ViewFilterClass))
#define IS_VIEW_FILTER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_VIEW_FILTER))
#define IS_VIEW_FILTER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_VIEW_FILTER))
#define VIEW_FILTER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_VIEW_FILTER, ViewFilterClass))

typedef struct _ViewFilter ViewFilter;
typedef struct _ViewFilterClass ViewFilterClass;

#define TYPE_SOURCE_COLLECTION (source_collection_get_type ())
#define SOURCE_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SOURCE_COLLECTION, SourceCollection))
#define SOURCE_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SOURCE_COLLECTION, SourceCollectionClass))
#define IS_SOURCE_COLLECTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SOURCE_COLLECTION))
#define IS_SOURCE_COLLECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SOURCE_COLLECTION))
#define SOURCE_COLLECTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SOURCE_COLLECTION, SourceCollectionClass))

typedef struct _SourceCollection SourceCollection;
typedef struct _SourceCollectionClass SourceCollectionClass;

#define VIEW_COLLECTION_TYPE_MONITOR (view_collection_monitor_get_type ())
#define VIEW_COLLECTION_MONITOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VIEW_COLLECTION_TYPE_MONITOR, ViewCollectionMonitor))
#define VIEW_COLLECTION_MONITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VIEW_COLLECTION_TYPE_MONITOR, ViewCollectionMonitorClass))
#define VIEW_COLLECTION_IS_MONITOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VIEW_COLLECTION_TYPE_MONITOR))
#define VIEW_COLLECTION_IS_MONITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VIEW_COLLECTION_TYPE_MONITOR))
#define VIEW_COLLECTION_MONITOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VIEW_COLLECTION_TYPE_MONITOR, ViewCollectionMonitorClass))

typedef struct _ViewCollectionMonitor ViewCollectionMonitor;
typedef struct _ViewCollectionMonitorClass ViewCollectionMonitorClass;

#define VIEW_COLLECTION_TYPE_MONITOR_IMPL (view_collection_monitor_impl_get_type ())
#define VIEW_COLLECTION_MONITOR_IMPL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VIEW_COLLECTION_TYPE_MONITOR_IMPL, ViewCollectionMonitorImpl))
#define VIEW_COLLECTION_MONITOR_IMPL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VIEW_COLLECTION_TYPE_MONITOR_IMPL, ViewCollectionMonitorImplClass))
#define VIEW_COLLECTION_IS_MONITOR_IMPL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VIEW_COLLECTION_TYPE_MONITOR_IMPL))
#define VIEW_COLLECTION_IS_MONITOR_IMPL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VIEW_COLLECTION_TYPE_MONITOR_IMPL))
#define VIEW_COLLECTION_MONITOR_IMPL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VIEW_COLLECTION_TYPE_MONITOR_IMPL, ViewCollectionMonitorImplClass))

typedef struct _ViewCollectionMonitorImpl ViewCollectionMonitorImpl;
typedef struct _ViewCollectionMonitorImplClass ViewCollectionMonitorImplClass;

#define TYPE_DATA_SOURCE (data_source_get_type ())
#define DATA_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DATA_SOURCE, DataSource))
#define DATA_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DATA_SOURCE, DataSourceClass))
#define IS_DATA_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DATA_SOURCE))
#define IS_DATA_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DATA_SOURCE))
#define DATA_SOURCE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DATA_SOURCE, DataSourceClass))

typedef struct _DataSource DataSource;
typedef struct _DataSourceClass DataSourceClass;

#define TYPE_DATA_SET (data_set_get_type ())
#define DATA_SET(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DATA_SET, DataSet))
#define DATA_SET_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DATA_SET, DataSetClass))
#define IS_DATA_SET(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DATA_SET))
#define IS_DATA_SET_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DATA_SET))
#define DATA_SET_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DATA_SET, DataSetClass))

typedef struct _DataSet DataSet;
typedef struct _DataSetClass DataSetClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _data_collection_unref0(var) ((var == NULL) ? NULL : (var = (data_collection_unref (var), NULL)))
#define _data_set_unref0(var) ((var == NULL) ? NULL : (var = (data_set_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _view_filter_unref0(var) ((var == NULL) ? NULL : (var = (view_filter_unref (var), NULL)))

#define TYPE_VIEW_MANAGER (view_manager_get_type ())
#define VIEW_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_VIEW_MANAGER, ViewManager))
#define VIEW_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_VIEW_MANAGER, ViewManagerClass))
#define IS_VIEW_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_VIEW_MANAGER))
#define IS_VIEW_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_VIEW_MANAGER))
#define VIEW_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_VIEW_MANAGER, ViewManagerClass))

typedef struct _ViewManager ViewManager;
typedef struct _ViewManagerClass ViewManagerClass;
#define _view_collection_monitor_unref0(var) ((var == NULL) ? NULL : (var = (view_collection_monitor_unref (var), NULL)))
typedef struct _ViewCollectionMonitorPrivate ViewCollectionMonitorPrivate;
typedef struct _ViewCollectionMonitorImplPrivate ViewCollectionMonitorImplPrivate;
#define _alteration_unref0(var) ((var == NULL) ? NULL : (var = (alteration_unref (var), NULL)))

#define TYPE_THUMBNAIL_SOURCE (thumbnail_source_get_type ())
#define THUMBNAIL_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_THUMBNAIL_SOURCE, ThumbnailSource))
#define THUMBNAIL_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_THUMBNAIL_SOURCE, ThumbnailSourceClass))
#define IS_THUMBNAIL_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_THUMBNAIL_SOURCE))
#define IS_THUMBNAIL_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_THUMBNAIL_SOURCE))
#define THUMBNAIL_SOURCE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_THUMBNAIL_SOURCE, ThumbnailSourceClass))

typedef struct _ThumbnailSource ThumbnailSource;
typedef struct _ThumbnailSourceClass ThumbnailSourceClass;

#define TYPE_MEDIA_SOURCE (media_source_get_type ())
#define MEDIA_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_MEDIA_SOURCE, MediaSource))
#define MEDIA_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_MEDIA_SOURCE, MediaSourceClass))
#define IS_MEDIA_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_MEDIA_SOURCE))
#define IS_MEDIA_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_MEDIA_SOURCE))
#define MEDIA_SOURCE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_MEDIA_SOURCE, MediaSourceClass))

typedef struct _MediaSource MediaSource;
typedef struct _MediaSourceClass MediaSourceClass;

#define TYPE_RATING (rating_get_type ())

#define VIEW_COLLECTION_TYPE_TOGGLE_LISTS (view_collection_toggle_lists_get_type ())
#define VIEW_COLLECTION_TOGGLE_LISTS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VIEW_COLLECTION_TYPE_TOGGLE_LISTS, ViewCollectionToggleLists))
#define VIEW_COLLECTION_TOGGLE_LISTS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VIEW_COLLECTION_TYPE_TOGGLE_LISTS, ViewCollectionToggleListsClass))
#define VIEW_COLLECTION_IS_TOGGLE_LISTS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VIEW_COLLECTION_TYPE_TOGGLE_LISTS))
#define VIEW_COLLECTION_IS_TOGGLE_LISTS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VIEW_COLLECTION_TYPE_TOGGLE_LISTS))
#define VIEW_COLLECTION_TOGGLE_LISTS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VIEW_COLLECTION_TYPE_TOGGLE_LISTS, ViewCollectionToggleListsClass))

typedef struct _ViewCollectionToggleLists ViewCollectionToggleLists;
typedef struct _ViewCollectionToggleListsClass ViewCollectionToggleListsClass;
typedef struct _ViewCollectionToggleListsPrivate ViewCollectionToggleListsPrivate;
typedef struct _ViewCollectionParamSpecMonitor ViewCollectionParamSpecMonitor;
#define _view_manager_unref0(var) ((var == NULL) ? NULL : (var = (view_manager_unref (var), NULL)))
enum  {
	VIEW_COLLECTION_ITEMS_SELECTED_SIGNAL,
	VIEW_COLLECTION_ITEMS_UNSELECTED_SIGNAL,
	VIEW_COLLECTION_ITEMS_STATE_CHANGED_SIGNAL,
	VIEW_COLLECTION_SELECTION_GROUP_ALTERED_SIGNAL,
	VIEW_COLLECTION_ITEMS_SHOWN_SIGNAL,
	VIEW_COLLECTION_ITEMS_HIDDEN_SIGNAL,
	VIEW_COLLECTION_ITEMS_VISIBILITY_CHANGED_SIGNAL,
	VIEW_COLLECTION_ITEM_VIEW_ALTERED_SIGNAL,
	VIEW_COLLECTION_ITEM_GEOMETRY_ALTERED_SIGNAL,
	VIEW_COLLECTION_VIEWS_ALTERED_SIGNAL,
	VIEW_COLLECTION_GEOMETRIES_ALTERED_SIGNAL,
	VIEW_COLLECTION_VIEW_FILTER_INSTALLED_SIGNAL,
	VIEW_COLLECTION_VIEW_FILTER_REMOVED_SIGNAL,
	VIEW_COLLECTION_LAST_SIGNAL
};
static guint view_collection_signals[VIEW_COLLECTION_LAST_SIGNAL] = {0};
typedef struct _ViewManagerPrivate ViewManagerPrivate;
typedef struct _ParamSpecViewManager ParamSpecViewManager;
typedef struct _ViewFilterPrivate ViewFilterPrivate;
typedef struct _ParamSpecViewFilter ParamSpecViewFilter;
enum  {
	VIEW_FILTER_REFRESH_SIGNAL,
	VIEW_FILTER_LAST_SIGNAL
};
static guint view_filter_signals[VIEW_FILTER_LAST_SIGNAL] = {0};
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

typedef gint64 (*Comparator) (void* a, void* b, void* user_data);
typedef gboolean (*ComparatorPredicate) (DataObject* object, Alteration* alteration, void* user_data);
typedef gboolean (*ProgressMonitor) (guint64 current, guint64 total, gboolean do_event_loop, void* user_data);
struct _MarkerIface {
	GTypeInterface parent_iface;
	void (*mark) (Marker* self, DataObject* object);
	void (*unmark) (Marker* self, DataObject* object);
	gboolean (*toggle) (Marker* self, DataObject* object);
	void (*mark_many) (Marker* self, GeeCollection* list);
	void (*unmark_many) (Marker* self, GeeCollection* list);
	void (*mark_all) (Marker* self);
	gint (*get_count) (Marker* self);
	GeeCollection* (*get_all) (Marker* self);
};

struct _DataCollection {
	GTypeInstance parent_instance;
	volatile int ref_count;
	DataCollectionPrivate * priv;
};

struct _DataCollectionClass {
	GTypeClass parent_class;
	void (*finalize) (DataCollection *self);
	gchar* (*to_string) (DataCollection* self);
	void (*notify_items_added) (DataCollection* self, GeeIterable* added);
	void (*notify_items_removed) (DataCollection* self, GeeIterable* removed);
	void (*notify_contents_altered) (DataCollection* self, GeeIterable* added, GeeIterable* removed);
	void (*notify_items_altered) (DataCollection* self, GeeMap* items);
	void (*notify_ordering_changed) (DataCollection* self);
	void (*notify_property_set) (DataCollection* self, const gchar* name, GValue* old, GValue* val);
	void (*notify_property_cleared) (DataCollection* self, const gchar* name);
	gboolean (*valid_type) (DataCollection* self, DataObject* object);
	void (*set_comparator) (DataCollection* self, Comparator comparator, void* comparator_target, ComparatorPredicate predicate, void* predicate_target);
	void (*reset_comparator) (DataCollection* self);
	GeeCollection* (*get_all) (DataCollection* self);
	gint (*get_count) (DataCollection* self);
	DataObject* (*get_at) (DataCollection* self, gint index);
	gint (*index_of) (DataCollection* self, DataObject* object);
	gboolean (*contains) (DataCollection* self, DataObject* object);
	gboolean (*add) (DataCollection* self, DataObject* object);
	GeeCollection* (*add_many) (DataCollection* self, GeeCollection* objects, ProgressMonitor monitor, void* monitor_target);
	void (*remove_marked) (DataCollection* self, Marker* m);
	void (*clear) (DataCollection* self);
	void (*close) (DataCollection* self);
	void (*notify_frozen) (DataCollection* self);
	void (*notify_thawed) (DataCollection* self);
	void (*items_added) (DataCollection* self, GeeIterable* added);
	void (*items_removed) (DataCollection* self, GeeIterable* removed);
	void (*contents_altered) (DataCollection* self, GeeIterable* added, GeeIterable* removed);
	void (*items_altered) (DataCollection* self, GeeMap* items);
	void (*ordering_changed) (DataCollection* self);
	void (*property_set) (DataCollection* self, const gchar* name, GValue* old, GValue* val);
	void (*property_cleared) (DataCollection* self, const gchar* name);
	void (*frozen) (DataCollection* self);
	void (*thawed) (DataCollection* self);
};

struct _ViewCollection {
	DataCollection parent_instance;
	ViewCollectionPrivate * priv;
};

struct _ViewCollectionClass {
	DataCollectionClass parent_class;
	void (*notify_items_selected_unselected) (ViewCollection* self, GeeCollection* selected, GeeCollection* unselected);
	void (*notify_selection_group_altered) (ViewCollection* self);
	void (*notify_item_view_altered) (ViewCollection* self, DataView* view);
	void (*notify_views_altered) (ViewCollection* self, GeeCollection* views);
	void (*notify_item_geometry_altered) (ViewCollection* self, DataView* view);
	void (*notify_geometries_altered) (ViewCollection* self, GeeCollection* views);
	void (*notify_items_shown) (ViewCollection* self, GeeCollection* shown);
	void (*notify_items_hidden) (ViewCollection* self, GeeCollection* hidden);
	void (*notify_items_visibility_changed) (ViewCollection* self, GeeCollection* changed);
	void (*notify_view_filter_installed) (ViewCollection* self, ViewFilter* filter);
	void (*notify_view_filter_removed) (ViewCollection* self, ViewFilter* filter);
	DataView* (*get_first) (ViewCollection* self);
	DataView* (*get_first_unrejected) (ViewCollection* self);
	DataView* (*get_last) (ViewCollection* self);
	DataView* (*get_next) (ViewCollection* self, DataView* view);
	DataView* (*get_previous) (ViewCollection* self, DataView* view);
	void (*items_selected) (ViewCollection* self, GeeIterable* selected);
	void (*items_unselected) (ViewCollection* self, GeeIterable* unselected);
	void (*items_state_changed) (ViewCollection* self, GeeIterable* changed);
	void (*selection_group_altered) (ViewCollection* self);
	void (*items_shown) (ViewCollection* self, GeeCollection* visible);
	void (*items_hidden) (ViewCollection* self, GeeCollection* hidden);
	void (*items_visibility_changed) (ViewCollection* self, GeeCollection* changed);
	void (*item_view_altered) (ViewCollection* self, DataView* view);
	void (*item_geometry_altered) (ViewCollection* self, DataView* view);
	void (*views_altered) (ViewCollection* self, GeeCollection* views);
	void (*geometries_altered) (ViewCollection* self, GeeCollection* views);
	void (*view_filter_installed) (ViewCollection* self, ViewFilter* filer);
	void (*view_filter_removed) (ViewCollection* self, ViewFilter* filer);
};

typedef DataView* (*CreateView) (DataSource* source, void* user_data);
typedef gboolean (*CreateViewPredicate) (DataSource* source, void* user_data);
struct _ViewCollectionPrivate {
	GeeHashMultiMap* monitors;
	ViewCollection* mirroring;
	CreateView mirroring_ctor;
	gpointer mirroring_ctor_target;
	CreateViewPredicate should_mirror;
	gpointer should_mirror_target;
	GeeSet* filters;
	DataSet* selected;
	DataSet* visible;
	GeeHashSet* frozen_views_altered;
	GeeHashSet* frozen_geometries_altered;
	GeeHashMap* source_map;
};

struct _ViewCollectionMonitor {
	GTypeInstance parent_instance;
	volatile int ref_count;
	ViewCollectionMonitorPrivate * priv;
};

struct _ViewCollectionMonitorClass {
	GTypeClass parent_class;
	void (*finalize) (ViewCollectionMonitor *self);
};

struct _ViewCollectionMonitorImpl {
	ViewCollectionMonitor parent_instance;
	ViewCollectionMonitorImplPrivate * priv;
	ViewCollection* owner;
	SourceCollection* sources;
	ViewManager* manager;
	Alteration* prereq;
};

struct _ViewCollectionMonitorImplClass {
	ViewCollectionMonitorClass parent_class;
};

typedef enum  {
	RATING_REJECTED = -1,
	RATING_UNRATED = 0,
	RATING_ONE = 1,
	RATING_TWO = 2,
	RATING_THREE = 3,
	RATING_FOUR = 4,
	RATING_FIVE = 5
} Rating;

typedef gboolean (*MarkedAction) (DataObject* object, GObject* user, void* user_data);
struct _ViewCollectionToggleLists {
	GObject parent_instance;
	ViewCollectionToggleListsPrivate * priv;
	GeeArrayList* selected;
	GeeArrayList* unselected;
};

struct _ViewCollectionToggleListsClass {
	GObjectClass parent_class;
};

struct _ViewCollectionParamSpecMonitor {
	GParamSpec parent_instance;
};

struct _ViewManager {
	GTypeInstance parent_instance;
	volatile int ref_count;
	ViewManagerPrivate * priv;
};

struct _ViewManagerClass {
	GTypeClass parent_class;
	void (*finalize) (ViewManager *self);
	gboolean (*include_in_view) (ViewManager* self, DataSource* source);
	DataView* (*create_view) (ViewManager* self, DataSource* source);
};

struct _ParamSpecViewManager {
	GParamSpec parent_instance;
};

struct _ViewFilter {
	GTypeInstance parent_instance;
	volatile int ref_count;
	ViewFilterPrivate * priv;
};

struct _ViewFilterClass {
	GTypeClass parent_class;
	void (*finalize) (ViewFilter *self);
	gboolean (*predicate) (ViewFilter* self, DataView* view);
	void (*refresh) (ViewFilter* self);
};

struct _ParamSpecViewFilter {
	GParamSpec parent_instance;
};


static gpointer view_collection_parent_class = NULL;
static gpointer view_collection_monitor_parent_class = NULL;
static gpointer view_collection_monitor_impl_parent_class = NULL;
static gpointer view_collection_toggle_lists_parent_class = NULL;
static gpointer view_manager_parent_class = NULL;
static gpointer view_filter_parent_class = NULL;

gpointer data_collection_ref (gpointer instance);
void data_collection_unref (gpointer instance);
GParamSpec* param_spec_data_collection (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_data_collection (GValue* value, gpointer v_object);
void value_take_data_collection (GValue* value, gpointer v_object);
gpointer value_get_data_collection (const GValue* value);
GType data_collection_get_type (void) G_GNUC_CONST;
GType data_object_get_type (void) G_GNUC_CONST;
gpointer alteration_ref (gpointer instance);
void alteration_unref (gpointer instance);
GParamSpec* param_spec_alteration (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_alteration (GValue* value, gpointer v_object);
void value_take_alteration (GValue* value, gpointer v_object);
gpointer value_get_alteration (const GValue* value);
GType alteration_get_type (void) G_GNUC_CONST;
GType marker_get_type (void) G_GNUC_CONST;
GType view_collection_get_type (void) G_GNUC_CONST;
GType data_view_get_type (void) G_GNUC_CONST;
gpointer view_filter_ref (gpointer instance);
void view_filter_unref (gpointer instance);
GParamSpec* param_spec_view_filter (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_view_filter (GValue* value, gpointer v_object);
void value_take_view_filter (GValue* value, gpointer v_object);
gpointer value_get_view_filter (const GValue* value);
GType view_filter_get_type (void) G_GNUC_CONST;
GType source_collection_get_type (void) G_GNUC_CONST;
gpointer view_collection_monitor_ref (gpointer instance);
void view_collection_monitor_unref (gpointer instance);
GParamSpec* view_collection_param_spec_monitor (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void view_collection_value_set_monitor (GValue* value, gpointer v_object);
void view_collection_value_take_monitor (GValue* value, gpointer v_object);
gpointer view_collection_value_get_monitor (const GValue* value);
GType view_collection_monitor_get_type (void) G_GNUC_CONST;
static GType view_collection_monitor_impl_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
GType data_source_get_type (void) G_GNUC_CONST;
gpointer data_set_ref (gpointer instance);
void data_set_unref (gpointer instance);
GParamSpec* param_spec_data_set (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_data_set (GValue* value, gpointer v_object);
void value_take_data_set (GValue* value, gpointer v_object);
gpointer value_get_data_set (const GValue* value);
GType data_set_get_type (void) G_GNUC_CONST;
#define VIEW_COLLECTION_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TYPE_VIEW_COLLECTION, ViewCollectionPrivate))
enum  {
	VIEW_COLLECTION_DUMMY_PROPERTY
};
DataSet* data_set_new (void);
DataSet* data_set_construct (GType object_type);
ViewCollection* view_collection_new (const gchar* name);
ViewCollection* view_collection_construct (GType object_type, const gchar* name);
DataCollection* data_collection_new (const gchar* name);
DataCollection* data_collection_construct (GType object_type, const gchar* name);
void view_collection_notify_items_selected_unselected (ViewCollection* self, GeeCollection* selected, GeeCollection* unselected);
static void view_collection_real_notify_items_selected_unselected (ViewCollection* self, GeeCollection* selected, GeeCollection* unselected);
void view_collection_notify_selection_group_altered (ViewCollection* self);
static void view_collection_real_notify_selection_group_altered (ViewCollection* self);
void view_collection_notify_item_view_altered (ViewCollection* self, DataView* view);
static void view_collection_real_notify_item_view_altered (ViewCollection* self, DataView* view);
void view_collection_notify_views_altered (ViewCollection* self, GeeCollection* views);
static void view_collection_real_notify_views_altered (ViewCollection* self, GeeCollection* views);
void view_collection_notify_item_geometry_altered (ViewCollection* self, DataView* view);
static void view_collection_real_notify_item_geometry_altered (ViewCollection* self, DataView* view);
void view_collection_notify_geometries_altered (ViewCollection* self, GeeCollection* views);
static void view_collection_real_notify_geometries_altered (ViewCollection* self, GeeCollection* views);
void view_collection_notify_items_shown (ViewCollection* self, GeeCollection* shown);
static void view_collection_real_notify_items_shown (ViewCollection* self, GeeCollection* shown);
void view_collection_notify_items_hidden (ViewCollection* self, GeeCollection* hidden);
static void view_collection_real_notify_items_hidden (ViewCollection* self, GeeCollection* hidden);
void view_collection_notify_items_visibility_changed (ViewCollection* self, GeeCollection* changed);
static void view_collection_real_notify_items_visibility_changed (ViewCollection* self, GeeCollection* changed);
void view_collection_notify_view_filter_installed (ViewCollection* self, ViewFilter* filter);
static void view_collection_real_notify_view_filter_installed (ViewCollection* self, ViewFilter* filter);
void view_collection_notify_view_filter_removed (ViewCollection* self, ViewFilter* filter);
static void view_collection_real_notify_view_filter_removed (ViewCollection* self, ViewFilter* filter);
static void view_collection_real_clear (DataCollection* base);
gchar* data_collection_to_string (DataCollection* self);
void data_collection_clear (DataCollection* self);
static void view_collection_real_close (DataCollection* base);
void view_collection_halt_all_monitoring (ViewCollection* self);
void view_collection_halt_mirroring (ViewCollection* self);
static void view_collection_on_view_filter_refresh (ViewCollection* self);
static void _view_collection_on_view_filter_refresh_view_filter_refresh (ViewFilter* _sender, gpointer self);
void data_collection_close (DataCollection* self);
gpointer view_manager_ref (gpointer instance);
void view_manager_unref (gpointer instance);
GParamSpec* param_spec_view_manager (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_view_manager (GValue* value, gpointer v_object);
void value_take_view_manager (GValue* value, gpointer v_object);
gpointer value_get_view_manager (const GValue* value);
GType view_manager_get_type (void) G_GNUC_CONST;
ViewCollectionMonitor* view_collection_monitor_source_collection (ViewCollection* self, SourceCollection* sources, ViewManager* manager, Alteration* prereq, GeeCollection* initial, ProgressMonitor progress_monitor, void* progress_monitor_target);
void data_collection_freeze_notifications (DataCollection* self);
static ViewCollectionMonitorImpl* view_collection_monitor_impl_new (ViewCollection* owner, SourceCollection* sources, ViewManager* manager, Alteration* prereq);
static ViewCollectionMonitorImpl* view_collection_monitor_impl_construct (GType object_type, ViewCollection* owner, SourceCollection* sources, ViewManager* manager, Alteration* prereq);
DataView* view_manager_create_view (ViewManager* self, DataSource* source);
GeeCollection* data_collection_add_many (DataCollection* self, GeeCollection* objects, ProgressMonitor monitor, void* monitor_target);
static void view_collection_add_sources (ViewCollection* self, SourceCollection* sources, GeeIterable* added, ProgressMonitor progress_monitor, void* progress_monitor_target);
GeeCollection* data_collection_get_all (DataCollection* self);
void data_collection_thaw_notifications (DataCollection* self);
void view_collection_halt_monitoring (ViewCollection* self, ViewCollectionMonitor* m);
void view_collection_mirror (ViewCollection* self, ViewCollection* to_mirror, CreateView mirroring_ctor, void* mirroring_ctor_target, CreateViewPredicate should_mirror, void* should_mirror_target);
void data_collection_set_comparator (DataCollection* self, Comparator comparator, void* comparator_target, ComparatorPredicate predicate, void* predicate_target);
Comparator data_collection_get_comparator (DataCollection* self, void** result_target);
ComparatorPredicate data_collection_get_comparator_predicate (DataCollection* self, void** result_target);
static void view_collection_on_mirror_contents_added (ViewCollection* self, GeeIterable* added);
static void _view_collection_on_mirror_contents_added_data_collection_items_added (DataCollection* _sender, GeeIterable* added, gpointer self);
static void view_collection_on_mirror_contents_removed (ViewCollection* self, GeeIterable* removed);
static void _view_collection_on_mirror_contents_removed_data_collection_items_removed (DataCollection* _sender, GeeIterable* removed, gpointer self);
void view_collection_copy_into (ViewCollection* self, ViewCollection* to_copy, CreateView copying_ctor, void* copying_ctor_target, CreateViewPredicate should_copy, void* should_copy_target);
DataSource* data_view_get_source (DataView* self);
gboolean view_collection_is_view_filter_installed (ViewCollection* self, ViewFilter* f);
void view_collection_install_view_filter (ViewCollection* self, ViewFilter* f);
void view_collection_remove_view_filter (ViewCollection* self, ViewFilter* f);
static void view_collection_filter_altered_items (ViewCollection* self, GeeCollection* views);
static gboolean view_collection_is_in_filter (ViewCollection* self, DataView* view);
gboolean view_filter_predicate (ViewFilter* self, DataView* view);
static gboolean view_collection_real_valid_type (DataCollection* base, DataObject* object);
static void view_collection_on_sources_added (ViewCollection* self, DataCollection* sources, GeeIterable* added);
gboolean view_manager_include_in_view (ViewManager* self, DataSource* source);
static DataView* _view_manager_create_view_create_view (DataSource* source, gpointer self);
gboolean data_collection_add (DataCollection* self, DataObject* object);
static gboolean view_collection_real_add (DataCollection* base, DataObject* object);
void data_view_internal_set_visible (DataView* self, gboolean visible);
GeeCollection* data_collection_get_singleton (DataObject* object);
static GeeCollection* view_collection_real_add_many (DataCollection* base, GeeCollection* objects, ProgressMonitor monitor, void* monitor_target);
static void view_collection_on_sources_removed (ViewCollection* self, GeeIterable* removed);
Marker* data_collection_start_marking (DataCollection* self);
void marker_mark (Marker* self, DataObject* object);
gint marker_get_count (Marker* self);
void data_collection_remove_marked (DataCollection* self, Marker* m);
static void view_collection_on_sources_altered (ViewCollection* self, DataCollection* collection, GeeMap* items);
gboolean alteration_contains_any (Alteration* self, Alteration* other);
gboolean view_collection_has_view_for_source (ViewCollection* self, DataSource* source);
DataView* view_collection_get_view_for_source (ViewCollection* self, DataSource* source);
gboolean data_set_contains (DataSet* self, DataObject* object);
gboolean data_set_resort_object (DataSet* self, DataObject* object, Alteration* alteration);
static gboolean view_collection_is_visible (ViewCollection* self, DataView* view);
Marker* data_collection_mark_many (DataCollection* self, GeeCollection* objects);
void data_collection_notify_ordering_changed (DataCollection* self);
static void view_collection_real_notify_items_added (DataCollection* base, GeeIterable* added);
gboolean data_view_is_selected (DataView* self);
gboolean data_view_is_visible (DataView* self);
static gboolean view_collection_add_many_visible (ViewCollection* self, GeeCollection* many);
static void view_collection_add_many_selected (ViewCollection* self, GeeCollection* views);
void data_collection_notify_items_added (DataCollection* self, GeeIterable* added);
static void view_collection_real_notify_items_removed (DataCollection* base, GeeIterable* removed);
gboolean data_set_remove (DataSet* self, DataObject* object);
static void view_collection_remove_many_selected (ViewCollection* self, GeeCollection* views);
void data_collection_notify_items_removed (DataCollection* self, GeeIterable* removed);
static void view_collection_show_items (ViewCollection* self, GeeList* to_show);
static void view_collection_hide_items (ViewCollection* self, GeeList* to_hide);
static void view_collection_real_items_altered (DataCollection* base, GeeMap* map);
static void view_collection_real_set_comparator (DataCollection* base, Comparator comparator, void* comparator_target, ComparatorPredicate predicate, void* predicate_target);
void data_set_set_comparator (DataSet* self, Comparator user_comparator, void* user_comparator_target, ComparatorPredicate comparator_predicate, void* comparator_predicate_target);
static void view_collection_real_reset_comparator (DataCollection* base);
void data_set_reset_comparator (DataSet* self);
void data_collection_reset_comparator (DataCollection* self);
static GeeCollection* view_collection_real_get_all (DataCollection* base);
GeeList* data_set_get_all (DataSet* self);
GeeCollection* view_collection_get_all_unfiltered (ViewCollection* self);
static gint view_collection_real_get_count (DataCollection* base);
gint data_set_get_count (DataSet* self);
gint data_collection_get_count (DataCollection* self);
gint view_collection_get_unfiltered_count (ViewCollection* self);
static DataObject* view_collection_real_get_at (DataCollection* base, gint index);
DataObject* data_set_get_at (DataSet* self, gint index);
DataObject* data_collection_get_at (DataCollection* self, gint index);
static gint view_collection_real_index_of (DataCollection* base, DataObject* object);
gint data_set_index_of (DataSet* self, DataObject* object);
gint data_collection_index_of (DataCollection* self, DataObject* object);
static gboolean view_collection_real_contains (DataCollection* base, DataObject* object);
gboolean data_collection_contains (DataCollection* self, DataObject* object);
DataView* view_collection_get_first (ViewCollection* self);
static DataView* view_collection_real_get_first (ViewCollection* self);
DataView* view_collection_get_first_unrejected (ViewCollection* self);
static DataView* view_collection_real_get_first_unrejected (ViewCollection* self);
GType thumbnail_source_get_type (void) G_GNUC_CONST;
GType media_source_get_type (void) G_GNUC_CONST;
GType rating_get_type (void) G_GNUC_CONST;
Rating media_source_get_rating (MediaSource* self);
DataView* view_collection_get_next (ViewCollection* self, DataView* view);
DataView* view_collection_get_last (ViewCollection* self);
static DataView* view_collection_real_get_last (ViewCollection* self);
static DataView* view_collection_real_get_next (ViewCollection* self, DataView* view);
DataView* view_collection_get_previous (ViewCollection* self, DataView* view);
static DataView* view_collection_real_get_previous (ViewCollection* self, DataView* view);
gboolean view_collection_get_immediate_neighbors (ViewCollection* self, DataSource* home, DataSource* * next, DataSource* * prev, const gchar* type_selector);
gchar* data_source_get_typename (DataSource* self);
GeeSet* view_collection_get_extended_neighbors (ViewCollection* self, DataSource* home, const gchar* typename);
gboolean data_set_add_many (DataSet* self, GeeCollection* objects);
gboolean data_set_remove_many (DataSet* self, GeeCollection* objects);
void view_collection_select_marked (ViewCollection* self, Marker* marker);
void data_collection_act_on_marked (DataCollection* self, Marker* m, MarkedAction action, void* action_target, ProgressMonitor monitor, void* monitor_target, GObject* user);
static gboolean view_collection_select_item (ViewCollection* self, DataObject* object, GObject* user);
static gboolean _view_collection_select_item_marked_action (DataObject* object, GObject* user, gpointer self);
void view_collection_select_all (ViewCollection* self);
void marker_mark_all (Marker* self);
void data_view_internal_set_selected (DataView* self, gboolean selected);
void view_collection_unselect_marked (ViewCollection* self, Marker* marker);
static gboolean view_collection_unselect_item (ViewCollection* self, DataObject* object, GObject* user);
static gboolean _view_collection_unselect_item_marked_action (DataObject* object, GObject* user, gpointer self);
void view_collection_unselect_all (ViewCollection* self);
void marker_mark_many (Marker* self, GeeCollection* list);
GeeList* view_collection_get_selected (ViewCollection* self);
void view_collection_unselect_all_but (ViewCollection* self, DataView* exception);
void view_collection_unselect_and_select_marked (ViewCollection* self, Marker* unselect, Marker* select);
void view_collection_toggle_marked (ViewCollection* self, Marker* marker);
static GType view_collection_toggle_lists_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
static ViewCollectionToggleLists* view_collection_toggle_lists_new (void);
static ViewCollectionToggleLists* view_collection_toggle_lists_construct (GType object_type);
static gboolean view_collection_toggle_item (ViewCollection* self, DataObject* object, GObject* user);
static gboolean _view_collection_toggle_item_marked_action (DataObject* object, GObject* user, gpointer self);
gboolean data_view_internal_toggle (DataView* self);
gint view_collection_get_selected_count (ViewCollection* self);
DataView* view_collection_get_selected_at (ViewCollection* self, gint index);
DataSet* data_collection_get_dataset_copy (DataCollection* self);
gboolean view_collection_has_view_for_source_with_filtered (ViewCollection* self, DataSource* source);
DataView* view_collection_get_view_for_source_filtered (ViewCollection* self, DataSource* source);
GeeCollection* view_collection_get_sources (ViewCollection* self);
gboolean view_collection_has_source_of_type (ViewCollection* self, GType t);
gint view_collection_get_sources_of_type_count (ViewCollection* self, GType t);
GeeList* view_collection_get_sources_of_type (ViewCollection* self, GType t);
GeeList* view_collection_get_selected_sources (ViewCollection* self);
DataSource* view_collection_get_selected_source_at (ViewCollection* self, gint index);
GeeList* view_collection_get_selected_sources_of_type (ViewCollection* self, GType t);
gint view_collection_index_of_source (ViewCollection* self, DataSource* source);
void view_collection_internal_notify_view_altered (ViewCollection* self, DataView* view);
gboolean data_collection_are_notifications_frozen (DataCollection* self);
void view_collection_internal_notify_geometry_altered (ViewCollection* self, DataView* view);
static void view_collection_real_notify_thawed (DataCollection* base);
void data_collection_notify_thawed (DataCollection* self);
gboolean view_collection_are_items_filtered_out (ViewCollection* self);
static void view_collection_real_items_selected (ViewCollection* self, GeeIterable* selected);
static void view_collection_real_items_unselected (ViewCollection* self, GeeIterable* unselected);
static void view_collection_real_items_state_changed (ViewCollection* self, GeeIterable* changed);
static void view_collection_real_selection_group_altered (ViewCollection* self);
static void view_collection_real_items_shown (ViewCollection* self, GeeCollection* visible);
static void view_collection_real_items_hidden (ViewCollection* self, GeeCollection* hidden);
static void view_collection_real_items_visibility_changed (ViewCollection* self, GeeCollection* changed);
static void view_collection_real_item_view_altered (ViewCollection* self, DataView* view);
static void view_collection_real_item_geometry_altered (ViewCollection* self, DataView* view);
static void view_collection_real_views_altered (ViewCollection* self, GeeCollection* views);
static void view_collection_real_geometries_altered (ViewCollection* self, GeeCollection* views);
static void view_collection_real_view_filter_installed (ViewCollection* self, ViewFilter* filer);
static void g_cclosure_user_marshal_VOID__VIEW_FILTER (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data);
static void view_collection_real_view_filter_removed (ViewCollection* self, ViewFilter* filer);
enum  {
	VIEW_COLLECTION_MONITOR_DUMMY_PROPERTY
};
ViewCollectionMonitor* view_collection_monitor_new (void);
ViewCollectionMonitor* view_collection_monitor_construct (GType object_type);
static void view_collection_monitor_finalize (ViewCollectionMonitor * obj);
enum  {
	VIEW_COLLECTION_MONITOR_IMPL_DUMMY_PROPERTY
};
static void _view_collection_on_sources_added_data_collection_items_added (DataCollection* _sender, GeeIterable* added, gpointer self);
static void _view_collection_on_sources_removed_data_collection_items_removed (DataCollection* _sender, GeeIterable* removed, gpointer self);
static void _view_collection_on_sources_altered_data_collection_items_altered (DataCollection* _sender, GeeMap* items, gpointer self);
static void view_collection_monitor_impl_finalize (ViewCollectionMonitor * obj);
enum  {
	VIEW_COLLECTION_TOGGLE_LISTS_DUMMY_PROPERTY
};
static void view_collection_toggle_lists_finalize (GObject * obj);
static void view_collection_finalize (DataCollection * obj);
enum  {
	VIEW_MANAGER_DUMMY_PROPERTY
};
static gboolean view_manager_real_include_in_view (ViewManager* self, DataSource* source);
static DataView* view_manager_real_create_view (ViewManager* self, DataSource* source);
ViewManager* view_manager_construct (GType object_type);
static void view_manager_finalize (ViewManager * obj);
enum  {
	VIEW_FILTER_DUMMY_PROPERTY
};
static gboolean view_filter_real_predicate (ViewFilter* self, DataView* view);
ViewFilter* view_filter_construct (GType object_type);
static void view_filter_real_refresh (ViewFilter* self);
static void view_filter_finalize (ViewFilter * obj);


ViewCollection* view_collection_construct (GType object_type, const gchar* name) {
	ViewCollection* self = NULL;
	const gchar* _tmp0_;
#line 125 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (name != NULL, NULL);
#line 126 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = name;
#line 126 "/shotwell/src/core/ViewCollection.vala"
	self = (ViewCollection*) data_collection_construct (object_type, _tmp0_);
#line 125 "/shotwell/src/core/ViewCollection.vala"
	return self;
#line 733 "ViewCollection.c"
}


ViewCollection* view_collection_new (const gchar* name) {
#line 125 "/shotwell/src/core/ViewCollection.vala"
	return view_collection_construct (TYPE_VIEW_COLLECTION, name);
#line 740 "ViewCollection.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 142 "/shotwell/src/core/ViewCollection.vala"
	return self ? g_object_ref (self) : NULL;
#line 747 "ViewCollection.c"
}


static void view_collection_real_notify_items_selected_unselected (ViewCollection* self, GeeCollection* selected, GeeCollection* unselected) {
	gboolean _tmp0_ = FALSE;
	GeeCollection* _tmp1_;
	gboolean has_selected = FALSE;
	gboolean _tmp5_ = FALSE;
	GeeCollection* _tmp6_;
	gboolean has_unselected = FALSE;
	gboolean _tmp10_;
	gboolean _tmp12_;
	GeeCollection* sum = NULL;
	gboolean _tmp14_ = FALSE;
	gboolean _tmp15_;
	GeeCollection* _tmp32_;
#line 129 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail ((selected == NULL) || GEE_IS_COLLECTION (selected));
#line 129 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail ((unselected == NULL) || GEE_IS_COLLECTION (unselected));
#line 131 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = selected;
#line 131 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp1_ != NULL) {
#line 772 "ViewCollection.c"
		GeeCollection* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
#line 131 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = selected;
#line 131 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = gee_collection_get_size (_tmp2_);
#line 131 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = _tmp3_;
#line 131 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = _tmp4_ > 0;
#line 784 "ViewCollection.c"
	} else {
#line 131 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = FALSE;
#line 788 "ViewCollection.c"
	}
#line 131 "/shotwell/src/core/ViewCollection.vala"
	has_selected = _tmp0_;
#line 132 "/shotwell/src/core/ViewCollection.vala"
	_tmp6_ = unselected;
#line 132 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp6_ != NULL) {
#line 796 "ViewCollection.c"
		GeeCollection* _tmp7_;
		gint _tmp8_;
		gint _tmp9_;
#line 132 "/shotwell/src/core/ViewCollection.vala"
		_tmp7_ = unselected;
#line 132 "/shotwell/src/core/ViewCollection.vala"
		_tmp8_ = gee_collection_get_size (_tmp7_);
#line 132 "/shotwell/src/core/ViewCollection.vala"
		_tmp9_ = _tmp8_;
#line 132 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = _tmp9_ > 0;
#line 808 "ViewCollection.c"
	} else {
#line 132 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = FALSE;
#line 812 "ViewCollection.c"
	}
#line 132 "/shotwell/src/core/ViewCollection.vala"
	has_unselected = _tmp5_;
#line 134 "/shotwell/src/core/ViewCollection.vala"
	_tmp10_ = has_selected;
#line 134 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp10_) {
#line 820 "ViewCollection.c"
		GeeCollection* _tmp11_;
#line 135 "/shotwell/src/core/ViewCollection.vala"
		_tmp11_ = selected;
#line 135 "/shotwell/src/core/ViewCollection.vala"
		g_signal_emit (self, view_collection_signals[VIEW_COLLECTION_ITEMS_SELECTED_SIGNAL], 0, G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, GEE_TYPE_ITERABLE, GeeIterable));
#line 826 "ViewCollection.c"
	}
#line 137 "/shotwell/src/core/ViewCollection.vala"
	_tmp12_ = has_unselected;
#line 137 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp12_) {
#line 832 "ViewCollection.c"
		GeeCollection* _tmp13_;
#line 138 "/shotwell/src/core/ViewCollection.vala"
		_tmp13_ = unselected;
#line 138 "/shotwell/src/core/ViewCollection.vala"
		g_signal_emit (self, view_collection_signals[VIEW_COLLECTION_ITEMS_UNSELECTED_SIGNAL], 0, G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, GEE_TYPE_ITERABLE, GeeIterable));
#line 838 "ViewCollection.c"
	}
#line 141 "/shotwell/src/core/ViewCollection.vala"
	_tmp15_ = has_selected;
#line 141 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp15_) {
#line 844 "ViewCollection.c"
		gboolean _tmp16_;
#line 141 "/shotwell/src/core/ViewCollection.vala"
		_tmp16_ = has_unselected;
#line 141 "/shotwell/src/core/ViewCollection.vala"
		_tmp14_ = !_tmp16_;
#line 850 "ViewCollection.c"
	} else {
#line 141 "/shotwell/src/core/ViewCollection.vala"
		_tmp14_ = FALSE;
#line 854 "ViewCollection.c"
	}
#line 141 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp14_) {
#line 858 "ViewCollection.c"
		GeeCollection* _tmp17_;
		GeeCollection* _tmp18_;
#line 142 "/shotwell/src/core/ViewCollection.vala"
		_tmp17_ = selected;
#line 142 "/shotwell/src/core/ViewCollection.vala"
		_tmp18_ = _g_object_ref0 (_tmp17_);
#line 142 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (sum);
#line 142 "/shotwell/src/core/ViewCollection.vala"
		sum = _tmp18_;
#line 869 "ViewCollection.c"
	} else {
		gboolean _tmp19_ = FALSE;
		gboolean _tmp20_;
#line 143 "/shotwell/src/core/ViewCollection.vala"
		_tmp20_ = has_selected;
#line 143 "/shotwell/src/core/ViewCollection.vala"
		if (!_tmp20_) {
#line 877 "ViewCollection.c"
			gboolean _tmp21_;
#line 143 "/shotwell/src/core/ViewCollection.vala"
			_tmp21_ = has_unselected;
#line 143 "/shotwell/src/core/ViewCollection.vala"
			_tmp19_ = _tmp21_;
#line 883 "ViewCollection.c"
		} else {
#line 143 "/shotwell/src/core/ViewCollection.vala"
			_tmp19_ = FALSE;
#line 887 "ViewCollection.c"
		}
#line 143 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp19_) {
#line 891 "ViewCollection.c"
			GeeCollection* _tmp22_;
			GeeCollection* _tmp23_;
#line 144 "/shotwell/src/core/ViewCollection.vala"
			_tmp22_ = unselected;
#line 144 "/shotwell/src/core/ViewCollection.vala"
			_tmp23_ = _g_object_ref0 (_tmp22_);
#line 144 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (sum);
#line 144 "/shotwell/src/core/ViewCollection.vala"
			sum = _tmp23_;
#line 902 "ViewCollection.c"
		} else {
			gboolean _tmp24_ = FALSE;
			gboolean _tmp25_;
#line 145 "/shotwell/src/core/ViewCollection.vala"
			_tmp25_ = has_selected;
#line 145 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp25_) {
#line 910 "ViewCollection.c"
				gboolean _tmp26_;
#line 145 "/shotwell/src/core/ViewCollection.vala"
				_tmp26_ = has_unselected;
#line 145 "/shotwell/src/core/ViewCollection.vala"
				_tmp24_ = !_tmp26_;
#line 916 "ViewCollection.c"
			} else {
#line 145 "/shotwell/src/core/ViewCollection.vala"
				_tmp24_ = FALSE;
#line 920 "ViewCollection.c"
			}
#line 145 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp24_) {
#line 146 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (sum);
#line 146 "/shotwell/src/core/ViewCollection.vala"
				sum = NULL;
#line 928 "ViewCollection.c"
			} else {
				GeeHashSet* _tmp27_;
				GeeCollection* _tmp28_;
				GeeCollection* _tmp29_;
				GeeCollection* _tmp30_;
				GeeCollection* _tmp31_;
#line 148 "/shotwell/src/core/ViewCollection.vala"
				_tmp27_ = gee_hash_set_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 148 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (sum);
#line 148 "/shotwell/src/core/ViewCollection.vala"
				sum = G_TYPE_CHECK_INSTANCE_CAST (_tmp27_, GEE_TYPE_COLLECTION, GeeCollection);
#line 149 "/shotwell/src/core/ViewCollection.vala"
				_tmp28_ = sum;
#line 149 "/shotwell/src/core/ViewCollection.vala"
				_tmp29_ = selected;
#line 149 "/shotwell/src/core/ViewCollection.vala"
				gee_collection_add_all (_tmp28_, _tmp29_);
#line 150 "/shotwell/src/core/ViewCollection.vala"
				_tmp30_ = sum;
#line 150 "/shotwell/src/core/ViewCollection.vala"
				_tmp31_ = unselected;
#line 150 "/shotwell/src/core/ViewCollection.vala"
				gee_collection_add_all (_tmp30_, _tmp31_);
#line 953 "ViewCollection.c"
			}
		}
	}
#line 153 "/shotwell/src/core/ViewCollection.vala"
	_tmp32_ = sum;
#line 153 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp32_ != NULL) {
#line 961 "ViewCollection.c"
		GeeCollection* _tmp33_;
#line 154 "/shotwell/src/core/ViewCollection.vala"
		_tmp33_ = sum;
#line 154 "/shotwell/src/core/ViewCollection.vala"
		g_signal_emit (self, view_collection_signals[VIEW_COLLECTION_ITEMS_STATE_CHANGED_SIGNAL], 0, G_TYPE_CHECK_INSTANCE_CAST (_tmp33_, GEE_TYPE_ITERABLE, GeeIterable));
#line 155 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_selection_group_altered (self);
#line 969 "ViewCollection.c"
	}
#line 129 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (sum);
#line 973 "ViewCollection.c"
}


void view_collection_notify_items_selected_unselected (ViewCollection* self, GeeCollection* selected, GeeCollection* unselected) {
#line 129 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 129 "/shotwell/src/core/ViewCollection.vala"
	VIEW_COLLECTION_GET_CLASS (self)->notify_items_selected_unselected (self, selected, unselected);
#line 982 "ViewCollection.c"
}


static void view_collection_real_notify_selection_group_altered (ViewCollection* self) {
#line 160 "/shotwell/src/core/ViewCollection.vala"
	g_signal_emit (self, view_collection_signals[VIEW_COLLECTION_SELECTION_GROUP_ALTERED_SIGNAL], 0);
#line 989 "ViewCollection.c"
}


void view_collection_notify_selection_group_altered (ViewCollection* self) {
#line 159 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 159 "/shotwell/src/core/ViewCollection.vala"
	VIEW_COLLECTION_GET_CLASS (self)->notify_selection_group_altered (self);
#line 998 "ViewCollection.c"
}


static void view_collection_real_notify_item_view_altered (ViewCollection* self, DataView* view) {
	DataView* _tmp0_;
#line 163 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_DATA_VIEW (view));
#line 164 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = view;
#line 164 "/shotwell/src/core/ViewCollection.vala"
	g_signal_emit (self, view_collection_signals[VIEW_COLLECTION_ITEM_VIEW_ALTERED_SIGNAL], 0, _tmp0_);
#line 1010 "ViewCollection.c"
}


void view_collection_notify_item_view_altered (ViewCollection* self, DataView* view) {
#line 163 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 163 "/shotwell/src/core/ViewCollection.vala"
	VIEW_COLLECTION_GET_CLASS (self)->notify_item_view_altered (self, view);
#line 1019 "ViewCollection.c"
}


static void view_collection_real_notify_views_altered (ViewCollection* self, GeeCollection* views) {
	GeeCollection* _tmp0_;
#line 167 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_COLLECTION (views));
#line 168 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = views;
#line 168 "/shotwell/src/core/ViewCollection.vala"
	g_signal_emit (self, view_collection_signals[VIEW_COLLECTION_VIEWS_ALTERED_SIGNAL], 0, _tmp0_);
#line 1031 "ViewCollection.c"
}


void view_collection_notify_views_altered (ViewCollection* self, GeeCollection* views) {
#line 167 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 167 "/shotwell/src/core/ViewCollection.vala"
	VIEW_COLLECTION_GET_CLASS (self)->notify_views_altered (self, views);
#line 1040 "ViewCollection.c"
}


static void view_collection_real_notify_item_geometry_altered (ViewCollection* self, DataView* view) {
	DataView* _tmp0_;
#line 171 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_DATA_VIEW (view));
#line 172 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = view;
#line 172 "/shotwell/src/core/ViewCollection.vala"
	g_signal_emit (self, view_collection_signals[VIEW_COLLECTION_ITEM_GEOMETRY_ALTERED_SIGNAL], 0, _tmp0_);
#line 1052 "ViewCollection.c"
}


void view_collection_notify_item_geometry_altered (ViewCollection* self, DataView* view) {
#line 171 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 171 "/shotwell/src/core/ViewCollection.vala"
	VIEW_COLLECTION_GET_CLASS (self)->notify_item_geometry_altered (self, view);
#line 1061 "ViewCollection.c"
}


static void view_collection_real_notify_geometries_altered (ViewCollection* self, GeeCollection* views) {
	GeeCollection* _tmp0_;
#line 175 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_COLLECTION (views));
#line 176 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = views;
#line 176 "/shotwell/src/core/ViewCollection.vala"
	g_signal_emit (self, view_collection_signals[VIEW_COLLECTION_GEOMETRIES_ALTERED_SIGNAL], 0, _tmp0_);
#line 1073 "ViewCollection.c"
}


void view_collection_notify_geometries_altered (ViewCollection* self, GeeCollection* views) {
#line 175 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 175 "/shotwell/src/core/ViewCollection.vala"
	VIEW_COLLECTION_GET_CLASS (self)->notify_geometries_altered (self, views);
#line 1082 "ViewCollection.c"
}


static void view_collection_real_notify_items_shown (ViewCollection* self, GeeCollection* shown) {
	GeeCollection* _tmp0_;
#line 179 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_COLLECTION (shown));
#line 180 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = shown;
#line 180 "/shotwell/src/core/ViewCollection.vala"
	g_signal_emit (self, view_collection_signals[VIEW_COLLECTION_ITEMS_SHOWN_SIGNAL], 0, _tmp0_);
#line 1094 "ViewCollection.c"
}


void view_collection_notify_items_shown (ViewCollection* self, GeeCollection* shown) {
#line 179 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 179 "/shotwell/src/core/ViewCollection.vala"
	VIEW_COLLECTION_GET_CLASS (self)->notify_items_shown (self, shown);
#line 1103 "ViewCollection.c"
}


static void view_collection_real_notify_items_hidden (ViewCollection* self, GeeCollection* hidden) {
	GeeCollection* _tmp0_;
#line 183 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_COLLECTION (hidden));
#line 184 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = hidden;
#line 184 "/shotwell/src/core/ViewCollection.vala"
	g_signal_emit (self, view_collection_signals[VIEW_COLLECTION_ITEMS_HIDDEN_SIGNAL], 0, _tmp0_);
#line 1115 "ViewCollection.c"
}


void view_collection_notify_items_hidden (ViewCollection* self, GeeCollection* hidden) {
#line 183 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 183 "/shotwell/src/core/ViewCollection.vala"
	VIEW_COLLECTION_GET_CLASS (self)->notify_items_hidden (self, hidden);
#line 1124 "ViewCollection.c"
}


static void view_collection_real_notify_items_visibility_changed (ViewCollection* self, GeeCollection* changed) {
	GeeCollection* _tmp0_;
#line 187 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_COLLECTION (changed));
#line 188 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = changed;
#line 188 "/shotwell/src/core/ViewCollection.vala"
	g_signal_emit (self, view_collection_signals[VIEW_COLLECTION_ITEMS_VISIBILITY_CHANGED_SIGNAL], 0, _tmp0_);
#line 1136 "ViewCollection.c"
}


void view_collection_notify_items_visibility_changed (ViewCollection* self, GeeCollection* changed) {
#line 187 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 187 "/shotwell/src/core/ViewCollection.vala"
	VIEW_COLLECTION_GET_CLASS (self)->notify_items_visibility_changed (self, changed);
#line 1145 "ViewCollection.c"
}


static void view_collection_real_notify_view_filter_installed (ViewCollection* self, ViewFilter* filter) {
	ViewFilter* _tmp0_;
#line 191 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_FILTER (filter));
#line 192 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = filter;
#line 192 "/shotwell/src/core/ViewCollection.vala"
	g_signal_emit (self, view_collection_signals[VIEW_COLLECTION_VIEW_FILTER_INSTALLED_SIGNAL], 0, _tmp0_);
#line 1157 "ViewCollection.c"
}


void view_collection_notify_view_filter_installed (ViewCollection* self, ViewFilter* filter) {
#line 191 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 191 "/shotwell/src/core/ViewCollection.vala"
	VIEW_COLLECTION_GET_CLASS (self)->notify_view_filter_installed (self, filter);
#line 1166 "ViewCollection.c"
}


static void view_collection_real_notify_view_filter_removed (ViewCollection* self, ViewFilter* filter) {
	ViewFilter* _tmp0_;
#line 195 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_FILTER (filter));
#line 196 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = filter;
#line 196 "/shotwell/src/core/ViewCollection.vala"
	g_signal_emit (self, view_collection_signals[VIEW_COLLECTION_VIEW_FILTER_REMOVED_SIGNAL], 0, _tmp0_);
#line 1178 "ViewCollection.c"
}


void view_collection_notify_view_filter_removed (ViewCollection* self, ViewFilter* filter) {
#line 195 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 195 "/shotwell/src/core/ViewCollection.vala"
	VIEW_COLLECTION_GET_CLASS (self)->notify_view_filter_removed (self, filter);
#line 1187 "ViewCollection.c"
}


static void view_collection_real_clear (DataCollection* base) {
	ViewCollection * self;
	gboolean _tmp0_ = FALSE;
	GeeHashMultiMap* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
#line 199 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 202 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = self->priv->monitors;
#line 202 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = gee_multi_map_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_MULTI_MAP, GeeMultiMap));
#line 202 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = _tmp2_;
#line 202 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp3_ > 0) {
#line 202 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = TRUE;
#line 1209 "ViewCollection.c"
	} else {
		ViewCollection* _tmp4_;
#line 202 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = self->priv->mirroring;
#line 202 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = _tmp4_ != NULL;
#line 1216 "ViewCollection.c"
	}
#line 202 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp0_) {
#line 1220 "ViewCollection.c"
		gchar* _tmp5_;
		gchar* _tmp6_;
#line 203 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = data_collection_to_string (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 203 "/shotwell/src/core/ViewCollection.vala"
		_tmp6_ = _tmp5_;
#line 203 "/shotwell/src/core/ViewCollection.vala"
		g_warning ("ViewCollection.vala:203: Cannot clear %s: monitoring or mirroring in e" \
"ffect", _tmp6_);
#line 203 "/shotwell/src/core/ViewCollection.vala"
		_g_free0 (_tmp6_);
#line 205 "/shotwell/src/core/ViewCollection.vala"
		return;
#line 1233 "ViewCollection.c"
	}
#line 208 "/shotwell/src/core/ViewCollection.vala"
	DATA_COLLECTION_CLASS (view_collection_parent_class)->clear (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 1237 "ViewCollection.c"
}


static void _view_collection_on_view_filter_refresh_view_filter_refresh (ViewFilter* _sender, gpointer self) {
#line 215 "/shotwell/src/core/ViewCollection.vala"
	view_collection_on_view_filter_refresh ((ViewCollection*) self);
#line 1244 "ViewCollection.c"
}


static void view_collection_real_close (DataCollection* base) {
	ViewCollection * self;
	GeeSet* _tmp8_;
#line 211 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 212 "/shotwell/src/core/ViewCollection.vala"
	view_collection_halt_all_monitoring (self);
#line 213 "/shotwell/src/core/ViewCollection.vala"
	view_collection_halt_mirroring (self);
#line 1257 "ViewCollection.c"
	{
		GeeIterator* _f_it = NULL;
		GeeSet* _tmp0_;
		GeeIterator* _tmp1_;
#line 214 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = self->priv->filters;
#line 214 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ITERABLE, GeeIterable));
#line 214 "/shotwell/src/core/ViewCollection.vala"
		_f_it = _tmp1_;
#line 214 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 1270 "ViewCollection.c"
			GeeIterator* _tmp2_;
			gboolean _tmp3_;
			ViewFilter* f = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			ViewFilter* _tmp6_;
			guint _tmp7_;
#line 214 "/shotwell/src/core/ViewCollection.vala"
			_tmp2_ = _f_it;
#line 214 "/shotwell/src/core/ViewCollection.vala"
			_tmp3_ = gee_iterator_next (_tmp2_);
#line 214 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp3_) {
#line 214 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 1286 "ViewCollection.c"
			}
#line 214 "/shotwell/src/core/ViewCollection.vala"
			_tmp4_ = _f_it;
#line 214 "/shotwell/src/core/ViewCollection.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 214 "/shotwell/src/core/ViewCollection.vala"
			f = (ViewFilter*) _tmp5_;
#line 215 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = f;
#line 215 "/shotwell/src/core/ViewCollection.vala"
			g_signal_parse_name ("refresh", TYPE_VIEW_FILTER, &_tmp7_, NULL, FALSE);
#line 215 "/shotwell/src/core/ViewCollection.vala"
			g_signal_handlers_disconnect_matched (_tmp6_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp7_, 0, NULL, (GCallback) _view_collection_on_view_filter_refresh_view_filter_refresh, self);
#line 214 "/shotwell/src/core/ViewCollection.vala"
			_view_filter_unref0 (f);
#line 1302 "ViewCollection.c"
		}
#line 214 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_f_it);
#line 1306 "ViewCollection.c"
	}
#line 216 "/shotwell/src/core/ViewCollection.vala"
	_tmp8_ = self->priv->filters;
#line 216 "/shotwell/src/core/ViewCollection.vala"
	gee_collection_clear (G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, GEE_TYPE_COLLECTION, GeeCollection));
#line 218 "/shotwell/src/core/ViewCollection.vala"
	DATA_COLLECTION_CLASS (view_collection_parent_class)->close (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 1314 "ViewCollection.c"
}


ViewCollectionMonitor* view_collection_monitor_source_collection (ViewCollection* self, SourceCollection* sources, ViewManager* manager, Alteration* prereq, GeeCollection* initial, ProgressMonitor progress_monitor, void* progress_monitor_target) {
	ViewCollectionMonitor* result = NULL;
	ViewCollectionMonitorImpl* monitor = NULL;
	SourceCollection* _tmp0_;
	ViewManager* _tmp1_;
	Alteration* _tmp2_;
	ViewCollectionMonitorImpl* _tmp3_;
	GeeHashMultiMap* _tmp4_;
	SourceCollection* _tmp5_;
	ViewCollectionMonitorImpl* _tmp6_;
	gboolean _tmp7_ = FALSE;
	GeeCollection* _tmp8_;
#line 221 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 221 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_SOURCE_COLLECTION (sources), NULL);
#line 221 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_MANAGER (manager), NULL);
#line 221 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail ((prereq == NULL) || IS_ALTERATION (prereq), NULL);
#line 221 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail ((initial == NULL) || GEE_IS_COLLECTION (initial), NULL);
#line 225 "/shotwell/src/core/ViewCollection.vala"
	view_collection_halt_mirroring (self);
#line 227 "/shotwell/src/core/ViewCollection.vala"
	data_collection_freeze_notifications (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 230 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = sources;
#line 230 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = manager;
#line 230 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = prereq;
#line 230 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = view_collection_monitor_impl_new (self, _tmp0_, _tmp1_, _tmp2_);
#line 230 "/shotwell/src/core/ViewCollection.vala"
	monitor = _tmp3_;
#line 231 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = self->priv->monitors;
#line 231 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = sources;
#line 231 "/shotwell/src/core/ViewCollection.vala"
	_tmp6_ = monitor;
#line 231 "/shotwell/src/core/ViewCollection.vala"
	gee_multi_map_set (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, GEE_TYPE_MULTI_MAP, GeeMultiMap), _tmp5_, _tmp6_);
#line 233 "/shotwell/src/core/ViewCollection.vala"
	_tmp8_ = initial;
#line 233 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp8_ != NULL) {
#line 1366 "ViewCollection.c"
		GeeCollection* _tmp9_;
		gint _tmp10_;
		gint _tmp11_;
#line 233 "/shotwell/src/core/ViewCollection.vala"
		_tmp9_ = initial;
#line 233 "/shotwell/src/core/ViewCollection.vala"
		_tmp10_ = gee_collection_get_size (_tmp9_);
#line 233 "/shotwell/src/core/ViewCollection.vala"
		_tmp11_ = _tmp10_;
#line 233 "/shotwell/src/core/ViewCollection.vala"
		_tmp7_ = _tmp11_ > 0;
#line 1378 "ViewCollection.c"
	} else {
#line 233 "/shotwell/src/core/ViewCollection.vala"
		_tmp7_ = FALSE;
#line 1382 "ViewCollection.c"
	}
#line 233 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp7_) {
#line 1386 "ViewCollection.c"
		GeeArrayList* created_views = NULL;
		GeeArrayList* _tmp12_;
		GeeArrayList* _tmp24_;
		ProgressMonitor _tmp25_;
		void* _tmp25__target;
		GeeCollection* _tmp26_;
		GeeCollection* _tmp27_;
#line 235 "/shotwell/src/core/ViewCollection.vala"
		_tmp12_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 235 "/shotwell/src/core/ViewCollection.vala"
		created_views = _tmp12_;
#line 1398 "ViewCollection.c"
		{
			GeeIterator* _source_it = NULL;
			GeeCollection* _tmp13_;
			GeeIterator* _tmp14_;
#line 236 "/shotwell/src/core/ViewCollection.vala"
			_tmp13_ = initial;
#line 236 "/shotwell/src/core/ViewCollection.vala"
			_tmp14_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, GEE_TYPE_ITERABLE, GeeIterable));
#line 236 "/shotwell/src/core/ViewCollection.vala"
			_source_it = _tmp14_;
#line 236 "/shotwell/src/core/ViewCollection.vala"
			while (TRUE) {
#line 1411 "ViewCollection.c"
				GeeIterator* _tmp15_;
				gboolean _tmp16_;
				DataSource* source = NULL;
				GeeIterator* _tmp17_;
				gpointer _tmp18_;
				GeeArrayList* _tmp19_;
				ViewManager* _tmp20_;
				DataSource* _tmp21_;
				DataView* _tmp22_;
				DataView* _tmp23_;
#line 236 "/shotwell/src/core/ViewCollection.vala"
				_tmp15_ = _source_it;
#line 236 "/shotwell/src/core/ViewCollection.vala"
				_tmp16_ = gee_iterator_next (_tmp15_);
#line 236 "/shotwell/src/core/ViewCollection.vala"
				if (!_tmp16_) {
#line 236 "/shotwell/src/core/ViewCollection.vala"
					break;
#line 1430 "ViewCollection.c"
				}
#line 236 "/shotwell/src/core/ViewCollection.vala"
				_tmp17_ = _source_it;
#line 236 "/shotwell/src/core/ViewCollection.vala"
				_tmp18_ = gee_iterator_get (_tmp17_);
#line 236 "/shotwell/src/core/ViewCollection.vala"
				source = (DataSource*) _tmp18_;
#line 237 "/shotwell/src/core/ViewCollection.vala"
				_tmp19_ = created_views;
#line 237 "/shotwell/src/core/ViewCollection.vala"
				_tmp20_ = manager;
#line 237 "/shotwell/src/core/ViewCollection.vala"
				_tmp21_ = source;
#line 237 "/shotwell/src/core/ViewCollection.vala"
				_tmp22_ = view_manager_create_view (_tmp20_, _tmp21_);
#line 237 "/shotwell/src/core/ViewCollection.vala"
				_tmp23_ = _tmp22_;
#line 237 "/shotwell/src/core/ViewCollection.vala"
				gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp19_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp23_);
#line 237 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (_tmp23_);
#line 236 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (source);
#line 1454 "ViewCollection.c"
			}
#line 236 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_source_it);
#line 1458 "ViewCollection.c"
		}
#line 239 "/shotwell/src/core/ViewCollection.vala"
		_tmp24_ = created_views;
#line 239 "/shotwell/src/core/ViewCollection.vala"
		_tmp25_ = progress_monitor;
#line 239 "/shotwell/src/core/ViewCollection.vala"
		_tmp25__target = progress_monitor_target;
#line 239 "/shotwell/src/core/ViewCollection.vala"
		_tmp26_ = data_collection_add_many (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp24_, GEE_TYPE_COLLECTION, GeeCollection), _tmp25_, _tmp25__target);
#line 239 "/shotwell/src/core/ViewCollection.vala"
		_tmp27_ = _tmp26_;
#line 239 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp27_);
#line 233 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (created_views);
#line 1474 "ViewCollection.c"
	} else {
		SourceCollection* _tmp28_;
		SourceCollection* _tmp29_;
		GeeCollection* _tmp30_;
		GeeIterable* _tmp31_;
		ProgressMonitor _tmp32_;
		void* _tmp32__target;
#line 242 "/shotwell/src/core/ViewCollection.vala"
		_tmp28_ = sources;
#line 242 "/shotwell/src/core/ViewCollection.vala"
		_tmp29_ = sources;
#line 242 "/shotwell/src/core/ViewCollection.vala"
		_tmp30_ = data_collection_get_all (G_TYPE_CHECK_INSTANCE_CAST (_tmp29_, TYPE_DATA_COLLECTION, DataCollection));
#line 242 "/shotwell/src/core/ViewCollection.vala"
		_tmp31_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp30_, GEE_TYPE_ITERABLE, GeeIterable);
#line 242 "/shotwell/src/core/ViewCollection.vala"
		_tmp32_ = progress_monitor;
#line 242 "/shotwell/src/core/ViewCollection.vala"
		_tmp32__target = progress_monitor_target;
#line 242 "/shotwell/src/core/ViewCollection.vala"
		view_collection_add_sources (self, _tmp28_, _tmp31_, _tmp32_, _tmp32__target);
#line 242 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp31_);
#line 1498 "ViewCollection.c"
	}
#line 245 "/shotwell/src/core/ViewCollection.vala"
	data_collection_thaw_notifications (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 247 "/shotwell/src/core/ViewCollection.vala"
	result = G_TYPE_CHECK_INSTANCE_CAST (monitor, VIEW_COLLECTION_TYPE_MONITOR, ViewCollectionMonitor);
#line 247 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 1506 "ViewCollection.c"
}


static gpointer _view_collection_monitor_ref0 (gpointer self) {
#line 251 "/shotwell/src/core/ViewCollection.vala"
	return self ? view_collection_monitor_ref (self) : NULL;
#line 1513 "ViewCollection.c"
}


void view_collection_halt_monitoring (ViewCollection* self, ViewCollectionMonitor* m) {
	ViewCollectionMonitorImpl* monitor = NULL;
	ViewCollectionMonitor* _tmp0_;
	ViewCollectionMonitorImpl* _tmp1_;
	gboolean removed = FALSE;
	GeeHashMultiMap* _tmp2_;
	SourceCollection* _tmp3_;
	gboolean _tmp4_;
#line 250 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 250 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (VIEW_COLLECTION_IS_MONITOR (m));
#line 251 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = m;
#line 251 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = _view_collection_monitor_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, VIEW_COLLECTION_TYPE_MONITOR_IMPL, ViewCollectionMonitorImpl));
#line 251 "/shotwell/src/core/ViewCollection.vala"
	monitor = _tmp1_;
#line 253 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = self->priv->monitors;
#line 253 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = monitor->sources;
#line 253 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = gee_multi_map_remove (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_MULTI_MAP, GeeMultiMap), _tmp3_, monitor);
#line 253 "/shotwell/src/core/ViewCollection.vala"
	removed = _tmp4_;
#line 254 "/shotwell/src/core/ViewCollection.vala"
	_vala_assert (removed, "removed");
#line 250 "/shotwell/src/core/ViewCollection.vala"
	_view_collection_monitor_unref0 (monitor);
#line 1547 "ViewCollection.c"
}


void view_collection_halt_all_monitoring (ViewCollection* self) {
	GeeHashMultiMap* _tmp0_;
#line 257 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 258 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->monitors;
#line 258 "/shotwell/src/core/ViewCollection.vala"
	gee_multi_map_clear (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_MULTI_MAP, GeeMultiMap));
#line 1559 "ViewCollection.c"
}


static gpointer _data_collection_ref0 (gpointer self) {
#line 267 "/shotwell/src/core/ViewCollection.vala"
	return self ? data_collection_ref (self) : NULL;
#line 1566 "ViewCollection.c"
}


static void _view_collection_on_mirror_contents_added_data_collection_items_added (DataCollection* _sender, GeeIterable* added, gpointer self) {
#line 275 "/shotwell/src/core/ViewCollection.vala"
	view_collection_on_mirror_contents_added ((ViewCollection*) self, added);
#line 1573 "ViewCollection.c"
}


static void _view_collection_on_mirror_contents_removed_data_collection_items_removed (DataCollection* _sender, GeeIterable* removed, gpointer self) {
#line 276 "/shotwell/src/core/ViewCollection.vala"
	view_collection_on_mirror_contents_removed ((ViewCollection*) self, removed);
#line 1580 "ViewCollection.c"
}


void view_collection_mirror (ViewCollection* self, ViewCollection* to_mirror, CreateView mirroring_ctor, void* mirroring_ctor_target, CreateViewPredicate should_mirror, void* should_mirror_target) {
	ViewCollection* _tmp0_;
	ViewCollection* _tmp1_;
	CreateView _tmp2_;
	void* _tmp2__target;
	CreateViewPredicate _tmp3_;
	void* _tmp3__target;
	ViewCollection* _tmp4_;
	void* _tmp5_;
	Comparator _tmp6_;
	ViewCollection* _tmp7_;
	void* _tmp8_;
	ComparatorPredicate _tmp9_;
	ViewCollection* _tmp10_;
	GeeCollection* _tmp11_;
	GeeCollection* _tmp12_;
	ViewCollection* _tmp13_;
	ViewCollection* _tmp14_;
#line 261 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 261 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (to_mirror));
#line 263 "/shotwell/src/core/ViewCollection.vala"
	view_collection_halt_mirroring (self);
#line 264 "/shotwell/src/core/ViewCollection.vala"
	view_collection_halt_all_monitoring (self);
#line 265 "/shotwell/src/core/ViewCollection.vala"
	data_collection_clear (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 267 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = to_mirror;
#line 267 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = _data_collection_ref0 (_tmp0_);
#line 267 "/shotwell/src/core/ViewCollection.vala"
	_data_collection_unref0 (self->priv->mirroring);
#line 267 "/shotwell/src/core/ViewCollection.vala"
	self->priv->mirroring = _tmp1_;
#line 268 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = mirroring_ctor;
#line 268 "/shotwell/src/core/ViewCollection.vala"
	_tmp2__target = mirroring_ctor_target;
#line 268 "/shotwell/src/core/ViewCollection.vala"
	self->priv->mirroring_ctor = _tmp2_;
#line 268 "/shotwell/src/core/ViewCollection.vala"
	self->priv->mirroring_ctor_target = _tmp2__target;
#line 269 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = should_mirror;
#line 269 "/shotwell/src/core/ViewCollection.vala"
	_tmp3__target = should_mirror_target;
#line 269 "/shotwell/src/core/ViewCollection.vala"
	self->priv->should_mirror = _tmp3_;
#line 269 "/shotwell/src/core/ViewCollection.vala"
	self->priv->should_mirror_target = _tmp3__target;
#line 270 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = to_mirror;
#line 270 "/shotwell/src/core/ViewCollection.vala"
	_tmp6_ = data_collection_get_comparator (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, TYPE_DATA_COLLECTION, DataCollection), &_tmp5_);
#line 270 "/shotwell/src/core/ViewCollection.vala"
	_tmp7_ = to_mirror;
#line 270 "/shotwell/src/core/ViewCollection.vala"
	_tmp9_ = data_collection_get_comparator_predicate (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, TYPE_DATA_COLLECTION, DataCollection), &_tmp8_);
#line 270 "/shotwell/src/core/ViewCollection.vala"
	data_collection_set_comparator (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp6_, _tmp5_, _tmp9_, _tmp8_);
#line 273 "/shotwell/src/core/ViewCollection.vala"
	_tmp10_ = self->priv->mirroring;
#line 273 "/shotwell/src/core/ViewCollection.vala"
	_tmp11_ = data_collection_get_all (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, TYPE_DATA_COLLECTION, DataCollection));
#line 273 "/shotwell/src/core/ViewCollection.vala"
	_tmp12_ = _tmp11_;
#line 273 "/shotwell/src/core/ViewCollection.vala"
	view_collection_on_mirror_contents_added (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, GEE_TYPE_ITERABLE, GeeIterable));
#line 273 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (_tmp12_);
#line 275 "/shotwell/src/core/ViewCollection.vala"
	_tmp13_ = self->priv->mirroring;
#line 275 "/shotwell/src/core/ViewCollection.vala"
	g_signal_connect (G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, TYPE_DATA_COLLECTION, DataCollection), "items-added", (GCallback) _view_collection_on_mirror_contents_added_data_collection_items_added, self);
#line 276 "/shotwell/src/core/ViewCollection.vala"
	_tmp14_ = self->priv->mirroring;
#line 276 "/shotwell/src/core/ViewCollection.vala"
	g_signal_connect (G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, TYPE_DATA_COLLECTION, DataCollection), "items-removed", (GCallback) _view_collection_on_mirror_contents_removed_data_collection_items_removed, self);
#line 1664 "ViewCollection.c"
}


void view_collection_halt_mirroring (ViewCollection* self) {
	ViewCollection* _tmp0_;
#line 279 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 280 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->mirroring;
#line 280 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp0_ != NULL) {
#line 1676 "ViewCollection.c"
		ViewCollection* _tmp1_;
		guint _tmp2_;
		ViewCollection* _tmp3_;
		guint _tmp4_;
#line 281 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = self->priv->mirroring;
#line 281 "/shotwell/src/core/ViewCollection.vala"
		g_signal_parse_name ("items-added", TYPE_DATA_COLLECTION, &_tmp2_, NULL, FALSE);
#line 281 "/shotwell/src/core/ViewCollection.vala"
		g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, TYPE_DATA_COLLECTION, DataCollection), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp2_, 0, NULL, (GCallback) _view_collection_on_mirror_contents_added_data_collection_items_added, self);
#line 282 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = self->priv->mirroring;
#line 282 "/shotwell/src/core/ViewCollection.vala"
		g_signal_parse_name ("items-removed", TYPE_DATA_COLLECTION, &_tmp4_, NULL, FALSE);
#line 282 "/shotwell/src/core/ViewCollection.vala"
		g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, TYPE_DATA_COLLECTION, DataCollection), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp4_, 0, NULL, (GCallback) _view_collection_on_mirror_contents_removed_data_collection_items_removed, self);
#line 1693 "ViewCollection.c"
	}
#line 285 "/shotwell/src/core/ViewCollection.vala"
	_data_collection_unref0 (self->priv->mirroring);
#line 285 "/shotwell/src/core/ViewCollection.vala"
	self->priv->mirroring = NULL;
#line 1699 "ViewCollection.c"
}


void view_collection_copy_into (ViewCollection* self, ViewCollection* to_copy, CreateView copying_ctor, void* copying_ctor_target, CreateViewPredicate should_copy, void* should_copy_target) {
	GeeArrayList* copy_view = NULL;
	GeeArrayList* _tmp0_;
	GeeArrayList* _tmp25_;
	GeeCollection* _tmp26_;
	GeeCollection* _tmp27_;
#line 288 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 288 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (to_copy));
#line 291 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = gee_array_list_new (TYPE_DATA_OBJECT, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 291 "/shotwell/src/core/ViewCollection.vala"
	copy_view = _tmp0_;
#line 1717 "ViewCollection.c"
	{
		GeeIterator* _object_it = NULL;
		ViewCollection* _tmp1_;
		GeeCollection* _tmp2_;
		GeeCollection* _tmp3_;
		GeeIterator* _tmp4_;
		GeeIterator* _tmp5_;
#line 292 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = to_copy;
#line 292 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = data_collection_get_all (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, TYPE_DATA_COLLECTION, DataCollection));
#line 292 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = _tmp2_;
#line 292 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ITERABLE, GeeIterable));
#line 292 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = _tmp4_;
#line 292 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp3_);
#line 292 "/shotwell/src/core/ViewCollection.vala"
		_object_it = _tmp5_;
#line 292 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 1741 "ViewCollection.c"
			GeeIterator* _tmp6_;
			gboolean _tmp7_;
			DataObject* object = NULL;
			GeeIterator* _tmp8_;
			gpointer _tmp9_;
			DataView* view = NULL;
			DataObject* _tmp10_;
			DataView* _tmp11_;
			CreateViewPredicate _tmp12_;
			void* _tmp12__target;
			DataView* _tmp13_;
			DataSource* _tmp14_;
			DataSource* _tmp15_;
			gboolean _tmp16_;
			gboolean _tmp17_;
#line 292 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = _object_it;
#line 292 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = gee_iterator_next (_tmp6_);
#line 292 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp7_) {
#line 292 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 1765 "ViewCollection.c"
			}
#line 292 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = _object_it;
#line 292 "/shotwell/src/core/ViewCollection.vala"
			_tmp9_ = gee_iterator_get (_tmp8_);
#line 292 "/shotwell/src/core/ViewCollection.vala"
			object = (DataObject*) _tmp9_;
#line 293 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = object;
#line 293 "/shotwell/src/core/ViewCollection.vala"
			_tmp11_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, TYPE_DATA_VIEW, DataView));
#line 293 "/shotwell/src/core/ViewCollection.vala"
			view = _tmp11_;
#line 294 "/shotwell/src/core/ViewCollection.vala"
			_tmp12_ = should_copy;
#line 294 "/shotwell/src/core/ViewCollection.vala"
			_tmp12__target = should_copy_target;
#line 294 "/shotwell/src/core/ViewCollection.vala"
			_tmp13_ = view;
#line 294 "/shotwell/src/core/ViewCollection.vala"
			_tmp14_ = data_view_get_source (_tmp13_);
#line 294 "/shotwell/src/core/ViewCollection.vala"
			_tmp15_ = _tmp14_;
#line 294 "/shotwell/src/core/ViewCollection.vala"
			_tmp16_ = _tmp12_ (_tmp15_, _tmp12__target);
#line 294 "/shotwell/src/core/ViewCollection.vala"
			_tmp17_ = _tmp16_;
#line 294 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_tmp15_);
#line 294 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp17_) {
#line 1797 "ViewCollection.c"
				GeeArrayList* _tmp18_;
				CreateView _tmp19_;
				void* _tmp19__target;
				DataView* _tmp20_;
				DataSource* _tmp21_;
				DataSource* _tmp22_;
				DataView* _tmp23_;
				DataView* _tmp24_;
#line 295 "/shotwell/src/core/ViewCollection.vala"
				_tmp18_ = copy_view;
#line 295 "/shotwell/src/core/ViewCollection.vala"
				_tmp19_ = copying_ctor;
#line 295 "/shotwell/src/core/ViewCollection.vala"
				_tmp19__target = copying_ctor_target;
#line 295 "/shotwell/src/core/ViewCollection.vala"
				_tmp20_ = view;
#line 295 "/shotwell/src/core/ViewCollection.vala"
				_tmp21_ = data_view_get_source (_tmp20_);
#line 295 "/shotwell/src/core/ViewCollection.vala"
				_tmp22_ = _tmp21_;
#line 295 "/shotwell/src/core/ViewCollection.vala"
				_tmp23_ = _tmp19_ (_tmp22_, _tmp19__target);
#line 295 "/shotwell/src/core/ViewCollection.vala"
				_tmp24_ = _tmp23_;
#line 295 "/shotwell/src/core/ViewCollection.vala"
				gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp18_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp24_, TYPE_DATA_OBJECT, DataObject));
#line 295 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (_tmp24_);
#line 295 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (_tmp22_);
#line 1828 "ViewCollection.c"
			}
#line 292 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (view);
#line 292 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (object);
#line 1834 "ViewCollection.c"
		}
#line 292 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_object_it);
#line 1838 "ViewCollection.c"
	}
#line 298 "/shotwell/src/core/ViewCollection.vala"
	_tmp25_ = copy_view;
#line 298 "/shotwell/src/core/ViewCollection.vala"
	_tmp26_ = data_collection_add_many (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp25_, GEE_TYPE_COLLECTION, GeeCollection), NULL, NULL);
#line 298 "/shotwell/src/core/ViewCollection.vala"
	_tmp27_ = _tmp26_;
#line 298 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (_tmp27_);
#line 288 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (copy_view);
#line 1850 "ViewCollection.c"
}


gboolean view_collection_is_view_filter_installed (ViewCollection* self, ViewFilter* f) {
	gboolean result = FALSE;
	GeeSet* _tmp0_;
	ViewFilter* _tmp1_;
	gboolean _tmp2_;
#line 301 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), FALSE);
#line 301 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_FILTER (f), FALSE);
#line 302 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->filters;
#line 302 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = f;
#line 302 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = gee_collection_contains (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_COLLECTION, GeeCollection), _tmp1_);
#line 302 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp2_;
#line 302 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 1873 "ViewCollection.c"
}


void view_collection_install_view_filter (ViewCollection* self, ViewFilter* f) {
	ViewFilter* _tmp0_;
	gboolean _tmp1_;
	GeeSet* _tmp2_;
	ViewFilter* _tmp3_;
	ViewFilter* _tmp4_;
	ViewFilter* _tmp5_;
#line 305 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 305 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_FILTER (f));
#line 306 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = f;
#line 306 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = view_collection_is_view_filter_installed (self, _tmp0_);
#line 306 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp1_) {
#line 307 "/shotwell/src/core/ViewCollection.vala"
		return;
#line 1896 "ViewCollection.c"
	}
#line 309 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = self->priv->filters;
#line 309 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = f;
#line 309 "/shotwell/src/core/ViewCollection.vala"
	gee_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_COLLECTION, GeeCollection), _tmp3_);
#line 310 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = f;
#line 310 "/shotwell/src/core/ViewCollection.vala"
	g_signal_connect (_tmp4_, "refresh", (GCallback) _view_collection_on_view_filter_refresh_view_filter_refresh, self);
#line 313 "/shotwell/src/core/ViewCollection.vala"
	view_collection_on_view_filter_refresh (self);
#line 316 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = f;
#line 316 "/shotwell/src/core/ViewCollection.vala"
	view_collection_notify_view_filter_installed (self, _tmp5_);
#line 1914 "ViewCollection.c"
}


void view_collection_remove_view_filter (ViewCollection* self, ViewFilter* f) {
	ViewFilter* _tmp0_;
	gboolean _tmp1_;
	GeeSet* _tmp2_;
	ViewFilter* _tmp3_;
	ViewFilter* _tmp4_;
	guint _tmp5_;
	ViewFilter* _tmp6_;
#line 319 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 319 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_FILTER (f));
#line 320 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = f;
#line 320 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = view_collection_is_view_filter_installed (self, _tmp0_);
#line 320 "/shotwell/src/core/ViewCollection.vala"
	if (!_tmp1_) {
#line 321 "/shotwell/src/core/ViewCollection.vala"
		return;
#line 1938 "ViewCollection.c"
	}
#line 323 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = self->priv->filters;
#line 323 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = f;
#line 323 "/shotwell/src/core/ViewCollection.vala"
	gee_collection_remove (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_COLLECTION, GeeCollection), _tmp3_);
#line 324 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = f;
#line 324 "/shotwell/src/core/ViewCollection.vala"
	g_signal_parse_name ("refresh", TYPE_VIEW_FILTER, &_tmp5_, NULL, FALSE);
#line 324 "/shotwell/src/core/ViewCollection.vala"
	g_signal_handlers_disconnect_matched (_tmp4_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp5_, 0, NULL, (GCallback) _view_collection_on_view_filter_refresh_view_filter_refresh, self);
#line 327 "/shotwell/src/core/ViewCollection.vala"
	view_collection_on_view_filter_refresh (self);
#line 330 "/shotwell/src/core/ViewCollection.vala"
	_tmp6_ = f;
#line 330 "/shotwell/src/core/ViewCollection.vala"
	view_collection_notify_view_filter_removed (self, _tmp6_);
#line 1958 "ViewCollection.c"
}


static void view_collection_on_view_filter_refresh (ViewCollection* self) {
	GeeCollection* _tmp0_;
	GeeCollection* _tmp1_;
#line 333 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 334 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = DATA_COLLECTION_CLASS (view_collection_parent_class)->get_all (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 334 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_COLLECTION, GeeCollection);
#line 334 "/shotwell/src/core/ViewCollection.vala"
	view_collection_filter_altered_items (self, _tmp1_);
#line 334 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (_tmp1_);
#line 1975 "ViewCollection.c"
}


static gboolean view_collection_is_in_filter (ViewCollection* self, DataView* view) {
	gboolean result = FALSE;
#line 338 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), FALSE);
#line 338 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_VIEW (view), FALSE);
#line 1985 "ViewCollection.c"
	{
		GeeIterator* _f_it = NULL;
		GeeSet* _tmp0_;
		GeeIterator* _tmp1_;
#line 339 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = self->priv->filters;
#line 339 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ITERABLE, GeeIterable));
#line 339 "/shotwell/src/core/ViewCollection.vala"
		_f_it = _tmp1_;
#line 339 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 1998 "ViewCollection.c"
			GeeIterator* _tmp2_;
			gboolean _tmp3_;
			ViewFilter* f = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			ViewFilter* _tmp6_;
			DataView* _tmp7_;
			gboolean _tmp8_;
#line 339 "/shotwell/src/core/ViewCollection.vala"
			_tmp2_ = _f_it;
#line 339 "/shotwell/src/core/ViewCollection.vala"
			_tmp3_ = gee_iterator_next (_tmp2_);
#line 339 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp3_) {
#line 339 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 2015 "ViewCollection.c"
			}
#line 339 "/shotwell/src/core/ViewCollection.vala"
			_tmp4_ = _f_it;
#line 339 "/shotwell/src/core/ViewCollection.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 339 "/shotwell/src/core/ViewCollection.vala"
			f = (ViewFilter*) _tmp5_;
#line 340 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = f;
#line 340 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = view;
#line 340 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = view_filter_predicate (_tmp6_, _tmp7_);
#line 340 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp8_) {
#line 341 "/shotwell/src/core/ViewCollection.vala"
				result = FALSE;
#line 341 "/shotwell/src/core/ViewCollection.vala"
				_view_filter_unref0 (f);
#line 341 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (_f_it);
#line 341 "/shotwell/src/core/ViewCollection.vala"
				return result;
#line 2039 "ViewCollection.c"
			}
#line 339 "/shotwell/src/core/ViewCollection.vala"
			_view_filter_unref0 (f);
#line 2043 "ViewCollection.c"
		}
#line 339 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_f_it);
#line 2047 "ViewCollection.c"
	}
#line 343 "/shotwell/src/core/ViewCollection.vala"
	result = TRUE;
#line 343 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 2053 "ViewCollection.c"
}


static gboolean view_collection_real_valid_type (DataCollection* base, DataObject* object) {
	ViewCollection * self;
	gboolean result = FALSE;
	DataObject* _tmp0_;
#line 346 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 346 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_OBJECT (object), FALSE);
#line 347 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = object;
#line 347 "/shotwell/src/core/ViewCollection.vala"
	result = G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, TYPE_DATA_VIEW);
#line 347 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 2071 "ViewCollection.c"
}


static void view_collection_on_sources_added (ViewCollection* self, DataCollection* sources, GeeIterable* added) {
	DataCollection* _tmp0_;
	GeeIterable* _tmp1_;
#line 350 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 350 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_DATA_COLLECTION (sources));
#line 350 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_ITERABLE (added));
#line 351 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = sources;
#line 351 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = added;
#line 351 "/shotwell/src/core/ViewCollection.vala"
	view_collection_add_sources (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, TYPE_SOURCE_COLLECTION, SourceCollection), _tmp1_, NULL, NULL);
#line 2090 "ViewCollection.c"
}


static DataView* _view_manager_create_view_create_view (DataSource* source, gpointer self) {
	DataView* result;
	result = view_manager_create_view ((ViewManager*) self, source);
#line 364 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 2099 "ViewCollection.c"
}


static void view_collection_add_sources (ViewCollection* self, SourceCollection* sources, GeeIterable* added, ProgressMonitor progress_monitor, void* progress_monitor_target) {
	DataView* created_view = NULL;
	GeeArrayList* created_views = NULL;
	DataView* _tmp37_;
#line 354 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 354 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_SOURCE_COLLECTION (sources));
#line 354 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_ITERABLE (added));
#line 358 "/shotwell/src/core/ViewCollection.vala"
	created_view = NULL;
#line 359 "/shotwell/src/core/ViewCollection.vala"
	created_views = NULL;
#line 2117 "ViewCollection.c"
	{
		GeeIterator* _source_it = NULL;
		GeeIterable* _tmp0_;
		GeeIterator* _tmp1_;
#line 360 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = added;
#line 360 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = gee_iterable_iterator (_tmp0_);
#line 360 "/shotwell/src/core/ViewCollection.vala"
		_source_it = _tmp1_;
#line 360 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 2130 "ViewCollection.c"
			GeeIterator* _tmp2_;
			gboolean _tmp3_;
			DataSource* source = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			CreateView factory = NULL;
			void* factory_target;
			GDestroyNotify factory_target_destroy_notify;
			CreateView _tmp22_;
			void* _tmp22__target;
#line 360 "/shotwell/src/core/ViewCollection.vala"
			_tmp2_ = _source_it;
#line 360 "/shotwell/src/core/ViewCollection.vala"
			_tmp3_ = gee_iterator_next (_tmp2_);
#line 360 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp3_) {
#line 360 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 2149 "ViewCollection.c"
			}
#line 360 "/shotwell/src/core/ViewCollection.vala"
			_tmp4_ = _source_it;
#line 360 "/shotwell/src/core/ViewCollection.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 360 "/shotwell/src/core/ViewCollection.vala"
			source = (DataSource*) _tmp5_;
#line 361 "/shotwell/src/core/ViewCollection.vala"
			factory = NULL;
#line 361 "/shotwell/src/core/ViewCollection.vala"
			factory_target = NULL;
#line 361 "/shotwell/src/core/ViewCollection.vala"
			factory_target_destroy_notify = NULL;
#line 2163 "ViewCollection.c"
			{
				GeeIterator* _monitor_it = NULL;
				GeeHashMultiMap* _tmp6_;
				SourceCollection* _tmp7_;
				GeeCollection* _tmp8_;
				GeeCollection* _tmp9_;
				GeeIterator* _tmp10_;
				GeeIterator* _tmp11_;
#line 362 "/shotwell/src/core/ViewCollection.vala"
				_tmp6_ = self->priv->monitors;
#line 362 "/shotwell/src/core/ViewCollection.vala"
				_tmp7_ = sources;
#line 362 "/shotwell/src/core/ViewCollection.vala"
				_tmp8_ = gee_multi_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GEE_TYPE_MULTI_MAP, GeeMultiMap), _tmp7_);
#line 362 "/shotwell/src/core/ViewCollection.vala"
				_tmp9_ = _tmp8_;
#line 362 "/shotwell/src/core/ViewCollection.vala"
				_tmp10_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, GEE_TYPE_ITERABLE, GeeIterable));
#line 362 "/shotwell/src/core/ViewCollection.vala"
				_tmp11_ = _tmp10_;
#line 362 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (_tmp9_);
#line 362 "/shotwell/src/core/ViewCollection.vala"
				_monitor_it = _tmp11_;
#line 362 "/shotwell/src/core/ViewCollection.vala"
				while (TRUE) {
#line 2190 "ViewCollection.c"
					GeeIterator* _tmp12_;
					gboolean _tmp13_;
					ViewCollectionMonitorImpl* monitor = NULL;
					GeeIterator* _tmp14_;
					gpointer _tmp15_;
					ViewCollectionMonitorImpl* _tmp16_;
					ViewManager* _tmp17_;
					DataSource* _tmp18_;
					gboolean _tmp19_;
#line 362 "/shotwell/src/core/ViewCollection.vala"
					_tmp12_ = _monitor_it;
#line 362 "/shotwell/src/core/ViewCollection.vala"
					_tmp13_ = gee_iterator_next (_tmp12_);
#line 362 "/shotwell/src/core/ViewCollection.vala"
					if (!_tmp13_) {
#line 362 "/shotwell/src/core/ViewCollection.vala"
						break;
#line 2208 "ViewCollection.c"
					}
#line 362 "/shotwell/src/core/ViewCollection.vala"
					_tmp14_ = _monitor_it;
#line 362 "/shotwell/src/core/ViewCollection.vala"
					_tmp15_ = gee_iterator_get (_tmp14_);
#line 362 "/shotwell/src/core/ViewCollection.vala"
					monitor = (ViewCollectionMonitorImpl*) _tmp15_;
#line 363 "/shotwell/src/core/ViewCollection.vala"
					_tmp16_ = monitor;
#line 363 "/shotwell/src/core/ViewCollection.vala"
					_tmp17_ = _tmp16_->manager;
#line 363 "/shotwell/src/core/ViewCollection.vala"
					_tmp18_ = source;
#line 363 "/shotwell/src/core/ViewCollection.vala"
					_tmp19_ = view_manager_include_in_view (_tmp17_, _tmp18_);
#line 363 "/shotwell/src/core/ViewCollection.vala"
					if (_tmp19_) {
#line 2226 "ViewCollection.c"
						ViewCollectionMonitorImpl* _tmp20_;
						ViewManager* _tmp21_;
#line 364 "/shotwell/src/core/ViewCollection.vala"
						_tmp20_ = monitor;
#line 364 "/shotwell/src/core/ViewCollection.vala"
						_tmp21_ = _tmp20_->manager;
#line 364 "/shotwell/src/core/ViewCollection.vala"
						(factory_target_destroy_notify == NULL) ? NULL : (factory_target_destroy_notify (factory_target), NULL);
#line 364 "/shotwell/src/core/ViewCollection.vala"
						factory = NULL;
#line 364 "/shotwell/src/core/ViewCollection.vala"
						factory_target = NULL;
#line 364 "/shotwell/src/core/ViewCollection.vala"
						factory_target_destroy_notify = NULL;
#line 364 "/shotwell/src/core/ViewCollection.vala"
						factory = _view_manager_create_view_create_view;
#line 364 "/shotwell/src/core/ViewCollection.vala"
						factory_target = view_manager_ref (_tmp21_);
#line 364 "/shotwell/src/core/ViewCollection.vala"
						factory_target_destroy_notify = view_manager_unref;
#line 366 "/shotwell/src/core/ViewCollection.vala"
						_view_collection_monitor_unref0 (monitor);
#line 366 "/shotwell/src/core/ViewCollection.vala"
						break;
#line 2251 "ViewCollection.c"
					}
#line 362 "/shotwell/src/core/ViewCollection.vala"
					_view_collection_monitor_unref0 (monitor);
#line 2255 "ViewCollection.c"
				}
#line 362 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (_monitor_it);
#line 2259 "ViewCollection.c"
			}
#line 370 "/shotwell/src/core/ViewCollection.vala"
			_tmp22_ = factory;
#line 370 "/shotwell/src/core/ViewCollection.vala"
			_tmp22__target = factory_target;
#line 370 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp22_ != NULL) {
#line 2267 "ViewCollection.c"
				DataView* new_view = NULL;
				CreateView _tmp23_;
				void* _tmp23__target;
				DataSource* _tmp24_;
				DataView* _tmp25_;
				GeeArrayList* _tmp26_;
#line 371 "/shotwell/src/core/ViewCollection.vala"
				_tmp23_ = factory;
#line 371 "/shotwell/src/core/ViewCollection.vala"
				_tmp23__target = factory_target;
#line 371 "/shotwell/src/core/ViewCollection.vala"
				_tmp24_ = source;
#line 371 "/shotwell/src/core/ViewCollection.vala"
				_tmp25_ = _tmp23_ (_tmp24_, _tmp23__target);
#line 371 "/shotwell/src/core/ViewCollection.vala"
				new_view = _tmp25_;
#line 375 "/shotwell/src/core/ViewCollection.vala"
				_tmp26_ = created_views;
#line 375 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp26_ != NULL) {
#line 2288 "ViewCollection.c"
					GeeArrayList* _tmp27_;
					DataView* _tmp28_;
#line 376 "/shotwell/src/core/ViewCollection.vala"
					_tmp27_ = created_views;
#line 376 "/shotwell/src/core/ViewCollection.vala"
					_tmp28_ = new_view;
#line 376 "/shotwell/src/core/ViewCollection.vala"
					gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp27_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp28_);
#line 2297 "ViewCollection.c"
				} else {
					DataView* _tmp29_;
#line 377 "/shotwell/src/core/ViewCollection.vala"
					_tmp29_ = created_view;
#line 377 "/shotwell/src/core/ViewCollection.vala"
					if (_tmp29_ == NULL) {
#line 2304 "ViewCollection.c"
						DataView* _tmp30_;
						DataView* _tmp31_;
#line 378 "/shotwell/src/core/ViewCollection.vala"
						_tmp30_ = new_view;
#line 378 "/shotwell/src/core/ViewCollection.vala"
						_tmp31_ = _g_object_ref0 (_tmp30_);
#line 378 "/shotwell/src/core/ViewCollection.vala"
						_g_object_unref0 (created_view);
#line 378 "/shotwell/src/core/ViewCollection.vala"
						created_view = _tmp31_;
#line 2315 "ViewCollection.c"
					} else {
						GeeArrayList* _tmp32_;
						GeeArrayList* _tmp33_;
						DataView* _tmp34_;
						GeeArrayList* _tmp35_;
						DataView* _tmp36_;
#line 380 "/shotwell/src/core/ViewCollection.vala"
						_tmp32_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 380 "/shotwell/src/core/ViewCollection.vala"
						_g_object_unref0 (created_views);
#line 380 "/shotwell/src/core/ViewCollection.vala"
						created_views = _tmp32_;
#line 381 "/shotwell/src/core/ViewCollection.vala"
						_tmp33_ = created_views;
#line 381 "/shotwell/src/core/ViewCollection.vala"
						_tmp34_ = created_view;
#line 381 "/shotwell/src/core/ViewCollection.vala"
						gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp33_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp34_);
#line 382 "/shotwell/src/core/ViewCollection.vala"
						_g_object_unref0 (created_view);
#line 382 "/shotwell/src/core/ViewCollection.vala"
						created_view = NULL;
#line 383 "/shotwell/src/core/ViewCollection.vala"
						_tmp35_ = created_views;
#line 383 "/shotwell/src/core/ViewCollection.vala"
						_tmp36_ = new_view;
#line 383 "/shotwell/src/core/ViewCollection.vala"
						gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp35_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp36_);
#line 2344 "ViewCollection.c"
					}
				}
#line 370 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (new_view);
#line 2349 "ViewCollection.c"
			}
#line 360 "/shotwell/src/core/ViewCollection.vala"
			(factory_target_destroy_notify == NULL) ? NULL : (factory_target_destroy_notify (factory_target), NULL);
#line 360 "/shotwell/src/core/ViewCollection.vala"
			factory = NULL;
#line 360 "/shotwell/src/core/ViewCollection.vala"
			factory_target = NULL;
#line 360 "/shotwell/src/core/ViewCollection.vala"
			factory_target_destroy_notify = NULL;
#line 360 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (source);
#line 2361 "ViewCollection.c"
		}
#line 360 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_source_it);
#line 2365 "ViewCollection.c"
	}
#line 388 "/shotwell/src/core/ViewCollection.vala"
	_tmp37_ = created_view;
#line 388 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp37_ != NULL) {
#line 2371 "ViewCollection.c"
		DataView* _tmp38_;
#line 389 "/shotwell/src/core/ViewCollection.vala"
		_tmp38_ = created_view;
#line 389 "/shotwell/src/core/ViewCollection.vala"
		data_collection_add (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp38_, TYPE_DATA_OBJECT, DataObject));
#line 2377 "ViewCollection.c"
	} else {
		gboolean _tmp39_ = FALSE;
		GeeArrayList* _tmp40_;
#line 390 "/shotwell/src/core/ViewCollection.vala"
		_tmp40_ = created_views;
#line 390 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp40_ != NULL) {
#line 2385 "ViewCollection.c"
			GeeArrayList* _tmp41_;
			gint _tmp42_;
			gint _tmp43_;
#line 390 "/shotwell/src/core/ViewCollection.vala"
			_tmp41_ = created_views;
#line 390 "/shotwell/src/core/ViewCollection.vala"
			_tmp42_ = gee_abstract_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp41_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection));
#line 390 "/shotwell/src/core/ViewCollection.vala"
			_tmp43_ = _tmp42_;
#line 390 "/shotwell/src/core/ViewCollection.vala"
			_tmp39_ = _tmp43_ > 0;
#line 2397 "ViewCollection.c"
		} else {
#line 390 "/shotwell/src/core/ViewCollection.vala"
			_tmp39_ = FALSE;
#line 2401 "ViewCollection.c"
		}
#line 390 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp39_) {
#line 2405 "ViewCollection.c"
			GeeArrayList* _tmp44_;
			ProgressMonitor _tmp45_;
			void* _tmp45__target;
			GeeCollection* _tmp46_;
			GeeCollection* _tmp47_;
#line 391 "/shotwell/src/core/ViewCollection.vala"
			_tmp44_ = created_views;
#line 391 "/shotwell/src/core/ViewCollection.vala"
			_tmp45_ = progress_monitor;
#line 391 "/shotwell/src/core/ViewCollection.vala"
			_tmp45__target = progress_monitor_target;
#line 391 "/shotwell/src/core/ViewCollection.vala"
			_tmp46_ = data_collection_add_many (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp44_, GEE_TYPE_COLLECTION, GeeCollection), _tmp45_, _tmp45__target);
#line 391 "/shotwell/src/core/ViewCollection.vala"
			_tmp47_ = _tmp46_;
#line 391 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_tmp47_);
#line 2423 "ViewCollection.c"
		}
	}
#line 354 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (created_views);
#line 354 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (created_view);
#line 2430 "ViewCollection.c"
}


static gboolean view_collection_real_add (DataCollection* base, DataObject* object) {
	ViewCollection * self;
	gboolean result = FALSE;
	DataObject* _tmp0_;
	DataObject* _tmp1_;
	gboolean _tmp2_;
	DataObject* _tmp3_;
	GeeCollection* _tmp4_;
	GeeCollection* _tmp5_;
#line 394 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 394 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_OBJECT (object), FALSE);
#line 395 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = object;
#line 395 "/shotwell/src/core/ViewCollection.vala"
	data_view_internal_set_visible (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, TYPE_DATA_VIEW, DataView), TRUE);
#line 397 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = object;
#line 397 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = DATA_COLLECTION_CLASS (view_collection_parent_class)->add (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp1_);
#line 397 "/shotwell/src/core/ViewCollection.vala"
	if (!_tmp2_) {
#line 398 "/shotwell/src/core/ViewCollection.vala"
		result = FALSE;
#line 398 "/shotwell/src/core/ViewCollection.vala"
		return result;
#line 2461 "ViewCollection.c"
	}
#line 400 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = object;
#line 400 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = data_collection_get_singleton (_tmp3_);
#line 400 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, GEE_TYPE_COLLECTION, GeeCollection);
#line 400 "/shotwell/src/core/ViewCollection.vala"
	view_collection_filter_altered_items (self, _tmp5_);
#line 400 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (_tmp5_);
#line 402 "/shotwell/src/core/ViewCollection.vala"
	result = TRUE;
#line 402 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 2477 "ViewCollection.c"
}


static GeeCollection* view_collection_real_add_many (DataCollection* base, GeeCollection* objects, ProgressMonitor monitor, void* monitor_target) {
	ViewCollection * self;
	GeeCollection* result = NULL;
	GeeCollection* return_list = NULL;
	GeeCollection* _tmp7_;
	ProgressMonitor _tmp8_;
	void* _tmp8__target;
	GeeCollection* _tmp9_;
#line 405 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 405 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (GEE_IS_COLLECTION (objects), NULL);
#line 2493 "ViewCollection.c"
	{
		GeeIterator* _object_it = NULL;
		GeeCollection* _tmp0_;
		GeeIterator* _tmp1_;
#line 407 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = objects;
#line 407 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ITERABLE, GeeIterable));
#line 407 "/shotwell/src/core/ViewCollection.vala"
		_object_it = _tmp1_;
#line 407 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 2506 "ViewCollection.c"
			GeeIterator* _tmp2_;
			gboolean _tmp3_;
			DataObject* object = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			DataObject* _tmp6_;
#line 407 "/shotwell/src/core/ViewCollection.vala"
			_tmp2_ = _object_it;
#line 407 "/shotwell/src/core/ViewCollection.vala"
			_tmp3_ = gee_iterator_next (_tmp2_);
#line 407 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp3_) {
#line 407 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 2521 "ViewCollection.c"
			}
#line 407 "/shotwell/src/core/ViewCollection.vala"
			_tmp4_ = _object_it;
#line 407 "/shotwell/src/core/ViewCollection.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 407 "/shotwell/src/core/ViewCollection.vala"
			object = (DataObject*) _tmp5_;
#line 408 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = object;
#line 408 "/shotwell/src/core/ViewCollection.vala"
			data_view_internal_set_visible (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, TYPE_DATA_VIEW, DataView), TRUE);
#line 407 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (object);
#line 2535 "ViewCollection.c"
		}
#line 407 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_object_it);
#line 2539 "ViewCollection.c"
	}
#line 410 "/shotwell/src/core/ViewCollection.vala"
	_tmp7_ = objects;
#line 410 "/shotwell/src/core/ViewCollection.vala"
	_tmp8_ = monitor;
#line 410 "/shotwell/src/core/ViewCollection.vala"
	_tmp8__target = monitor_target;
#line 410 "/shotwell/src/core/ViewCollection.vala"
	_tmp9_ = DATA_COLLECTION_CLASS (view_collection_parent_class)->add_many (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp7_, _tmp8_, _tmp8__target);
#line 410 "/shotwell/src/core/ViewCollection.vala"
	return_list = _tmp9_;
#line 412 "/shotwell/src/core/ViewCollection.vala"
	view_collection_filter_altered_items (self, G_TYPE_CHECK_INSTANCE_CAST (return_list, GEE_TYPE_COLLECTION, GeeCollection));
#line 414 "/shotwell/src/core/ViewCollection.vala"
	result = return_list;
#line 414 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 2557 "ViewCollection.c"
}


static void view_collection_on_sources_removed (ViewCollection* self, GeeIterable* removed) {
	Marker* marker = NULL;
	gboolean _tmp14_ = FALSE;
	Marker* _tmp15_;
#line 417 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 417 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_ITERABLE (removed));
#line 419 "/shotwell/src/core/ViewCollection.vala"
	marker = NULL;
#line 2571 "ViewCollection.c"
	{
		GeeIterator* _source_it = NULL;
		GeeIterable* _tmp0_;
		GeeIterator* _tmp1_;
#line 420 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = removed;
#line 420 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = gee_iterable_iterator (_tmp0_);
#line 420 "/shotwell/src/core/ViewCollection.vala"
		_source_it = _tmp1_;
#line 420 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 2584 "ViewCollection.c"
			GeeIterator* _tmp2_;
			gboolean _tmp3_;
			DataSource* source = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			DataView* view = NULL;
			GeeHashMap* _tmp6_;
			DataSource* _tmp7_;
			gpointer _tmp8_;
			DataView* _tmp9_;
#line 420 "/shotwell/src/core/ViewCollection.vala"
			_tmp2_ = _source_it;
#line 420 "/shotwell/src/core/ViewCollection.vala"
			_tmp3_ = gee_iterator_next (_tmp2_);
#line 420 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp3_) {
#line 420 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 2603 "ViewCollection.c"
			}
#line 420 "/shotwell/src/core/ViewCollection.vala"
			_tmp4_ = _source_it;
#line 420 "/shotwell/src/core/ViewCollection.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 420 "/shotwell/src/core/ViewCollection.vala"
			source = (DataSource*) _tmp5_;
#line 421 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = self->priv->source_map;
#line 421 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = source;
#line 421 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp7_);
#line 421 "/shotwell/src/core/ViewCollection.vala"
			view = (DataView*) _tmp8_;
#line 424 "/shotwell/src/core/ViewCollection.vala"
			_tmp9_ = view;
#line 424 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp9_ != NULL) {
#line 2623 "ViewCollection.c"
				Marker* _tmp10_;
				Marker* _tmp12_;
				DataView* _tmp13_;
#line 425 "/shotwell/src/core/ViewCollection.vala"
				_tmp10_ = marker;
#line 425 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp10_ == NULL) {
#line 2631 "ViewCollection.c"
					Marker* _tmp11_;
#line 426 "/shotwell/src/core/ViewCollection.vala"
					_tmp11_ = data_collection_start_marking (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 426 "/shotwell/src/core/ViewCollection.vala"
					_g_object_unref0 (marker);
#line 426 "/shotwell/src/core/ViewCollection.vala"
					marker = _tmp11_;
#line 2639 "ViewCollection.c"
				}
#line 428 "/shotwell/src/core/ViewCollection.vala"
				_tmp12_ = marker;
#line 428 "/shotwell/src/core/ViewCollection.vala"
				_tmp13_ = view;
#line 428 "/shotwell/src/core/ViewCollection.vala"
				marker_mark (_tmp12_, G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, TYPE_DATA_OBJECT, DataObject));
#line 2647 "ViewCollection.c"
			}
#line 420 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (view);
#line 420 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (source);
#line 2653 "ViewCollection.c"
		}
#line 420 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_source_it);
#line 2657 "ViewCollection.c"
	}
#line 432 "/shotwell/src/core/ViewCollection.vala"
	_tmp15_ = marker;
#line 432 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp15_ != NULL) {
#line 2663 "ViewCollection.c"
		Marker* _tmp16_;
		gint _tmp17_;
#line 432 "/shotwell/src/core/ViewCollection.vala"
		_tmp16_ = marker;
#line 432 "/shotwell/src/core/ViewCollection.vala"
		_tmp17_ = marker_get_count (_tmp16_);
#line 432 "/shotwell/src/core/ViewCollection.vala"
		_tmp14_ = _tmp17_ != 0;
#line 2672 "ViewCollection.c"
	} else {
#line 432 "/shotwell/src/core/ViewCollection.vala"
		_tmp14_ = FALSE;
#line 2676 "ViewCollection.c"
	}
#line 432 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp14_) {
#line 2680 "ViewCollection.c"
		Marker* _tmp18_;
#line 433 "/shotwell/src/core/ViewCollection.vala"
		_tmp18_ = marker;
#line 433 "/shotwell/src/core/ViewCollection.vala"
		data_collection_remove_marked (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp18_);
#line 2686 "ViewCollection.c"
	}
#line 417 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (marker);
#line 2690 "ViewCollection.c"
}


static void view_collection_on_sources_altered (ViewCollection* self, DataCollection* collection, GeeMap* items) {
	GeeArrayList* to_add = NULL;
	GeeArrayList* to_remove = NULL;
	gboolean ordering_changed = FALSE;
	GeeArrayList* _tmp82_;
	GeeArrayList* _tmp86_;
	gboolean _tmp90_;
#line 436 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 436 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_DATA_COLLECTION (collection));
#line 436 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_MAP (items));
#line 439 "/shotwell/src/core/ViewCollection.vala"
	to_add = NULL;
#line 440 "/shotwell/src/core/ViewCollection.vala"
	to_remove = NULL;
#line 441 "/shotwell/src/core/ViewCollection.vala"
	ordering_changed = FALSE;
#line 2713 "ViewCollection.c"
	{
		GeeIterator* _object_it = NULL;
		GeeMap* _tmp0_;
		GeeSet* _tmp1_;
		GeeSet* _tmp2_;
		GeeSet* _tmp3_;
		GeeIterator* _tmp4_;
		GeeIterator* _tmp5_;
#line 442 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = items;
#line 442 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = gee_map_get_keys (_tmp0_);
#line 442 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = _tmp1_;
#line 442 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = _tmp2_;
#line 442 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ITERABLE, GeeIterable));
#line 442 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = _tmp4_;
#line 442 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp3_);
#line 442 "/shotwell/src/core/ViewCollection.vala"
		_object_it = _tmp5_;
#line 442 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 2740 "ViewCollection.c"
			GeeIterator* _tmp6_;
			gboolean _tmp7_;
			DataObject* object = NULL;
			GeeIterator* _tmp8_;
			gpointer _tmp9_;
			Alteration* alteration = NULL;
			GeeMap* _tmp10_;
			DataObject* _tmp11_;
			gpointer _tmp12_;
			DataSource* source = NULL;
			DataObject* _tmp13_;
			DataSource* _tmp14_;
			ViewCollectionMonitorImpl* monitor = NULL;
			gboolean ignored = FALSE;
			gboolean _tmp38_;
			gboolean _tmp40_ = FALSE;
			ViewCollectionMonitorImpl* _tmp41_;
#line 442 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = _object_it;
#line 442 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = gee_iterator_next (_tmp6_);
#line 442 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp7_) {
#line 442 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 2766 "ViewCollection.c"
			}
#line 442 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = _object_it;
#line 442 "/shotwell/src/core/ViewCollection.vala"
			_tmp9_ = gee_iterator_get (_tmp8_);
#line 442 "/shotwell/src/core/ViewCollection.vala"
			object = (DataObject*) _tmp9_;
#line 443 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = items;
#line 443 "/shotwell/src/core/ViewCollection.vala"
			_tmp11_ = object;
#line 443 "/shotwell/src/core/ViewCollection.vala"
			_tmp12_ = gee_map_get (_tmp10_, _tmp11_);
#line 443 "/shotwell/src/core/ViewCollection.vala"
			alteration = (Alteration*) _tmp12_;
#line 444 "/shotwell/src/core/ViewCollection.vala"
			_tmp13_ = object;
#line 444 "/shotwell/src/core/ViewCollection.vala"
			_tmp14_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, TYPE_DATA_SOURCE, DataSource));
#line 444 "/shotwell/src/core/ViewCollection.vala"
			source = _tmp14_;
#line 446 "/shotwell/src/core/ViewCollection.vala"
			monitor = NULL;
#line 447 "/shotwell/src/core/ViewCollection.vala"
			ignored = TRUE;
#line 2792 "ViewCollection.c"
			{
				GeeIterator* _monitor_impl_it = NULL;
				GeeHashMultiMap* _tmp15_;
				DataCollection* _tmp16_;
				GeeCollection* _tmp17_;
				GeeCollection* _tmp18_;
				GeeIterator* _tmp19_;
				GeeIterator* _tmp20_;
#line 448 "/shotwell/src/core/ViewCollection.vala"
				_tmp15_ = self->priv->monitors;
#line 448 "/shotwell/src/core/ViewCollection.vala"
				_tmp16_ = collection;
#line 448 "/shotwell/src/core/ViewCollection.vala"
				_tmp17_ = gee_multi_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp15_, GEE_TYPE_MULTI_MAP, GeeMultiMap), G_TYPE_CHECK_INSTANCE_CAST (_tmp16_, TYPE_SOURCE_COLLECTION, SourceCollection));
#line 448 "/shotwell/src/core/ViewCollection.vala"
				_tmp18_ = _tmp17_;
#line 448 "/shotwell/src/core/ViewCollection.vala"
				_tmp19_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp18_, GEE_TYPE_ITERABLE, GeeIterable));
#line 448 "/shotwell/src/core/ViewCollection.vala"
				_tmp20_ = _tmp19_;
#line 448 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (_tmp18_);
#line 448 "/shotwell/src/core/ViewCollection.vala"
				_monitor_impl_it = _tmp20_;
#line 448 "/shotwell/src/core/ViewCollection.vala"
				while (TRUE) {
#line 2819 "ViewCollection.c"
					GeeIterator* _tmp21_;
					gboolean _tmp22_;
					ViewCollectionMonitorImpl* monitor_impl = NULL;
					GeeIterator* _tmp23_;
					gpointer _tmp24_;
					gboolean _tmp25_ = FALSE;
					ViewCollectionMonitorImpl* _tmp26_;
					Alteration* _tmp27_;
					ViewCollectionMonitorImpl* _tmp32_;
					ViewManager* _tmp33_;
					DataSource* _tmp34_;
					gboolean _tmp35_;
#line 448 "/shotwell/src/core/ViewCollection.vala"
					_tmp21_ = _monitor_impl_it;
#line 448 "/shotwell/src/core/ViewCollection.vala"
					_tmp22_ = gee_iterator_next (_tmp21_);
#line 448 "/shotwell/src/core/ViewCollection.vala"
					if (!_tmp22_) {
#line 448 "/shotwell/src/core/ViewCollection.vala"
						break;
#line 2840 "ViewCollection.c"
					}
#line 448 "/shotwell/src/core/ViewCollection.vala"
					_tmp23_ = _monitor_impl_it;
#line 448 "/shotwell/src/core/ViewCollection.vala"
					_tmp24_ = gee_iterator_get (_tmp23_);
#line 448 "/shotwell/src/core/ViewCollection.vala"
					monitor_impl = (ViewCollectionMonitorImpl*) _tmp24_;
#line 449 "/shotwell/src/core/ViewCollection.vala"
					_tmp26_ = monitor_impl;
#line 449 "/shotwell/src/core/ViewCollection.vala"
					_tmp27_ = _tmp26_->prereq;
#line 449 "/shotwell/src/core/ViewCollection.vala"
					if (_tmp27_ != NULL) {
#line 2854 "ViewCollection.c"
						Alteration* _tmp28_;
						ViewCollectionMonitorImpl* _tmp29_;
						Alteration* _tmp30_;
						gboolean _tmp31_;
#line 449 "/shotwell/src/core/ViewCollection.vala"
						_tmp28_ = alteration;
#line 449 "/shotwell/src/core/ViewCollection.vala"
						_tmp29_ = monitor_impl;
#line 449 "/shotwell/src/core/ViewCollection.vala"
						_tmp30_ = _tmp29_->prereq;
#line 449 "/shotwell/src/core/ViewCollection.vala"
						_tmp31_ = alteration_contains_any (_tmp28_, _tmp30_);
#line 449 "/shotwell/src/core/ViewCollection.vala"
						_tmp25_ = !_tmp31_;
#line 2869 "ViewCollection.c"
					} else {
#line 449 "/shotwell/src/core/ViewCollection.vala"
						_tmp25_ = FALSE;
#line 2873 "ViewCollection.c"
					}
#line 449 "/shotwell/src/core/ViewCollection.vala"
					if (_tmp25_) {
#line 450 "/shotwell/src/core/ViewCollection.vala"
						_view_collection_monitor_unref0 (monitor_impl);
#line 450 "/shotwell/src/core/ViewCollection.vala"
						continue;
#line 2881 "ViewCollection.c"
					}
#line 452 "/shotwell/src/core/ViewCollection.vala"
					ignored = FALSE;
#line 454 "/shotwell/src/core/ViewCollection.vala"
					_tmp32_ = monitor_impl;
#line 454 "/shotwell/src/core/ViewCollection.vala"
					_tmp33_ = _tmp32_->manager;
#line 454 "/shotwell/src/core/ViewCollection.vala"
					_tmp34_ = source;
#line 454 "/shotwell/src/core/ViewCollection.vala"
					_tmp35_ = view_manager_include_in_view (_tmp33_, _tmp34_);
#line 454 "/shotwell/src/core/ViewCollection.vala"
					if (_tmp35_) {
#line 2895 "ViewCollection.c"
						ViewCollectionMonitorImpl* _tmp36_;
						ViewCollectionMonitorImpl* _tmp37_;
#line 455 "/shotwell/src/core/ViewCollection.vala"
						_tmp36_ = monitor_impl;
#line 455 "/shotwell/src/core/ViewCollection.vala"
						_tmp37_ = _view_collection_monitor_ref0 (_tmp36_);
#line 455 "/shotwell/src/core/ViewCollection.vala"
						_view_collection_monitor_unref0 (monitor);
#line 455 "/shotwell/src/core/ViewCollection.vala"
						monitor = _tmp37_;
#line 457 "/shotwell/src/core/ViewCollection.vala"
						_view_collection_monitor_unref0 (monitor_impl);
#line 457 "/shotwell/src/core/ViewCollection.vala"
						break;
#line 2910 "ViewCollection.c"
					}
#line 448 "/shotwell/src/core/ViewCollection.vala"
					_view_collection_monitor_unref0 (monitor_impl);
#line 2914 "ViewCollection.c"
				}
#line 448 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (_monitor_impl_it);
#line 2918 "ViewCollection.c"
			}
#line 461 "/shotwell/src/core/ViewCollection.vala"
			_tmp38_ = ignored;
#line 461 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp38_) {
#line 2924 "ViewCollection.c"
				ViewCollectionMonitorImpl* _tmp39_;
#line 462 "/shotwell/src/core/ViewCollection.vala"
				_tmp39_ = monitor;
#line 462 "/shotwell/src/core/ViewCollection.vala"
				_vala_assert (_tmp39_ == NULL, "monitor == null");
#line 464 "/shotwell/src/core/ViewCollection.vala"
				_view_collection_monitor_unref0 (monitor);
#line 464 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (source);
#line 464 "/shotwell/src/core/ViewCollection.vala"
				_alteration_unref0 (alteration);
#line 464 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (object);
#line 464 "/shotwell/src/core/ViewCollection.vala"
				continue;
#line 2940 "ViewCollection.c"
			}
#line 467 "/shotwell/src/core/ViewCollection.vala"
			_tmp41_ = monitor;
#line 467 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp41_ != NULL) {
#line 2946 "ViewCollection.c"
				DataSource* _tmp42_;
				gboolean _tmp43_;
#line 467 "/shotwell/src/core/ViewCollection.vala"
				_tmp42_ = source;
#line 467 "/shotwell/src/core/ViewCollection.vala"
				_tmp43_ = view_collection_has_view_for_source (self, _tmp42_);
#line 467 "/shotwell/src/core/ViewCollection.vala"
				_tmp40_ = !_tmp43_;
#line 2955 "ViewCollection.c"
			} else {
#line 467 "/shotwell/src/core/ViewCollection.vala"
				_tmp40_ = FALSE;
#line 2959 "ViewCollection.c"
			}
#line 467 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp40_) {
#line 2963 "ViewCollection.c"
				GeeArrayList* _tmp44_;
				GeeArrayList* _tmp46_;
				ViewCollectionMonitorImpl* _tmp47_;
				ViewManager* _tmp48_;
				DataSource* _tmp49_;
				DataView* _tmp50_;
				DataView* _tmp51_;
#line 468 "/shotwell/src/core/ViewCollection.vala"
				_tmp44_ = to_add;
#line 468 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp44_ == NULL) {
#line 2975 "ViewCollection.c"
					GeeArrayList* _tmp45_;
#line 469 "/shotwell/src/core/ViewCollection.vala"
					_tmp45_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 469 "/shotwell/src/core/ViewCollection.vala"
					_g_object_unref0 (to_add);
#line 469 "/shotwell/src/core/ViewCollection.vala"
					to_add = _tmp45_;
#line 2983 "ViewCollection.c"
				}
#line 471 "/shotwell/src/core/ViewCollection.vala"
				_tmp46_ = to_add;
#line 471 "/shotwell/src/core/ViewCollection.vala"
				_tmp47_ = monitor;
#line 471 "/shotwell/src/core/ViewCollection.vala"
				_tmp48_ = _tmp47_->manager;
#line 471 "/shotwell/src/core/ViewCollection.vala"
				_tmp49_ = source;
#line 471 "/shotwell/src/core/ViewCollection.vala"
				_tmp50_ = view_manager_create_view (_tmp48_, _tmp49_);
#line 471 "/shotwell/src/core/ViewCollection.vala"
				_tmp51_ = _tmp50_;
#line 471 "/shotwell/src/core/ViewCollection.vala"
				gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp46_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp51_);
#line 471 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (_tmp51_);
#line 3001 "ViewCollection.c"
			} else {
				gboolean _tmp52_ = FALSE;
				ViewCollectionMonitorImpl* _tmp53_;
#line 472 "/shotwell/src/core/ViewCollection.vala"
				_tmp53_ = monitor;
#line 472 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp53_ == NULL) {
#line 3009 "ViewCollection.c"
					DataSource* _tmp54_;
					gboolean _tmp55_;
#line 472 "/shotwell/src/core/ViewCollection.vala"
					_tmp54_ = source;
#line 472 "/shotwell/src/core/ViewCollection.vala"
					_tmp55_ = view_collection_has_view_for_source (self, _tmp54_);
#line 472 "/shotwell/src/core/ViewCollection.vala"
					_tmp52_ = _tmp55_;
#line 3018 "ViewCollection.c"
				} else {
#line 472 "/shotwell/src/core/ViewCollection.vala"
					_tmp52_ = FALSE;
#line 3022 "ViewCollection.c"
				}
#line 472 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp52_) {
#line 3026 "ViewCollection.c"
					GeeArrayList* _tmp56_;
					GeeArrayList* _tmp58_;
					DataSource* _tmp59_;
					DataView* _tmp60_;
					DataView* _tmp61_;
#line 473 "/shotwell/src/core/ViewCollection.vala"
					_tmp56_ = to_remove;
#line 473 "/shotwell/src/core/ViewCollection.vala"
					if (_tmp56_ == NULL) {
#line 3036 "ViewCollection.c"
						GeeArrayList* _tmp57_;
#line 474 "/shotwell/src/core/ViewCollection.vala"
						_tmp57_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 474 "/shotwell/src/core/ViewCollection.vala"
						_g_object_unref0 (to_remove);
#line 474 "/shotwell/src/core/ViewCollection.vala"
						to_remove = _tmp57_;
#line 3044 "ViewCollection.c"
					}
#line 476 "/shotwell/src/core/ViewCollection.vala"
					_tmp58_ = to_remove;
#line 476 "/shotwell/src/core/ViewCollection.vala"
					_tmp59_ = source;
#line 476 "/shotwell/src/core/ViewCollection.vala"
					_tmp60_ = view_collection_get_view_for_source (self, _tmp59_);
#line 476 "/shotwell/src/core/ViewCollection.vala"
					_tmp61_ = _tmp60_;
#line 476 "/shotwell/src/core/ViewCollection.vala"
					gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp58_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp61_);
#line 476 "/shotwell/src/core/ViewCollection.vala"
					_g_object_unref0 (_tmp61_);
#line 3058 "ViewCollection.c"
				} else {
					gboolean _tmp62_ = FALSE;
					ViewCollectionMonitorImpl* _tmp63_;
#line 477 "/shotwell/src/core/ViewCollection.vala"
					_tmp63_ = monitor;
#line 477 "/shotwell/src/core/ViewCollection.vala"
					if (_tmp63_ != NULL) {
#line 3066 "ViewCollection.c"
						DataSource* _tmp64_;
						gboolean _tmp65_;
#line 477 "/shotwell/src/core/ViewCollection.vala"
						_tmp64_ = source;
#line 477 "/shotwell/src/core/ViewCollection.vala"
						_tmp65_ = view_collection_has_view_for_source (self, _tmp64_);
#line 477 "/shotwell/src/core/ViewCollection.vala"
						_tmp62_ = _tmp65_;
#line 3075 "ViewCollection.c"
					} else {
#line 477 "/shotwell/src/core/ViewCollection.vala"
						_tmp62_ = FALSE;
#line 3079 "ViewCollection.c"
					}
#line 477 "/shotwell/src/core/ViewCollection.vala"
					if (_tmp62_) {
#line 3083 "ViewCollection.c"
						DataView* view = NULL;
						DataSource* _tmp66_;
						DataView* _tmp67_;
						DataSet* _tmp68_;
						DataView* _tmp69_;
						gboolean _tmp70_;
						gboolean _tmp74_ = FALSE;
						DataSet* _tmp75_;
#line 478 "/shotwell/src/core/ViewCollection.vala"
						_tmp66_ = source;
#line 478 "/shotwell/src/core/ViewCollection.vala"
						_tmp67_ = view_collection_get_view_for_source (self, _tmp66_);
#line 478 "/shotwell/src/core/ViewCollection.vala"
						view = _tmp67_;
#line 480 "/shotwell/src/core/ViewCollection.vala"
						_tmp68_ = self->priv->selected;
#line 480 "/shotwell/src/core/ViewCollection.vala"
						_tmp69_ = view;
#line 480 "/shotwell/src/core/ViewCollection.vala"
						_tmp70_ = data_set_contains (_tmp68_, G_TYPE_CHECK_INSTANCE_CAST (_tmp69_, TYPE_DATA_OBJECT, DataObject));
#line 480 "/shotwell/src/core/ViewCollection.vala"
						if (_tmp70_) {
#line 3106 "ViewCollection.c"
							DataSet* _tmp71_;
							DataView* _tmp72_;
							Alteration* _tmp73_;
#line 481 "/shotwell/src/core/ViewCollection.vala"
							_tmp71_ = self->priv->selected;
#line 481 "/shotwell/src/core/ViewCollection.vala"
							_tmp72_ = view;
#line 481 "/shotwell/src/core/ViewCollection.vala"
							_tmp73_ = alteration;
#line 481 "/shotwell/src/core/ViewCollection.vala"
							data_set_resort_object (_tmp71_, G_TYPE_CHECK_INSTANCE_CAST (_tmp72_, TYPE_DATA_OBJECT, DataObject), _tmp73_);
#line 3118 "ViewCollection.c"
						}
#line 483 "/shotwell/src/core/ViewCollection.vala"
						_tmp75_ = self->priv->visible;
#line 483 "/shotwell/src/core/ViewCollection.vala"
						if (_tmp75_ != NULL) {
#line 3124 "ViewCollection.c"
							DataView* _tmp76_;
							gboolean _tmp77_;
#line 483 "/shotwell/src/core/ViewCollection.vala"
							_tmp76_ = view;
#line 483 "/shotwell/src/core/ViewCollection.vala"
							_tmp77_ = view_collection_is_visible (self, _tmp76_);
#line 483 "/shotwell/src/core/ViewCollection.vala"
							_tmp74_ = _tmp77_;
#line 3133 "ViewCollection.c"
						} else {
#line 483 "/shotwell/src/core/ViewCollection.vala"
							_tmp74_ = FALSE;
#line 3137 "ViewCollection.c"
						}
#line 483 "/shotwell/src/core/ViewCollection.vala"
						if (_tmp74_) {
#line 3141 "ViewCollection.c"
							DataSet* _tmp78_;
							DataView* _tmp79_;
							Alteration* _tmp80_;
							gboolean _tmp81_;
#line 484 "/shotwell/src/core/ViewCollection.vala"
							_tmp78_ = self->priv->visible;
#line 484 "/shotwell/src/core/ViewCollection.vala"
							_tmp79_ = view;
#line 484 "/shotwell/src/core/ViewCollection.vala"
							_tmp80_ = alteration;
#line 484 "/shotwell/src/core/ViewCollection.vala"
							_tmp81_ = data_set_resort_object (_tmp78_, G_TYPE_CHECK_INSTANCE_CAST (_tmp79_, TYPE_DATA_OBJECT, DataObject), _tmp80_);
#line 484 "/shotwell/src/core/ViewCollection.vala"
							if (_tmp81_) {
#line 485 "/shotwell/src/core/ViewCollection.vala"
								ordering_changed = TRUE;
#line 3158 "ViewCollection.c"
							}
						}
#line 477 "/shotwell/src/core/ViewCollection.vala"
						_g_object_unref0 (view);
#line 3163 "ViewCollection.c"
					}
				}
			}
#line 442 "/shotwell/src/core/ViewCollection.vala"
			_view_collection_monitor_unref0 (monitor);
#line 442 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (source);
#line 442 "/shotwell/src/core/ViewCollection.vala"
			_alteration_unref0 (alteration);
#line 442 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (object);
#line 3175 "ViewCollection.c"
		}
#line 442 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_object_it);
#line 3179 "ViewCollection.c"
	}
#line 490 "/shotwell/src/core/ViewCollection.vala"
	_tmp82_ = to_add;
#line 490 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp82_ != NULL) {
#line 3185 "ViewCollection.c"
		GeeArrayList* _tmp83_;
		GeeCollection* _tmp84_;
		GeeCollection* _tmp85_;
#line 491 "/shotwell/src/core/ViewCollection.vala"
		_tmp83_ = to_add;
#line 491 "/shotwell/src/core/ViewCollection.vala"
		_tmp84_ = data_collection_add_many (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp83_, GEE_TYPE_COLLECTION, GeeCollection), NULL, NULL);
#line 491 "/shotwell/src/core/ViewCollection.vala"
		_tmp85_ = _tmp84_;
#line 491 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp85_);
#line 3197 "ViewCollection.c"
	}
#line 493 "/shotwell/src/core/ViewCollection.vala"
	_tmp86_ = to_remove;
#line 493 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp86_ != NULL) {
#line 3203 "ViewCollection.c"
		GeeArrayList* _tmp87_;
		Marker* _tmp88_;
		Marker* _tmp89_;
#line 494 "/shotwell/src/core/ViewCollection.vala"
		_tmp87_ = to_remove;
#line 494 "/shotwell/src/core/ViewCollection.vala"
		_tmp88_ = data_collection_mark_many (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp87_, GEE_TYPE_COLLECTION, GeeCollection));
#line 494 "/shotwell/src/core/ViewCollection.vala"
		_tmp89_ = _tmp88_;
#line 494 "/shotwell/src/core/ViewCollection.vala"
		data_collection_remove_marked (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp89_);
#line 494 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp89_);
#line 3217 "ViewCollection.c"
	}
#line 496 "/shotwell/src/core/ViewCollection.vala"
	_tmp90_ = ordering_changed;
#line 496 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp90_) {
#line 497 "/shotwell/src/core/ViewCollection.vala"
		data_collection_notify_ordering_changed (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 3225 "ViewCollection.c"
	}
#line 436 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (to_remove);
#line 436 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (to_add);
#line 3231 "ViewCollection.c"
}


static void view_collection_on_mirror_contents_added (ViewCollection* self, GeeIterable* added) {
	GeeArrayList* to_add = NULL;
	GeeArrayList* _tmp0_;
	GeeArrayList* _tmp19_;
	gint _tmp20_;
	gint _tmp21_;
#line 500 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 500 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_ITERABLE (added));
#line 501 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 501 "/shotwell/src/core/ViewCollection.vala"
	to_add = _tmp0_;
#line 3249 "ViewCollection.c"
	{
		GeeIterator* _object_it = NULL;
		GeeIterable* _tmp1_;
		GeeIterator* _tmp2_;
#line 502 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = added;
#line 502 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = gee_iterable_iterator (_tmp1_);
#line 502 "/shotwell/src/core/ViewCollection.vala"
		_object_it = _tmp2_;
#line 502 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 3262 "ViewCollection.c"
			GeeIterator* _tmp3_;
			gboolean _tmp4_;
			DataObject* object = NULL;
			GeeIterator* _tmp5_;
			gpointer _tmp6_;
			DataSource* source = NULL;
			DataObject* _tmp7_;
			DataSource* _tmp8_;
			gboolean _tmp9_ = FALSE;
			CreateViewPredicate _tmp10_;
			void* _tmp10__target;
#line 502 "/shotwell/src/core/ViewCollection.vala"
			_tmp3_ = _object_it;
#line 502 "/shotwell/src/core/ViewCollection.vala"
			_tmp4_ = gee_iterator_next (_tmp3_);
#line 502 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp4_) {
#line 502 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 3282 "ViewCollection.c"
			}
#line 502 "/shotwell/src/core/ViewCollection.vala"
			_tmp5_ = _object_it;
#line 502 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = gee_iterator_get (_tmp5_);
#line 502 "/shotwell/src/core/ViewCollection.vala"
			object = (DataObject*) _tmp6_;
#line 503 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = object;
#line 503 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = data_view_get_source (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, TYPE_DATA_VIEW, DataView));
#line 503 "/shotwell/src/core/ViewCollection.vala"
			source = _tmp8_;
#line 505 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = self->priv->should_mirror;
#line 505 "/shotwell/src/core/ViewCollection.vala"
			_tmp10__target = self->priv->should_mirror_target;
#line 505 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp10_ == NULL) {
#line 505 "/shotwell/src/core/ViewCollection.vala"
				_tmp9_ = TRUE;
#line 3304 "ViewCollection.c"
			} else {
				CreateViewPredicate _tmp11_;
				void* _tmp11__target;
				DataSource* _tmp12_;
				gboolean _tmp13_;
#line 505 "/shotwell/src/core/ViewCollection.vala"
				_tmp11_ = self->priv->should_mirror;
#line 505 "/shotwell/src/core/ViewCollection.vala"
				_tmp11__target = self->priv->should_mirror_target;
#line 505 "/shotwell/src/core/ViewCollection.vala"
				_tmp12_ = source;
#line 505 "/shotwell/src/core/ViewCollection.vala"
				_tmp13_ = _tmp11_ (_tmp12_, _tmp11__target);
#line 505 "/shotwell/src/core/ViewCollection.vala"
				_tmp9_ = _tmp13_;
#line 3320 "ViewCollection.c"
			}
#line 505 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp9_) {
#line 3324 "ViewCollection.c"
				GeeArrayList* _tmp14_;
				CreateView _tmp15_;
				void* _tmp15__target;
				DataSource* _tmp16_;
				DataView* _tmp17_;
				DataView* _tmp18_;
#line 506 "/shotwell/src/core/ViewCollection.vala"
				_tmp14_ = to_add;
#line 506 "/shotwell/src/core/ViewCollection.vala"
				_tmp15_ = self->priv->mirroring_ctor;
#line 506 "/shotwell/src/core/ViewCollection.vala"
				_tmp15__target = self->priv->mirroring_ctor_target;
#line 506 "/shotwell/src/core/ViewCollection.vala"
				_tmp16_ = source;
#line 506 "/shotwell/src/core/ViewCollection.vala"
				_tmp17_ = _tmp15_ (_tmp16_, _tmp15__target);
#line 506 "/shotwell/src/core/ViewCollection.vala"
				_tmp18_ = _tmp17_;
#line 506 "/shotwell/src/core/ViewCollection.vala"
				gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp18_);
#line 506 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (_tmp18_);
#line 3347 "ViewCollection.c"
			}
#line 502 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (source);
#line 502 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (object);
#line 3353 "ViewCollection.c"
		}
#line 502 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_object_it);
#line 3357 "ViewCollection.c"
	}
#line 509 "/shotwell/src/core/ViewCollection.vala"
	_tmp19_ = to_add;
#line 509 "/shotwell/src/core/ViewCollection.vala"
	_tmp20_ = gee_abstract_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp19_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection));
#line 509 "/shotwell/src/core/ViewCollection.vala"
	_tmp21_ = _tmp20_;
#line 509 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp21_ > 0) {
#line 3367 "ViewCollection.c"
		GeeArrayList* _tmp22_;
		GeeCollection* _tmp23_;
		GeeCollection* _tmp24_;
#line 510 "/shotwell/src/core/ViewCollection.vala"
		_tmp22_ = to_add;
#line 510 "/shotwell/src/core/ViewCollection.vala"
		_tmp23_ = data_collection_add_many (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp22_, GEE_TYPE_COLLECTION, GeeCollection), NULL, NULL);
#line 510 "/shotwell/src/core/ViewCollection.vala"
		_tmp24_ = _tmp23_;
#line 510 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp24_);
#line 3379 "ViewCollection.c"
	}
#line 500 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (to_add);
#line 3383 "ViewCollection.c"
}


static void view_collection_on_mirror_contents_removed (ViewCollection* self, GeeIterable* removed) {
	Marker* marker = NULL;
	Marker* _tmp0_;
	Marker* _tmp17_;
#line 513 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 513 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_ITERABLE (removed));
#line 514 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = data_collection_start_marking (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 514 "/shotwell/src/core/ViewCollection.vala"
	marker = _tmp0_;
#line 3399 "ViewCollection.c"
	{
		GeeIterator* _object_it = NULL;
		GeeIterable* _tmp1_;
		GeeIterator* _tmp2_;
#line 515 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = removed;
#line 515 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = gee_iterable_iterator (_tmp1_);
#line 515 "/shotwell/src/core/ViewCollection.vala"
		_object_it = _tmp2_;
#line 515 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 3412 "ViewCollection.c"
			GeeIterator* _tmp3_;
			gboolean _tmp4_;
			DataObject* object = NULL;
			GeeIterator* _tmp5_;
			gpointer _tmp6_;
			DataView* view = NULL;
			DataObject* _tmp7_;
			DataView* _tmp8_;
			DataView* our_view = NULL;
			DataView* _tmp9_;
			DataSource* _tmp10_;
			DataSource* _tmp11_;
			DataView* _tmp12_;
			DataView* _tmp13_;
			DataView* _tmp14_;
			Marker* _tmp15_;
			DataView* _tmp16_;
#line 515 "/shotwell/src/core/ViewCollection.vala"
			_tmp3_ = _object_it;
#line 515 "/shotwell/src/core/ViewCollection.vala"
			_tmp4_ = gee_iterator_next (_tmp3_);
#line 515 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp4_) {
#line 515 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 3438 "ViewCollection.c"
			}
#line 515 "/shotwell/src/core/ViewCollection.vala"
			_tmp5_ = _object_it;
#line 515 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = gee_iterator_get (_tmp5_);
#line 515 "/shotwell/src/core/ViewCollection.vala"
			object = (DataObject*) _tmp6_;
#line 516 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = object;
#line 516 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, TYPE_DATA_VIEW, DataView));
#line 516 "/shotwell/src/core/ViewCollection.vala"
			view = _tmp8_;
#line 518 "/shotwell/src/core/ViewCollection.vala"
			_tmp9_ = view;
#line 518 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = data_view_get_source (_tmp9_);
#line 518 "/shotwell/src/core/ViewCollection.vala"
			_tmp11_ = _tmp10_;
#line 518 "/shotwell/src/core/ViewCollection.vala"
			_tmp12_ = view_collection_get_view_for_source (self, _tmp11_);
#line 518 "/shotwell/src/core/ViewCollection.vala"
			_tmp13_ = _tmp12_;
#line 518 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_tmp11_);
#line 518 "/shotwell/src/core/ViewCollection.vala"
			our_view = _tmp13_;
#line 519 "/shotwell/src/core/ViewCollection.vala"
			_tmp14_ = our_view;
#line 519 "/shotwell/src/core/ViewCollection.vala"
			_vala_assert (_tmp14_ != NULL, "our_view != null");
#line 521 "/shotwell/src/core/ViewCollection.vala"
			_tmp15_ = marker;
#line 521 "/shotwell/src/core/ViewCollection.vala"
			_tmp16_ = our_view;
#line 521 "/shotwell/src/core/ViewCollection.vala"
			marker_mark (_tmp15_, G_TYPE_CHECK_INSTANCE_CAST (_tmp16_, TYPE_DATA_OBJECT, DataObject));
#line 515 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (our_view);
#line 515 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (view);
#line 515 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (object);
#line 3482 "ViewCollection.c"
		}
#line 515 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_object_it);
#line 3486 "ViewCollection.c"
	}
#line 524 "/shotwell/src/core/ViewCollection.vala"
	_tmp17_ = marker;
#line 524 "/shotwell/src/core/ViewCollection.vala"
	data_collection_remove_marked (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp17_);
#line 513 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (marker);
#line 3494 "ViewCollection.c"
}


static void view_collection_real_notify_items_added (DataCollection* base, GeeIterable* added) {
	ViewCollection * self;
	GeeArrayList* added_visible = NULL;
	GeeArrayList* added_selected = NULL;
	GeeArrayList* _tmp30_;
	GeeArrayList* _tmp34_;
	GeeIterable* _tmp37_;
#line 528 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 528 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_ITERABLE (added));
#line 529 "/shotwell/src/core/ViewCollection.vala"
	added_visible = NULL;
#line 530 "/shotwell/src/core/ViewCollection.vala"
	added_selected = NULL;
#line 3513 "ViewCollection.c"
	{
		GeeIterator* _object_it = NULL;
		GeeIterable* _tmp0_;
		GeeIterator* _tmp1_;
#line 532 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = added;
#line 532 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = gee_iterable_iterator (_tmp0_);
#line 532 "/shotwell/src/core/ViewCollection.vala"
		_object_it = _tmp1_;
#line 532 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 3526 "ViewCollection.c"
			GeeIterator* _tmp2_;
			gboolean _tmp3_;
			DataObject* object = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			DataView* view = NULL;
			DataObject* _tmp6_;
			DataView* _tmp7_;
			GeeHashMap* _tmp8_;
			DataView* _tmp9_;
			DataSource* _tmp10_;
			DataSource* _tmp11_;
			DataView* _tmp12_;
			gboolean _tmp13_ = FALSE;
			DataView* _tmp14_;
			gboolean _tmp15_;
			gboolean _tmp22_ = FALSE;
			DataView* _tmp23_;
			gboolean _tmp24_;
#line 532 "/shotwell/src/core/ViewCollection.vala"
			_tmp2_ = _object_it;
#line 532 "/shotwell/src/core/ViewCollection.vala"
			_tmp3_ = gee_iterator_next (_tmp2_);
#line 532 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp3_) {
#line 532 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 3554 "ViewCollection.c"
			}
#line 532 "/shotwell/src/core/ViewCollection.vala"
			_tmp4_ = _object_it;
#line 532 "/shotwell/src/core/ViewCollection.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 532 "/shotwell/src/core/ViewCollection.vala"
			object = (DataObject*) _tmp5_;
#line 533 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = object;
#line 533 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, TYPE_DATA_VIEW, DataView));
#line 533 "/shotwell/src/core/ViewCollection.vala"
			view = _tmp7_;
#line 534 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = self->priv->source_map;
#line 534 "/shotwell/src/core/ViewCollection.vala"
			_tmp9_ = view;
#line 534 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = data_view_get_source (_tmp9_);
#line 534 "/shotwell/src/core/ViewCollection.vala"
			_tmp11_ = _tmp10_;
#line 534 "/shotwell/src/core/ViewCollection.vala"
			_tmp12_ = view;
#line 534 "/shotwell/src/core/ViewCollection.vala"
			gee_abstract_map_set (G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp11_, _tmp12_);
#line 534 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_tmp11_);
#line 536 "/shotwell/src/core/ViewCollection.vala"
			_tmp14_ = view;
#line 536 "/shotwell/src/core/ViewCollection.vala"
			_tmp15_ = data_view_is_selected (_tmp14_);
#line 536 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp15_) {
#line 3588 "ViewCollection.c"
				DataView* _tmp16_;
				gboolean _tmp17_;
#line 536 "/shotwell/src/core/ViewCollection.vala"
				_tmp16_ = view;
#line 536 "/shotwell/src/core/ViewCollection.vala"
				_tmp17_ = data_view_is_visible (_tmp16_);
#line 536 "/shotwell/src/core/ViewCollection.vala"
				_tmp13_ = _tmp17_;
#line 3597 "ViewCollection.c"
			} else {
#line 536 "/shotwell/src/core/ViewCollection.vala"
				_tmp13_ = FALSE;
#line 3601 "ViewCollection.c"
			}
#line 536 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp13_) {
#line 3605 "ViewCollection.c"
				GeeArrayList* _tmp18_;
				GeeArrayList* _tmp20_;
				DataView* _tmp21_;
#line 537 "/shotwell/src/core/ViewCollection.vala"
				_tmp18_ = added_selected;
#line 537 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp18_ == NULL) {
#line 3613 "ViewCollection.c"
					GeeArrayList* _tmp19_;
#line 538 "/shotwell/src/core/ViewCollection.vala"
					_tmp19_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 538 "/shotwell/src/core/ViewCollection.vala"
					_g_object_unref0 (added_selected);
#line 538 "/shotwell/src/core/ViewCollection.vala"
					added_selected = _tmp19_;
#line 3621 "ViewCollection.c"
				}
#line 540 "/shotwell/src/core/ViewCollection.vala"
				_tmp20_ = added_selected;
#line 540 "/shotwell/src/core/ViewCollection.vala"
				_tmp21_ = view;
#line 540 "/shotwell/src/core/ViewCollection.vala"
				gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp20_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp21_);
#line 3629 "ViewCollection.c"
			}
#line 544 "/shotwell/src/core/ViewCollection.vala"
			_tmp23_ = view;
#line 544 "/shotwell/src/core/ViewCollection.vala"
			_tmp24_ = data_view_is_visible (_tmp23_);
#line 544 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp24_) {
#line 3637 "ViewCollection.c"
				DataSet* _tmp25_;
#line 544 "/shotwell/src/core/ViewCollection.vala"
				_tmp25_ = self->priv->visible;
#line 544 "/shotwell/src/core/ViewCollection.vala"
				_tmp22_ = _tmp25_ != NULL;
#line 3643 "ViewCollection.c"
			} else {
#line 544 "/shotwell/src/core/ViewCollection.vala"
				_tmp22_ = FALSE;
#line 3647 "ViewCollection.c"
			}
#line 544 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp22_) {
#line 3651 "ViewCollection.c"
				GeeArrayList* _tmp26_;
				GeeArrayList* _tmp28_;
				DataView* _tmp29_;
#line 545 "/shotwell/src/core/ViewCollection.vala"
				_tmp26_ = added_visible;
#line 545 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp26_ == NULL) {
#line 3659 "ViewCollection.c"
					GeeArrayList* _tmp27_;
#line 546 "/shotwell/src/core/ViewCollection.vala"
					_tmp27_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 546 "/shotwell/src/core/ViewCollection.vala"
					_g_object_unref0 (added_visible);
#line 546 "/shotwell/src/core/ViewCollection.vala"
					added_visible = _tmp27_;
#line 3667 "ViewCollection.c"
				}
#line 548 "/shotwell/src/core/ViewCollection.vala"
				_tmp28_ = added_visible;
#line 548 "/shotwell/src/core/ViewCollection.vala"
				_tmp29_ = view;
#line 548 "/shotwell/src/core/ViewCollection.vala"
				gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp28_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp29_);
#line 3675 "ViewCollection.c"
			}
#line 532 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (view);
#line 532 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (object);
#line 3681 "ViewCollection.c"
		}
#line 532 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_object_it);
#line 3685 "ViewCollection.c"
	}
#line 552 "/shotwell/src/core/ViewCollection.vala"
	_tmp30_ = added_visible;
#line 552 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp30_ != NULL) {
#line 3691 "ViewCollection.c"
		gboolean is_added = FALSE;
		GeeArrayList* _tmp31_;
		gboolean _tmp32_;
		gboolean _tmp33_;
#line 553 "/shotwell/src/core/ViewCollection.vala"
		_tmp31_ = added_visible;
#line 553 "/shotwell/src/core/ViewCollection.vala"
		_tmp32_ = view_collection_add_many_visible (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp31_, GEE_TYPE_COLLECTION, GeeCollection));
#line 553 "/shotwell/src/core/ViewCollection.vala"
		is_added = _tmp32_;
#line 554 "/shotwell/src/core/ViewCollection.vala"
		_tmp33_ = is_added;
#line 554 "/shotwell/src/core/ViewCollection.vala"
		_vala_assert (_tmp33_, "is_added");
#line 3706 "ViewCollection.c"
	}
#line 557 "/shotwell/src/core/ViewCollection.vala"
	_tmp34_ = added_selected;
#line 557 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp34_ != NULL) {
#line 3712 "ViewCollection.c"
		GeeArrayList* _tmp35_;
		GeeArrayList* _tmp36_;
#line 558 "/shotwell/src/core/ViewCollection.vala"
		_tmp35_ = added_selected;
#line 558 "/shotwell/src/core/ViewCollection.vala"
		view_collection_add_many_selected (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp35_, GEE_TYPE_COLLECTION, GeeCollection));
#line 559 "/shotwell/src/core/ViewCollection.vala"
		_tmp36_ = added_selected;
#line 559 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_items_selected_unselected (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp36_, GEE_TYPE_COLLECTION, GeeCollection), NULL);
#line 3723 "ViewCollection.c"
	}
#line 562 "/shotwell/src/core/ViewCollection.vala"
	_tmp37_ = added;
#line 562 "/shotwell/src/core/ViewCollection.vala"
	DATA_COLLECTION_CLASS (view_collection_parent_class)->notify_items_added (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp37_);
#line 528 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (added_selected);
#line 528 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (added_visible);
#line 3733 "ViewCollection.c"
}


static void view_collection_real_notify_items_removed (DataCollection* base, GeeIterable* removed) {
	ViewCollection * self;
	GeeArrayList* selected_removed = NULL;
	GeeArrayList* _tmp42_;
	GeeIterable* _tmp44_;
#line 566 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 566 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_ITERABLE (removed));
#line 567 "/shotwell/src/core/ViewCollection.vala"
	selected_removed = NULL;
#line 3748 "ViewCollection.c"
	{
		GeeIterator* _object_it = NULL;
		GeeIterable* _tmp0_;
		GeeIterator* _tmp1_;
#line 568 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = removed;
#line 568 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = gee_iterable_iterator (_tmp0_);
#line 568 "/shotwell/src/core/ViewCollection.vala"
		_object_it = _tmp1_;
#line 568 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 3761 "ViewCollection.c"
			GeeIterator* _tmp2_;
			gboolean _tmp3_;
			DataObject* object = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			DataView* view = NULL;
			DataObject* _tmp6_;
			DataView* _tmp7_;
			GeeHashMap* _tmp8_;
			DataView* _tmp9_;
			DataSource* _tmp10_;
			DataSource* _tmp11_;
			gboolean _tmp12_;
			gboolean _tmp13_;
#line 568 "/shotwell/src/core/ViewCollection.vala"
			_tmp2_ = _object_it;
#line 568 "/shotwell/src/core/ViewCollection.vala"
			_tmp3_ = gee_iterator_next (_tmp2_);
#line 568 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp3_) {
#line 568 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 3784 "ViewCollection.c"
			}
#line 568 "/shotwell/src/core/ViewCollection.vala"
			_tmp4_ = _object_it;
#line 568 "/shotwell/src/core/ViewCollection.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 568 "/shotwell/src/core/ViewCollection.vala"
			object = (DataObject*) _tmp5_;
#line 569 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = object;
#line 569 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, TYPE_DATA_VIEW, DataView));
#line 569 "/shotwell/src/core/ViewCollection.vala"
			view = _tmp7_;
#line 575 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = self->priv->source_map;
#line 575 "/shotwell/src/core/ViewCollection.vala"
			_tmp9_ = view;
#line 575 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = data_view_get_source (_tmp9_);
#line 575 "/shotwell/src/core/ViewCollection.vala"
			_tmp11_ = _tmp10_;
#line 575 "/shotwell/src/core/ViewCollection.vala"
			_tmp12_ = gee_abstract_map_has_key (G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp11_);
#line 575 "/shotwell/src/core/ViewCollection.vala"
			_tmp13_ = _tmp12_;
#line 575 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_tmp11_);
#line 575 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp13_) {
#line 3814 "ViewCollection.c"
				gboolean is_removed = FALSE;
				GeeHashMap* _tmp14_;
				DataView* _tmp15_;
				DataSource* _tmp16_;
				DataSource* _tmp17_;
				gboolean _tmp18_;
				gboolean _tmp19_;
				gboolean _tmp20_;
				DataView* _tmp21_;
				gboolean _tmp22_;
				gboolean _tmp34_ = FALSE;
				DataView* _tmp35_;
				gboolean _tmp36_;
#line 576 "/shotwell/src/core/ViewCollection.vala"
				_tmp14_ = self->priv->source_map;
#line 576 "/shotwell/src/core/ViewCollection.vala"
				_tmp15_ = view;
#line 576 "/shotwell/src/core/ViewCollection.vala"
				_tmp16_ = data_view_get_source (_tmp15_);
#line 576 "/shotwell/src/core/ViewCollection.vala"
				_tmp17_ = _tmp16_;
#line 576 "/shotwell/src/core/ViewCollection.vala"
				_tmp18_ = gee_abstract_map_unset (G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp17_, NULL);
#line 576 "/shotwell/src/core/ViewCollection.vala"
				_tmp19_ = _tmp18_;
#line 576 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (_tmp17_);
#line 576 "/shotwell/src/core/ViewCollection.vala"
				is_removed = _tmp19_;
#line 577 "/shotwell/src/core/ViewCollection.vala"
				_tmp20_ = is_removed;
#line 577 "/shotwell/src/core/ViewCollection.vala"
				_vala_assert (_tmp20_, "is_removed");
#line 579 "/shotwell/src/core/ViewCollection.vala"
				_tmp21_ = view;
#line 579 "/shotwell/src/core/ViewCollection.vala"
				_tmp22_ = data_view_is_selected (_tmp21_);
#line 579 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp22_) {
#line 3854 "ViewCollection.c"
					DataSet* _tmp23_;
					DataView* _tmp24_;
					gboolean _tmp25_;
					DataView* _tmp26_;
					gboolean _tmp27_;
					DataView* _tmp28_;
					gboolean _tmp29_;
#line 581 "/shotwell/src/core/ViewCollection.vala"
					_tmp23_ = self->priv->selected;
#line 581 "/shotwell/src/core/ViewCollection.vala"
					_tmp24_ = view;
#line 581 "/shotwell/src/core/ViewCollection.vala"
					_tmp25_ = data_set_contains (_tmp23_, G_TYPE_CHECK_INSTANCE_CAST (_tmp24_, TYPE_DATA_OBJECT, DataObject));
#line 581 "/shotwell/src/core/ViewCollection.vala"
					_tmp26_ = view;
#line 581 "/shotwell/src/core/ViewCollection.vala"
					_tmp27_ = data_view_is_visible (_tmp26_);
#line 581 "/shotwell/src/core/ViewCollection.vala"
					_vala_assert (_tmp25_ == _tmp27_, "selected.contains(view) == view.is_visible()");
#line 583 "/shotwell/src/core/ViewCollection.vala"
					_tmp28_ = view;
#line 583 "/shotwell/src/core/ViewCollection.vala"
					_tmp29_ = data_view_is_visible (_tmp28_);
#line 583 "/shotwell/src/core/ViewCollection.vala"
					if (_tmp29_) {
#line 3880 "ViewCollection.c"
						GeeArrayList* _tmp30_;
						GeeArrayList* _tmp32_;
						DataView* _tmp33_;
#line 584 "/shotwell/src/core/ViewCollection.vala"
						_tmp30_ = selected_removed;
#line 584 "/shotwell/src/core/ViewCollection.vala"
						if (_tmp30_ == NULL) {
#line 3888 "ViewCollection.c"
							GeeArrayList* _tmp31_;
#line 585 "/shotwell/src/core/ViewCollection.vala"
							_tmp31_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 585 "/shotwell/src/core/ViewCollection.vala"
							_g_object_unref0 (selected_removed);
#line 585 "/shotwell/src/core/ViewCollection.vala"
							selected_removed = _tmp31_;
#line 3896 "ViewCollection.c"
						}
#line 587 "/shotwell/src/core/ViewCollection.vala"
						_tmp32_ = selected_removed;
#line 587 "/shotwell/src/core/ViewCollection.vala"
						_tmp33_ = view;
#line 587 "/shotwell/src/core/ViewCollection.vala"
						gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp32_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp33_);
#line 3904 "ViewCollection.c"
					}
				}
#line 591 "/shotwell/src/core/ViewCollection.vala"
				_tmp35_ = view;
#line 591 "/shotwell/src/core/ViewCollection.vala"
				_tmp36_ = data_view_is_visible (_tmp35_);
#line 591 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp36_) {
#line 3913 "ViewCollection.c"
					DataSet* _tmp37_;
#line 591 "/shotwell/src/core/ViewCollection.vala"
					_tmp37_ = self->priv->visible;
#line 591 "/shotwell/src/core/ViewCollection.vala"
					_tmp34_ = _tmp37_ != NULL;
#line 3919 "ViewCollection.c"
				} else {
#line 591 "/shotwell/src/core/ViewCollection.vala"
					_tmp34_ = FALSE;
#line 3923 "ViewCollection.c"
				}
#line 591 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp34_) {
#line 3927 "ViewCollection.c"
					DataSet* _tmp38_;
					DataView* _tmp39_;
					gboolean _tmp40_;
					gboolean _tmp41_;
#line 592 "/shotwell/src/core/ViewCollection.vala"
					_tmp38_ = self->priv->visible;
#line 592 "/shotwell/src/core/ViewCollection.vala"
					_tmp39_ = view;
#line 592 "/shotwell/src/core/ViewCollection.vala"
					_tmp40_ = data_set_remove (_tmp38_, G_TYPE_CHECK_INSTANCE_CAST (_tmp39_, TYPE_DATA_OBJECT, DataObject));
#line 592 "/shotwell/src/core/ViewCollection.vala"
					is_removed = _tmp40_;
#line 593 "/shotwell/src/core/ViewCollection.vala"
					_tmp41_ = is_removed;
#line 593 "/shotwell/src/core/ViewCollection.vala"
					_vala_assert (_tmp41_, "is_removed");
#line 3944 "ViewCollection.c"
				}
			}
#line 568 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (view);
#line 568 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (object);
#line 3951 "ViewCollection.c"
		}
#line 568 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_object_it);
#line 3955 "ViewCollection.c"
	}
#line 598 "/shotwell/src/core/ViewCollection.vala"
	_tmp42_ = selected_removed;
#line 598 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp42_ != NULL) {
#line 3961 "ViewCollection.c"
		GeeArrayList* _tmp43_;
#line 599 "/shotwell/src/core/ViewCollection.vala"
		_tmp43_ = selected_removed;
#line 599 "/shotwell/src/core/ViewCollection.vala"
		view_collection_remove_many_selected (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp43_, GEE_TYPE_COLLECTION, GeeCollection));
#line 604 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_selection_group_altered (self);
#line 3969 "ViewCollection.c"
	}
#line 607 "/shotwell/src/core/ViewCollection.vala"
	_tmp44_ = removed;
#line 607 "/shotwell/src/core/ViewCollection.vala"
	DATA_COLLECTION_CLASS (view_collection_parent_class)->notify_items_removed (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp44_);
#line 566 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (selected_removed);
#line 3977 "ViewCollection.c"
}


static void view_collection_filter_altered_items (ViewCollection* self, GeeCollection* views) {
	GeeArrayList* to_show = NULL;
	GeeArrayList* to_hide = NULL;
	GeeArrayList* _tmp20_;
	GeeArrayList* _tmp22_;
#line 610 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 610 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_COLLECTION (views));
#line 613 "/shotwell/src/core/ViewCollection.vala"
	to_show = NULL;
#line 614 "/shotwell/src/core/ViewCollection.vala"
	to_hide = NULL;
#line 3994 "ViewCollection.c"
	{
		GeeIterator* _view_it = NULL;
		GeeCollection* _tmp0_;
		GeeIterator* _tmp1_;
#line 619 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = views;
#line 619 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ITERABLE, GeeIterable));
#line 619 "/shotwell/src/core/ViewCollection.vala"
		_view_it = _tmp1_;
#line 619 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 4007 "ViewCollection.c"
			GeeIterator* _tmp2_;
			gboolean _tmp3_;
			DataView* view = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			DataView* _tmp6_;
			gboolean _tmp7_;
#line 619 "/shotwell/src/core/ViewCollection.vala"
			_tmp2_ = _view_it;
#line 619 "/shotwell/src/core/ViewCollection.vala"
			_tmp3_ = gee_iterator_next (_tmp2_);
#line 619 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp3_) {
#line 619 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 4023 "ViewCollection.c"
			}
#line 619 "/shotwell/src/core/ViewCollection.vala"
			_tmp4_ = _view_it;
#line 619 "/shotwell/src/core/ViewCollection.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 619 "/shotwell/src/core/ViewCollection.vala"
			view = (DataView*) _tmp5_;
#line 620 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = view;
#line 620 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = view_collection_is_in_filter (self, _tmp6_);
#line 620 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp7_) {
#line 4037 "ViewCollection.c"
				DataView* _tmp8_;
				gboolean _tmp9_;
#line 621 "/shotwell/src/core/ViewCollection.vala"
				_tmp8_ = view;
#line 621 "/shotwell/src/core/ViewCollection.vala"
				_tmp9_ = data_view_is_visible (_tmp8_);
#line 621 "/shotwell/src/core/ViewCollection.vala"
				if (!_tmp9_) {
#line 4046 "ViewCollection.c"
					GeeArrayList* _tmp10_;
					GeeArrayList* _tmp12_;
					DataView* _tmp13_;
#line 622 "/shotwell/src/core/ViewCollection.vala"
					_tmp10_ = to_show;
#line 622 "/shotwell/src/core/ViewCollection.vala"
					if (_tmp10_ == NULL) {
#line 4054 "ViewCollection.c"
						GeeArrayList* _tmp11_;
#line 623 "/shotwell/src/core/ViewCollection.vala"
						_tmp11_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 623 "/shotwell/src/core/ViewCollection.vala"
						_g_object_unref0 (to_show);
#line 623 "/shotwell/src/core/ViewCollection.vala"
						to_show = _tmp11_;
#line 4062 "ViewCollection.c"
					}
#line 625 "/shotwell/src/core/ViewCollection.vala"
					_tmp12_ = to_show;
#line 625 "/shotwell/src/core/ViewCollection.vala"
					_tmp13_ = view;
#line 625 "/shotwell/src/core/ViewCollection.vala"
					gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp13_);
#line 4070 "ViewCollection.c"
				}
			} else {
				DataView* _tmp14_;
				gboolean _tmp15_;
#line 628 "/shotwell/src/core/ViewCollection.vala"
				_tmp14_ = view;
#line 628 "/shotwell/src/core/ViewCollection.vala"
				_tmp15_ = data_view_is_visible (_tmp14_);
#line 628 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp15_) {
#line 4081 "ViewCollection.c"
					GeeArrayList* _tmp16_;
					GeeArrayList* _tmp18_;
					DataView* _tmp19_;
#line 629 "/shotwell/src/core/ViewCollection.vala"
					_tmp16_ = to_hide;
#line 629 "/shotwell/src/core/ViewCollection.vala"
					if (_tmp16_ == NULL) {
#line 4089 "ViewCollection.c"
						GeeArrayList* _tmp17_;
#line 630 "/shotwell/src/core/ViewCollection.vala"
						_tmp17_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 630 "/shotwell/src/core/ViewCollection.vala"
						_g_object_unref0 (to_hide);
#line 630 "/shotwell/src/core/ViewCollection.vala"
						to_hide = _tmp17_;
#line 4097 "ViewCollection.c"
					}
#line 632 "/shotwell/src/core/ViewCollection.vala"
					_tmp18_ = to_hide;
#line 632 "/shotwell/src/core/ViewCollection.vala"
					_tmp19_ = view;
#line 632 "/shotwell/src/core/ViewCollection.vala"
					gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp18_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp19_);
#line 4105 "ViewCollection.c"
				}
			}
#line 619 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (view);
#line 4110 "ViewCollection.c"
		}
#line 619 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_view_it);
#line 4114 "ViewCollection.c"
	}
#line 641 "/shotwell/src/core/ViewCollection.vala"
	_tmp20_ = to_show;
#line 641 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp20_ != NULL) {
#line 4120 "ViewCollection.c"
		GeeArrayList* _tmp21_;
#line 642 "/shotwell/src/core/ViewCollection.vala"
		_tmp21_ = to_show;
#line 642 "/shotwell/src/core/ViewCollection.vala"
		view_collection_show_items (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp21_, GEE_TYPE_LIST, GeeList));
#line 4126 "ViewCollection.c"
	}
#line 644 "/shotwell/src/core/ViewCollection.vala"
	_tmp22_ = to_hide;
#line 644 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp22_ != NULL) {
#line 4132 "ViewCollection.c"
		GeeArrayList* _tmp23_;
#line 645 "/shotwell/src/core/ViewCollection.vala"
		_tmp23_ = to_hide;
#line 645 "/shotwell/src/core/ViewCollection.vala"
		view_collection_hide_items (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp23_, GEE_TYPE_LIST, GeeList));
#line 4138 "ViewCollection.c"
	}
#line 610 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (to_hide);
#line 610 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (to_show);
#line 4144 "ViewCollection.c"
}


static void view_collection_real_items_altered (DataCollection* base, GeeMap* map) {
	ViewCollection * self;
	GeeMap* _tmp0_;
	GeeSet* _tmp1_;
	GeeSet* _tmp2_;
	GeeCollection* _tmp3_;
	GeeMap* _tmp4_;
#line 648 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 648 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_MAP (map));
#line 650 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = map;
#line 650 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = gee_map_get_keys (_tmp0_);
#line 650 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = _tmp1_;
#line 650 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_COLLECTION, GeeCollection);
#line 650 "/shotwell/src/core/ViewCollection.vala"
	view_collection_filter_altered_items (self, _tmp3_);
#line 650 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (_tmp3_);
#line 652 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = map;
#line 652 "/shotwell/src/core/ViewCollection.vala"
	DATA_COLLECTION_CLASS (view_collection_parent_class)->items_altered (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp4_);
#line 4175 "ViewCollection.c"
}


static void view_collection_real_set_comparator (DataCollection* base, Comparator comparator, void* comparator_target, ComparatorPredicate predicate, void* predicate_target) {
	ViewCollection * self;
	DataSet* _tmp0_;
	Comparator _tmp1_;
	void* _tmp1__target;
	ComparatorPredicate _tmp2_;
	void* _tmp2__target;
	DataSet* _tmp3_;
	Comparator _tmp7_;
	void* _tmp7__target;
	ComparatorPredicate _tmp8_;
	void* _tmp8__target;
#line 655 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 656 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->selected;
#line 656 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = comparator;
#line 656 "/shotwell/src/core/ViewCollection.vala"
	_tmp1__target = comparator_target;
#line 656 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = predicate;
#line 656 "/shotwell/src/core/ViewCollection.vala"
	_tmp2__target = predicate_target;
#line 656 "/shotwell/src/core/ViewCollection.vala"
	data_set_set_comparator (_tmp0_, _tmp1_, _tmp1__target, _tmp2_, _tmp2__target);
#line 657 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = self->priv->visible;
#line 657 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp3_ != NULL) {
#line 4209 "ViewCollection.c"
		DataSet* _tmp4_;
		Comparator _tmp5_;
		void* _tmp5__target;
		ComparatorPredicate _tmp6_;
		void* _tmp6__target;
#line 658 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = self->priv->visible;
#line 658 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = comparator;
#line 658 "/shotwell/src/core/ViewCollection.vala"
		_tmp5__target = comparator_target;
#line 658 "/shotwell/src/core/ViewCollection.vala"
		_tmp6_ = predicate;
#line 658 "/shotwell/src/core/ViewCollection.vala"
		_tmp6__target = predicate_target;
#line 658 "/shotwell/src/core/ViewCollection.vala"
		data_set_set_comparator (_tmp4_, _tmp5_, _tmp5__target, _tmp6_, _tmp6__target);
#line 4227 "ViewCollection.c"
	}
#line 660 "/shotwell/src/core/ViewCollection.vala"
	_tmp7_ = comparator;
#line 660 "/shotwell/src/core/ViewCollection.vala"
	_tmp7__target = comparator_target;
#line 660 "/shotwell/src/core/ViewCollection.vala"
	_tmp8_ = predicate;
#line 660 "/shotwell/src/core/ViewCollection.vala"
	_tmp8__target = predicate_target;
#line 660 "/shotwell/src/core/ViewCollection.vala"
	DATA_COLLECTION_CLASS (view_collection_parent_class)->set_comparator (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp7_, _tmp7__target, _tmp8_, _tmp8__target);
#line 4239 "ViewCollection.c"
}


static void view_collection_real_reset_comparator (DataCollection* base) {
	ViewCollection * self;
	DataSet* _tmp0_;
	DataSet* _tmp1_;
#line 663 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 664 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->selected;
#line 664 "/shotwell/src/core/ViewCollection.vala"
	data_set_reset_comparator (_tmp0_);
#line 665 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = self->priv->visible;
#line 665 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp1_ != NULL) {
#line 4257 "ViewCollection.c"
		DataSet* _tmp2_;
#line 666 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = self->priv->visible;
#line 666 "/shotwell/src/core/ViewCollection.vala"
		data_set_reset_comparator (_tmp2_);
#line 4263 "ViewCollection.c"
	}
#line 668 "/shotwell/src/core/ViewCollection.vala"
	DATA_COLLECTION_CLASS (view_collection_parent_class)->reset_comparator (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 4267 "ViewCollection.c"
}


static GeeCollection* view_collection_real_get_all (DataCollection* base) {
	ViewCollection * self;
	GeeCollection* result = NULL;
	GeeCollection* _tmp0_ = NULL;
	DataSet* _tmp1_;
#line 671 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 672 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = self->priv->visible;
#line 672 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp1_ != NULL) {
#line 4282 "ViewCollection.c"
		DataSet* _tmp2_;
		GeeList* _tmp3_;
#line 672 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = self->priv->visible;
#line 672 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = data_set_get_all (_tmp2_);
#line 672 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp0_);
#line 672 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_COLLECTION, GeeCollection);
#line 4293 "ViewCollection.c"
	} else {
		GeeCollection* _tmp4_;
#line 672 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = DATA_COLLECTION_CLASS (view_collection_parent_class)->get_all (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 672 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp0_);
#line 672 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = _tmp4_;
#line 4302 "ViewCollection.c"
	}
#line 672 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp0_;
#line 672 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 4308 "ViewCollection.c"
}


GeeCollection* view_collection_get_all_unfiltered (ViewCollection* self) {
	GeeCollection* result = NULL;
	GeeCollection* _tmp0_;
#line 675 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 676 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = DATA_COLLECTION_CLASS (view_collection_parent_class)->get_all (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 676 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp0_;
#line 676 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 4323 "ViewCollection.c"
}


static gint view_collection_real_get_count (DataCollection* base) {
	ViewCollection * self;
	gint result = 0;
	gint _tmp0_ = 0;
	DataSet* _tmp1_;
#line 679 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 680 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = self->priv->visible;
#line 680 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp1_ != NULL) {
#line 4338 "ViewCollection.c"
		DataSet* _tmp2_;
		gint _tmp3_;
#line 680 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = self->priv->visible;
#line 680 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = data_set_get_count (_tmp2_);
#line 680 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = _tmp3_;
#line 4347 "ViewCollection.c"
	} else {
		gint _tmp4_;
#line 680 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = DATA_COLLECTION_CLASS (view_collection_parent_class)->get_count (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 680 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = _tmp4_;
#line 4354 "ViewCollection.c"
	}
#line 680 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp0_;
#line 680 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 4360 "ViewCollection.c"
}


gint view_collection_get_unfiltered_count (ViewCollection* self) {
	gint result = 0;
	gint _tmp0_;
#line 683 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), 0);
#line 684 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = DATA_COLLECTION_CLASS (view_collection_parent_class)->get_count (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 684 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp0_;
#line 684 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 4375 "ViewCollection.c"
}


static DataObject* view_collection_real_get_at (DataCollection* base, gint index) {
	ViewCollection * self;
	DataObject* result = NULL;
	DataObject* _tmp0_ = NULL;
	DataSet* _tmp1_;
#line 687 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 688 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = self->priv->visible;
#line 688 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp1_ != NULL) {
#line 4390 "ViewCollection.c"
		DataSet* _tmp2_;
		gint _tmp3_;
		DataObject* _tmp4_;
#line 688 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = self->priv->visible;
#line 688 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = index;
#line 688 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = data_set_get_at (_tmp2_, _tmp3_);
#line 688 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp0_);
#line 688 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = _tmp4_;
#line 4404 "ViewCollection.c"
	} else {
		gint _tmp5_;
		DataObject* _tmp6_;
#line 688 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = index;
#line 688 "/shotwell/src/core/ViewCollection.vala"
		_tmp6_ = DATA_COLLECTION_CLASS (view_collection_parent_class)->get_at (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp5_);
#line 688 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp0_);
#line 688 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = _tmp6_;
#line 4416 "ViewCollection.c"
	}
#line 688 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp0_;
#line 688 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 4422 "ViewCollection.c"
}


static gint view_collection_real_index_of (DataCollection* base, DataObject* object) {
	ViewCollection * self;
	gint result = 0;
	gint _tmp0_ = 0;
	DataSet* _tmp1_;
#line 691 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 691 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_OBJECT (object), 0);
#line 692 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = self->priv->visible;
#line 692 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp1_ != NULL) {
#line 4439 "ViewCollection.c"
		DataSet* _tmp2_;
		DataObject* _tmp3_;
		gint _tmp4_;
#line 692 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = self->priv->visible;
#line 692 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = object;
#line 692 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = data_set_index_of (_tmp2_, _tmp3_);
#line 692 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = _tmp4_;
#line 4451 "ViewCollection.c"
	} else {
		DataObject* _tmp5_;
		gint _tmp6_;
#line 692 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = object;
#line 692 "/shotwell/src/core/ViewCollection.vala"
		_tmp6_ = DATA_COLLECTION_CLASS (view_collection_parent_class)->index_of (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp5_);
#line 692 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = _tmp6_;
#line 4461 "ViewCollection.c"
	}
#line 692 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp0_;
#line 692 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 4467 "ViewCollection.c"
}


static gboolean view_collection_real_contains (DataCollection* base, DataObject* object) {
	ViewCollection * self;
	gboolean result = FALSE;
	DataObject* _tmp0_;
	gboolean _tmp1_;
	DataObject* _tmp2_;
	gboolean _tmp3_;
#line 695 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 695 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_OBJECT (object), FALSE);
#line 698 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = object;
#line 698 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = DATA_COLLECTION_CLASS (view_collection_parent_class)->contains (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp0_);
#line 698 "/shotwell/src/core/ViewCollection.vala"
	if (!_tmp1_) {
#line 699 "/shotwell/src/core/ViewCollection.vala"
		result = FALSE;
#line 699 "/shotwell/src/core/ViewCollection.vala"
		return result;
#line 4492 "ViewCollection.c"
	}
#line 702 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = object;
#line 702 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = view_collection_is_visible (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, TYPE_DATA_VIEW, DataView));
#line 702 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp3_;
#line 702 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 4502 "ViewCollection.c"
}


static DataView* view_collection_real_get_first (ViewCollection* self) {
	DataView* result = NULL;
	DataView* _tmp0_ = NULL;
	gint _tmp1_;
#line 706 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = data_collection_get_count (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 706 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp1_ > 0) {
#line 4514 "ViewCollection.c"
		DataObject* _tmp2_;
#line 706 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = data_collection_get_at (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), 0);
#line 706 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp0_);
#line 706 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, TYPE_DATA_VIEW, DataView);
#line 4522 "ViewCollection.c"
	} else {
#line 706 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp0_);
#line 706 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = NULL;
#line 4528 "ViewCollection.c"
	}
#line 706 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp0_;
#line 706 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 4534 "ViewCollection.c"
}


DataView* view_collection_get_first (ViewCollection* self) {
#line 705 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 705 "/shotwell/src/core/ViewCollection.vala"
	return VIEW_COLLECTION_GET_CLASS (self)->get_first (self);
#line 4543 "ViewCollection.c"
}


/**
     * @brief A helper method for places in the app that need a
     *  non-rejected media source (namely Events, when looking to
     *  automatically choose a thumbnail).
     *
     * @note If every view in this collection is rejected, we
     *  return the first view; this is intentional.  This prevents
     *  pathological events that have nothing but rejected images
     *  in them from breaking.
     */
static DataView* view_collection_real_get_first_unrejected (ViewCollection* self) {
	DataView* result = NULL;
	gint _tmp0_;
	DataView* dv = NULL;
	DataView* _tmp1_;
	gint num_views = 0;
	gint _tmp2_;
	DataView* _tmp17_;
#line 721 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = data_collection_get_count (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 721 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp0_ < 1) {
#line 722 "/shotwell/src/core/ViewCollection.vala"
		result = NULL;
#line 722 "/shotwell/src/core/ViewCollection.vala"
		return result;
#line 4573 "ViewCollection.c"
	}
#line 725 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = view_collection_get_first (self);
#line 725 "/shotwell/src/core/ViewCollection.vala"
	dv = _tmp1_;
#line 726 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = data_collection_get_count (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 726 "/shotwell/src/core/ViewCollection.vala"
	num_views = _tmp2_;
#line 728 "/shotwell/src/core/ViewCollection.vala"
	while (TRUE) {
#line 4585 "ViewCollection.c"
		gboolean _tmp3_ = FALSE;
		DataView* _tmp4_;
		MediaSource* tmp = NULL;
		DataView* _tmp8_;
		DataSource* _tmp9_;
		MediaSource* _tmp10_;
		gboolean _tmp11_ = FALSE;
		MediaSource* _tmp12_;
#line 728 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = dv;
#line 728 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp4_ != NULL) {
#line 4598 "ViewCollection.c"
			DataView* _tmp5_;
			gint _tmp6_;
			gint _tmp7_;
#line 728 "/shotwell/src/core/ViewCollection.vala"
			_tmp5_ = dv;
#line 728 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = data_collection_index_of (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, TYPE_DATA_OBJECT, DataObject));
#line 728 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = num_views;
#line 728 "/shotwell/src/core/ViewCollection.vala"
			_tmp3_ = _tmp6_ < (_tmp7_ - 1);
#line 4610 "ViewCollection.c"
		} else {
#line 728 "/shotwell/src/core/ViewCollection.vala"
			_tmp3_ = FALSE;
#line 4614 "ViewCollection.c"
		}
#line 728 "/shotwell/src/core/ViewCollection.vala"
		if (!_tmp3_) {
#line 728 "/shotwell/src/core/ViewCollection.vala"
			break;
#line 4620 "ViewCollection.c"
		}
#line 729 "/shotwell/src/core/ViewCollection.vala"
		_tmp8_ = dv;
#line 729 "/shotwell/src/core/ViewCollection.vala"
		_tmp9_ = data_view_get_source (_tmp8_);
#line 729 "/shotwell/src/core/ViewCollection.vala"
		_tmp10_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp9_, TYPE_MEDIA_SOURCE) ? ((MediaSource*) _tmp9_) : NULL;
#line 729 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp10_ == NULL) {
#line 729 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_tmp9_);
#line 4632 "ViewCollection.c"
		}
#line 729 "/shotwell/src/core/ViewCollection.vala"
		tmp = _tmp10_;
#line 731 "/shotwell/src/core/ViewCollection.vala"
		_tmp12_ = tmp;
#line 731 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp12_ != NULL) {
#line 4640 "ViewCollection.c"
			MediaSource* _tmp13_;
			Rating _tmp14_;
#line 731 "/shotwell/src/core/ViewCollection.vala"
			_tmp13_ = tmp;
#line 731 "/shotwell/src/core/ViewCollection.vala"
			_tmp14_ = media_source_get_rating (_tmp13_);
#line 731 "/shotwell/src/core/ViewCollection.vala"
			_tmp11_ = _tmp14_ != RATING_REJECTED;
#line 4649 "ViewCollection.c"
		} else {
#line 731 "/shotwell/src/core/ViewCollection.vala"
			_tmp11_ = FALSE;
#line 4653 "ViewCollection.c"
		}
#line 731 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp11_) {
#line 733 "/shotwell/src/core/ViewCollection.vala"
			result = dv;
#line 733 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (tmp);
#line 733 "/shotwell/src/core/ViewCollection.vala"
			return result;
#line 4663 "ViewCollection.c"
		} else {
			DataView* _tmp15_;
			DataView* _tmp16_;
#line 735 "/shotwell/src/core/ViewCollection.vala"
			_tmp15_ = dv;
#line 735 "/shotwell/src/core/ViewCollection.vala"
			_tmp16_ = view_collection_get_next (self, _tmp15_);
#line 735 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (dv);
#line 735 "/shotwell/src/core/ViewCollection.vala"
			dv = _tmp16_;
#line 4675 "ViewCollection.c"
		}
#line 728 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (tmp);
#line 4679 "ViewCollection.c"
	}
#line 741 "/shotwell/src/core/ViewCollection.vala"
	_tmp17_ = view_collection_get_first (self);
#line 741 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp17_;
#line 741 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (dv);
#line 741 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 4689 "ViewCollection.c"
}


DataView* view_collection_get_first_unrejected (ViewCollection* self) {
#line 719 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 719 "/shotwell/src/core/ViewCollection.vala"
	return VIEW_COLLECTION_GET_CLASS (self)->get_first_unrejected (self);
#line 4698 "ViewCollection.c"
}


static DataView* view_collection_real_get_last (ViewCollection* self) {
	DataView* result = NULL;
	DataView* _tmp0_ = NULL;
	gint _tmp1_;
#line 745 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = data_collection_get_count (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 745 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp1_ > 0) {
#line 4710 "ViewCollection.c"
		gint _tmp2_;
		DataObject* _tmp3_;
#line 745 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = data_collection_get_count (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 745 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = data_collection_get_at (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp2_ - 1);
#line 745 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp0_);
#line 745 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, TYPE_DATA_VIEW, DataView);
#line 4721 "ViewCollection.c"
	} else {
#line 745 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp0_);
#line 745 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = NULL;
#line 4727 "ViewCollection.c"
	}
#line 745 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp0_;
#line 745 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 4733 "ViewCollection.c"
}


DataView* view_collection_get_last (ViewCollection* self) {
#line 744 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 744 "/shotwell/src/core/ViewCollection.vala"
	return VIEW_COLLECTION_GET_CLASS (self)->get_last (self);
#line 4742 "ViewCollection.c"
}


static DataView* view_collection_real_get_next (ViewCollection* self, DataView* view) {
	DataView* result = NULL;
	gint _tmp0_;
	gint index = 0;
	DataView* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	gint _tmp4_;
	gint _tmp5_;
	gint _tmp6_;
	gint _tmp7_;
	DataObject* _tmp8_;
#line 748 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_VIEW (view), NULL);
#line 749 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = data_collection_get_count (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 749 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp0_ == 0) {
#line 750 "/shotwell/src/core/ViewCollection.vala"
		result = NULL;
#line 750 "/shotwell/src/core/ViewCollection.vala"
		return result;
#line 4768 "ViewCollection.c"
	}
#line 752 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = view;
#line 752 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = data_collection_index_of (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, TYPE_DATA_OBJECT, DataObject));
#line 752 "/shotwell/src/core/ViewCollection.vala"
	index = _tmp2_;
#line 753 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = index;
#line 753 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp3_ < 0) {
#line 754 "/shotwell/src/core/ViewCollection.vala"
		result = NULL;
#line 754 "/shotwell/src/core/ViewCollection.vala"
		return result;
#line 4784 "ViewCollection.c"
	}
#line 756 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = index;
#line 756 "/shotwell/src/core/ViewCollection.vala"
	index = _tmp4_ + 1;
#line 757 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = index;
#line 757 "/shotwell/src/core/ViewCollection.vala"
	_tmp6_ = data_collection_get_count (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 757 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp5_ >= _tmp6_) {
#line 758 "/shotwell/src/core/ViewCollection.vala"
		index = 0;
#line 4798 "ViewCollection.c"
	}
#line 760 "/shotwell/src/core/ViewCollection.vala"
	_tmp7_ = index;
#line 760 "/shotwell/src/core/ViewCollection.vala"
	_tmp8_ = data_collection_get_at (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp7_);
#line 760 "/shotwell/src/core/ViewCollection.vala"
	result = G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, TYPE_DATA_VIEW, DataView);
#line 760 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 4808 "ViewCollection.c"
}


DataView* view_collection_get_next (ViewCollection* self, DataView* view) {
#line 748 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 748 "/shotwell/src/core/ViewCollection.vala"
	return VIEW_COLLECTION_GET_CLASS (self)->get_next (self, view);
#line 4817 "ViewCollection.c"
}


static DataView* view_collection_real_get_previous (ViewCollection* self, DataView* view) {
	DataView* result = NULL;
	gint _tmp0_;
	gint index = 0;
	DataView* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	gint _tmp4_;
	gint _tmp5_;
	gint _tmp7_;
	DataObject* _tmp8_;
#line 763 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_VIEW (view), NULL);
#line 764 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = data_collection_get_count (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 764 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp0_ == 0) {
#line 765 "/shotwell/src/core/ViewCollection.vala"
		result = NULL;
#line 765 "/shotwell/src/core/ViewCollection.vala"
		return result;
#line 4842 "ViewCollection.c"
	}
#line 767 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = view;
#line 767 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = data_collection_index_of (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, TYPE_DATA_OBJECT, DataObject));
#line 767 "/shotwell/src/core/ViewCollection.vala"
	index = _tmp2_;
#line 768 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = index;
#line 768 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp3_ < 0) {
#line 769 "/shotwell/src/core/ViewCollection.vala"
		result = NULL;
#line 769 "/shotwell/src/core/ViewCollection.vala"
		return result;
#line 4858 "ViewCollection.c"
	}
#line 771 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = index;
#line 771 "/shotwell/src/core/ViewCollection.vala"
	index = _tmp4_ - 1;
#line 772 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = index;
#line 772 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp5_ < 0) {
#line 4868 "ViewCollection.c"
		gint _tmp6_;
#line 773 "/shotwell/src/core/ViewCollection.vala"
		_tmp6_ = data_collection_get_count (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 773 "/shotwell/src/core/ViewCollection.vala"
		index = _tmp6_ - 1;
#line 4874 "ViewCollection.c"
	}
#line 775 "/shotwell/src/core/ViewCollection.vala"
	_tmp7_ = index;
#line 775 "/shotwell/src/core/ViewCollection.vala"
	_tmp8_ = data_collection_get_at (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp7_);
#line 775 "/shotwell/src/core/ViewCollection.vala"
	result = G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, TYPE_DATA_VIEW, DataView);
#line 775 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 4884 "ViewCollection.c"
}


DataView* view_collection_get_previous (ViewCollection* self, DataView* view) {
#line 763 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 763 "/shotwell/src/core/ViewCollection.vala"
	return VIEW_COLLECTION_GET_CLASS (self)->get_previous (self, view);
#line 4893 "ViewCollection.c"
}


gboolean view_collection_get_immediate_neighbors (ViewCollection* self, DataSource* home, DataSource* * next, DataSource* * prev, const gchar* type_selector) {
	DataSource* _vala_next = NULL;
	DataSource* _vala_prev = NULL;
	gboolean result = FALSE;
	DataView* home_view = NULL;
	DataSource* _tmp0_;
	DataView* _tmp1_;
	DataView* _tmp2_;
	DataView* next_view = NULL;
	DataView* _tmp3_;
	DataView* _tmp4_;
	DataView* prev_view = NULL;
	DataView* _tmp19_;
	DataView* _tmp20_;
#line 778 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), FALSE);
#line 778 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_SOURCE (home), FALSE);
#line 780 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (_vala_next);
#line 780 "/shotwell/src/core/ViewCollection.vala"
	_vala_next = NULL;
#line 781 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (_vala_prev);
#line 781 "/shotwell/src/core/ViewCollection.vala"
	_vala_prev = NULL;
#line 783 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = home;
#line 783 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = view_collection_get_view_for_source (self, _tmp0_);
#line 783 "/shotwell/src/core/ViewCollection.vala"
	home_view = _tmp1_;
#line 784 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = home_view;
#line 784 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp2_ == NULL) {
#line 785 "/shotwell/src/core/ViewCollection.vala"
		result = FALSE;
#line 785 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (home_view);
#line 785 "/shotwell/src/core/ViewCollection.vala"
		if (next) {
#line 785 "/shotwell/src/core/ViewCollection.vala"
			*next = _vala_next;
#line 4941 "ViewCollection.c"
		} else {
#line 785 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_vala_next);
#line 4945 "ViewCollection.c"
		}
#line 785 "/shotwell/src/core/ViewCollection.vala"
		if (prev) {
#line 785 "/shotwell/src/core/ViewCollection.vala"
			*prev = _vala_prev;
#line 4951 "ViewCollection.c"
		} else {
#line 785 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_vala_prev);
#line 4955 "ViewCollection.c"
		}
#line 785 "/shotwell/src/core/ViewCollection.vala"
		return result;
#line 4959 "ViewCollection.c"
	}
#line 787 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = home_view;
#line 787 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = view_collection_get_next (self, _tmp3_);
#line 787 "/shotwell/src/core/ViewCollection.vala"
	next_view = _tmp4_;
#line 788 "/shotwell/src/core/ViewCollection.vala"
	while (TRUE) {
#line 4969 "ViewCollection.c"
		DataView* _tmp5_;
		DataView* _tmp6_;
		gboolean _tmp7_ = FALSE;
		const gchar* _tmp8_;
		DataView* _tmp17_;
		DataView* _tmp18_;
#line 788 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = next_view;
#line 788 "/shotwell/src/core/ViewCollection.vala"
		_tmp6_ = home_view;
#line 788 "/shotwell/src/core/ViewCollection.vala"
		if (!(_tmp5_ != _tmp6_)) {
#line 788 "/shotwell/src/core/ViewCollection.vala"
			break;
#line 4984 "ViewCollection.c"
		}
#line 789 "/shotwell/src/core/ViewCollection.vala"
		_tmp8_ = type_selector;
#line 789 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp8_ == NULL) {
#line 789 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = TRUE;
#line 4992 "ViewCollection.c"
		} else {
			DataView* _tmp9_;
			DataSource* _tmp10_;
			DataSource* _tmp11_;
			gchar* _tmp12_;
			gchar* _tmp13_;
			const gchar* _tmp14_;
#line 789 "/shotwell/src/core/ViewCollection.vala"
			_tmp9_ = next_view;
#line 789 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = data_view_get_source (_tmp9_);
#line 789 "/shotwell/src/core/ViewCollection.vala"
			_tmp11_ = _tmp10_;
#line 789 "/shotwell/src/core/ViewCollection.vala"
			_tmp12_ = data_source_get_typename (_tmp11_);
#line 789 "/shotwell/src/core/ViewCollection.vala"
			_tmp13_ = _tmp12_;
#line 789 "/shotwell/src/core/ViewCollection.vala"
			_tmp14_ = type_selector;
#line 789 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = g_strcmp0 (_tmp13_, _tmp14_) == 0;
#line 789 "/shotwell/src/core/ViewCollection.vala"
			_g_free0 (_tmp13_);
#line 789 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_tmp11_);
#line 5018 "ViewCollection.c"
		}
#line 789 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp7_) {
#line 5022 "ViewCollection.c"
			DataView* _tmp15_;
			DataSource* _tmp16_;
#line 790 "/shotwell/src/core/ViewCollection.vala"
			_tmp15_ = next_view;
#line 790 "/shotwell/src/core/ViewCollection.vala"
			_tmp16_ = data_view_get_source (_tmp15_);
#line 790 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_vala_next);
#line 790 "/shotwell/src/core/ViewCollection.vala"
			_vala_next = _tmp16_;
#line 791 "/shotwell/src/core/ViewCollection.vala"
			break;
#line 5035 "ViewCollection.c"
		}
#line 793 "/shotwell/src/core/ViewCollection.vala"
		_tmp17_ = next_view;
#line 793 "/shotwell/src/core/ViewCollection.vala"
		_tmp18_ = view_collection_get_next (self, _tmp17_);
#line 793 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (next_view);
#line 793 "/shotwell/src/core/ViewCollection.vala"
		next_view = _tmp18_;
#line 5045 "ViewCollection.c"
	}
#line 796 "/shotwell/src/core/ViewCollection.vala"
	_tmp19_ = home_view;
#line 796 "/shotwell/src/core/ViewCollection.vala"
	_tmp20_ = view_collection_get_previous (self, _tmp19_);
#line 796 "/shotwell/src/core/ViewCollection.vala"
	prev_view = _tmp20_;
#line 797 "/shotwell/src/core/ViewCollection.vala"
	while (TRUE) {
#line 5055 "ViewCollection.c"
		DataView* _tmp21_;
		DataView* _tmp22_;
		gboolean _tmp23_ = FALSE;
		const gchar* _tmp24_;
		DataView* _tmp33_;
		DataView* _tmp34_;
#line 797 "/shotwell/src/core/ViewCollection.vala"
		_tmp21_ = prev_view;
#line 797 "/shotwell/src/core/ViewCollection.vala"
		_tmp22_ = home_view;
#line 797 "/shotwell/src/core/ViewCollection.vala"
		if (!(_tmp21_ != _tmp22_)) {
#line 797 "/shotwell/src/core/ViewCollection.vala"
			break;
#line 5070 "ViewCollection.c"
		}
#line 798 "/shotwell/src/core/ViewCollection.vala"
		_tmp24_ = type_selector;
#line 798 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp24_ == NULL) {
#line 798 "/shotwell/src/core/ViewCollection.vala"
			_tmp23_ = TRUE;
#line 5078 "ViewCollection.c"
		} else {
			DataView* _tmp25_;
			DataSource* _tmp26_;
			DataSource* _tmp27_;
			gchar* _tmp28_;
			gchar* _tmp29_;
			const gchar* _tmp30_;
#line 798 "/shotwell/src/core/ViewCollection.vala"
			_tmp25_ = prev_view;
#line 798 "/shotwell/src/core/ViewCollection.vala"
			_tmp26_ = data_view_get_source (_tmp25_);
#line 798 "/shotwell/src/core/ViewCollection.vala"
			_tmp27_ = _tmp26_;
#line 798 "/shotwell/src/core/ViewCollection.vala"
			_tmp28_ = data_source_get_typename (_tmp27_);
#line 798 "/shotwell/src/core/ViewCollection.vala"
			_tmp29_ = _tmp28_;
#line 798 "/shotwell/src/core/ViewCollection.vala"
			_tmp30_ = type_selector;
#line 798 "/shotwell/src/core/ViewCollection.vala"
			_tmp23_ = g_strcmp0 (_tmp29_, _tmp30_) == 0;
#line 798 "/shotwell/src/core/ViewCollection.vala"
			_g_free0 (_tmp29_);
#line 798 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_tmp27_);
#line 5104 "ViewCollection.c"
		}
#line 798 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp23_) {
#line 5108 "ViewCollection.c"
			DataView* _tmp31_;
			DataSource* _tmp32_;
#line 799 "/shotwell/src/core/ViewCollection.vala"
			_tmp31_ = prev_view;
#line 799 "/shotwell/src/core/ViewCollection.vala"
			_tmp32_ = data_view_get_source (_tmp31_);
#line 799 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_vala_prev);
#line 799 "/shotwell/src/core/ViewCollection.vala"
			_vala_prev = _tmp32_;
#line 800 "/shotwell/src/core/ViewCollection.vala"
			break;
#line 5121 "ViewCollection.c"
		}
#line 802 "/shotwell/src/core/ViewCollection.vala"
		_tmp33_ = prev_view;
#line 802 "/shotwell/src/core/ViewCollection.vala"
		_tmp34_ = view_collection_get_previous (self, _tmp33_);
#line 802 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (prev_view);
#line 802 "/shotwell/src/core/ViewCollection.vala"
		prev_view = _tmp34_;
#line 5131 "ViewCollection.c"
	}
#line 805 "/shotwell/src/core/ViewCollection.vala"
	result = TRUE;
#line 805 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (prev_view);
#line 805 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (next_view);
#line 805 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (home_view);
#line 805 "/shotwell/src/core/ViewCollection.vala"
	if (next) {
#line 805 "/shotwell/src/core/ViewCollection.vala"
		*next = _vala_next;
#line 5145 "ViewCollection.c"
	} else {
#line 805 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_vala_next);
#line 5149 "ViewCollection.c"
	}
#line 805 "/shotwell/src/core/ViewCollection.vala"
	if (prev) {
#line 805 "/shotwell/src/core/ViewCollection.vala"
		*prev = _vala_prev;
#line 5155 "ViewCollection.c"
	} else {
#line 805 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_vala_prev);
#line 5159 "ViewCollection.c"
	}
#line 805 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 5163 "ViewCollection.c"
}


GeeSet* view_collection_get_extended_neighbors (ViewCollection* self, DataSource* home, const gchar* typename) {
	GeeSet* result = NULL;
	GeeSet* neighbors = NULL;
	GeeHashSet* _tmp0_;
	DataSource* next = NULL;
	DataSource* prev = NULL;
	DataSource* _tmp1_;
	const gchar* _tmp2_;
	DataSource* _tmp3_ = NULL;
	DataSource* _tmp4_ = NULL;
	gboolean _tmp5_;
	DataSource* _tmp6_;
	DataSource* _tmp16_;
	GeeSet* _tmp26_;
	DataSource* _tmp27_;
#line 809 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 809 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_SOURCE (home), NULL);
#line 811 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = gee_hash_set_new (TYPE_DATA_SOURCE, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 811 "/shotwell/src/core/ViewCollection.vala"
	neighbors = G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_SET, GeeSet);
#line 815 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = home;
#line 815 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = typename;
#line 815 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = view_collection_get_immediate_neighbors (self, _tmp1_, &_tmp3_, &_tmp4_, _tmp2_);
#line 815 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (next);
#line 815 "/shotwell/src/core/ViewCollection.vala"
	next = _tmp3_;
#line 815 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (prev);
#line 815 "/shotwell/src/core/ViewCollection.vala"
	prev = _tmp4_;
#line 815 "/shotwell/src/core/ViewCollection.vala"
	if (!_tmp5_) {
#line 816 "/shotwell/src/core/ViewCollection.vala"
		result = neighbors;
#line 816 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (prev);
#line 816 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (next);
#line 816 "/shotwell/src/core/ViewCollection.vala"
		return result;
#line 5214 "ViewCollection.c"
	}
#line 819 "/shotwell/src/core/ViewCollection.vala"
	_tmp6_ = next;
#line 819 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp6_ != NULL) {
#line 5220 "ViewCollection.c"
		GeeSet* _tmp7_;
		DataSource* _tmp8_;
		DataSource* next_next = NULL;
		DataSource* next_prev = NULL;
		DataSource* _tmp9_;
		const gchar* _tmp10_;
		DataSource* _tmp11_ = NULL;
		DataSource* _tmp12_ = NULL;
		DataSource* _tmp13_;
#line 820 "/shotwell/src/core/ViewCollection.vala"
		_tmp7_ = neighbors;
#line 820 "/shotwell/src/core/ViewCollection.vala"
		_tmp8_ = next;
#line 820 "/shotwell/src/core/ViewCollection.vala"
		gee_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, GEE_TYPE_COLLECTION, GeeCollection), _tmp8_);
#line 823 "/shotwell/src/core/ViewCollection.vala"
		_tmp9_ = next;
#line 823 "/shotwell/src/core/ViewCollection.vala"
		_tmp10_ = typename;
#line 823 "/shotwell/src/core/ViewCollection.vala"
		view_collection_get_immediate_neighbors (self, _tmp9_, &_tmp11_, &_tmp12_, _tmp10_);
#line 823 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (next_next);
#line 823 "/shotwell/src/core/ViewCollection.vala"
		next_next = _tmp11_;
#line 823 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (next_prev);
#line 823 "/shotwell/src/core/ViewCollection.vala"
		next_prev = _tmp12_;
#line 826 "/shotwell/src/core/ViewCollection.vala"
		_tmp13_ = next_next;
#line 826 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp13_ != NULL) {
#line 5254 "ViewCollection.c"
			GeeSet* _tmp14_;
			DataSource* _tmp15_;
#line 827 "/shotwell/src/core/ViewCollection.vala"
			_tmp14_ = neighbors;
#line 827 "/shotwell/src/core/ViewCollection.vala"
			_tmp15_ = next_next;
#line 827 "/shotwell/src/core/ViewCollection.vala"
			gee_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, GEE_TYPE_COLLECTION, GeeCollection), _tmp15_);
#line 5263 "ViewCollection.c"
		}
#line 819 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (next_prev);
#line 819 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (next_next);
#line 5269 "ViewCollection.c"
	}
#line 831 "/shotwell/src/core/ViewCollection.vala"
	_tmp16_ = prev;
#line 831 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp16_ != NULL) {
#line 5275 "ViewCollection.c"
		GeeSet* _tmp17_;
		DataSource* _tmp18_;
		DataSource* next_prev = NULL;
		DataSource* prev_prev = NULL;
		DataSource* _tmp19_;
		const gchar* _tmp20_;
		DataSource* _tmp21_ = NULL;
		DataSource* _tmp22_ = NULL;
		DataSource* _tmp23_;
#line 832 "/shotwell/src/core/ViewCollection.vala"
		_tmp17_ = neighbors;
#line 832 "/shotwell/src/core/ViewCollection.vala"
		_tmp18_ = prev;
#line 832 "/shotwell/src/core/ViewCollection.vala"
		gee_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp17_, GEE_TYPE_COLLECTION, GeeCollection), _tmp18_);
#line 835 "/shotwell/src/core/ViewCollection.vala"
		_tmp19_ = prev;
#line 835 "/shotwell/src/core/ViewCollection.vala"
		_tmp20_ = typename;
#line 835 "/shotwell/src/core/ViewCollection.vala"
		view_collection_get_immediate_neighbors (self, _tmp19_, &_tmp21_, &_tmp22_, _tmp20_);
#line 835 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (next_prev);
#line 835 "/shotwell/src/core/ViewCollection.vala"
		next_prev = _tmp21_;
#line 835 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (prev_prev);
#line 835 "/shotwell/src/core/ViewCollection.vala"
		prev_prev = _tmp22_;
#line 838 "/shotwell/src/core/ViewCollection.vala"
		_tmp23_ = prev_prev;
#line 838 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp23_ != NULL) {
#line 5309 "ViewCollection.c"
			GeeSet* _tmp24_;
			DataSource* _tmp25_;
#line 839 "/shotwell/src/core/ViewCollection.vala"
			_tmp24_ = neighbors;
#line 839 "/shotwell/src/core/ViewCollection.vala"
			_tmp25_ = prev_prev;
#line 839 "/shotwell/src/core/ViewCollection.vala"
			gee_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp24_, GEE_TYPE_COLLECTION, GeeCollection), _tmp25_);
#line 5318 "ViewCollection.c"
		}
#line 831 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (prev_prev);
#line 831 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (next_prev);
#line 5324 "ViewCollection.c"
	}
#line 843 "/shotwell/src/core/ViewCollection.vala"
	_tmp26_ = neighbors;
#line 843 "/shotwell/src/core/ViewCollection.vala"
	_tmp27_ = home;
#line 843 "/shotwell/src/core/ViewCollection.vala"
	gee_collection_remove (G_TYPE_CHECK_INSTANCE_CAST (_tmp26_, GEE_TYPE_COLLECTION, GeeCollection), _tmp27_);
#line 845 "/shotwell/src/core/ViewCollection.vala"
	result = neighbors;
#line 845 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (prev);
#line 845 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (next);
#line 845 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 5340 "ViewCollection.c"
}


static void view_collection_add_many_selected (ViewCollection* self, GeeCollection* views) {
	GeeCollection* _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	gboolean added = FALSE;
	DataSet* _tmp11_;
	GeeCollection* _tmp12_;
	gboolean _tmp13_;
	gboolean _tmp14_;
#line 850 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 850 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_COLLECTION (views));
#line 851 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = views;
#line 851 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = gee_collection_get_size (_tmp0_);
#line 851 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = _tmp1_;
#line 851 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp2_ == 0) {
#line 852 "/shotwell/src/core/ViewCollection.vala"
		return;
#line 5367 "ViewCollection.c"
	}
	{
		GeeIterator* _view_it = NULL;
		GeeCollection* _tmp3_;
		GeeIterator* _tmp4_;
#line 854 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = views;
#line 854 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ITERABLE, GeeIterable));
#line 854 "/shotwell/src/core/ViewCollection.vala"
		_view_it = _tmp4_;
#line 854 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 5381 "ViewCollection.c"
			GeeIterator* _tmp5_;
			gboolean _tmp6_;
			DataView* view = NULL;
			GeeIterator* _tmp7_;
			gpointer _tmp8_;
			DataView* _tmp9_;
			gboolean _tmp10_;
#line 854 "/shotwell/src/core/ViewCollection.vala"
			_tmp5_ = _view_it;
#line 854 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = gee_iterator_next (_tmp5_);
#line 854 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp6_) {
#line 854 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 5397 "ViewCollection.c"
			}
#line 854 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = _view_it;
#line 854 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = gee_iterator_get (_tmp7_);
#line 854 "/shotwell/src/core/ViewCollection.vala"
			view = (DataView*) _tmp8_;
#line 855 "/shotwell/src/core/ViewCollection.vala"
			_tmp9_ = view;
#line 855 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = data_view_is_visible (_tmp9_);
#line 855 "/shotwell/src/core/ViewCollection.vala"
			_vala_assert (_tmp10_, "view.is_visible()");
#line 854 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (view);
#line 5413 "ViewCollection.c"
		}
#line 854 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_view_it);
#line 5417 "ViewCollection.c"
	}
#line 857 "/shotwell/src/core/ViewCollection.vala"
	_tmp11_ = self->priv->selected;
#line 857 "/shotwell/src/core/ViewCollection.vala"
	_tmp12_ = views;
#line 857 "/shotwell/src/core/ViewCollection.vala"
	_tmp13_ = data_set_add_many (_tmp11_, _tmp12_);
#line 857 "/shotwell/src/core/ViewCollection.vala"
	added = _tmp13_;
#line 858 "/shotwell/src/core/ViewCollection.vala"
	_tmp14_ = added;
#line 858 "/shotwell/src/core/ViewCollection.vala"
	_vala_assert (_tmp14_, "added");
#line 5431 "ViewCollection.c"
}


static void view_collection_remove_many_selected (ViewCollection* self, GeeCollection* views) {
	GeeCollection* _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	gboolean removed = FALSE;
	DataSet* _tmp3_;
	GeeCollection* _tmp4_;
	gboolean _tmp5_;
	gboolean _tmp6_;
#line 861 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 861 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_COLLECTION (views));
#line 862 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = views;
#line 862 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = gee_collection_get_size (_tmp0_);
#line 862 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = _tmp1_;
#line 862 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp2_ == 0) {
#line 863 "/shotwell/src/core/ViewCollection.vala"
		return;
#line 5458 "ViewCollection.c"
	}
#line 865 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = self->priv->selected;
#line 865 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = views;
#line 865 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = data_set_remove_many (_tmp3_, _tmp4_);
#line 865 "/shotwell/src/core/ViewCollection.vala"
	removed = _tmp5_;
#line 866 "/shotwell/src/core/ViewCollection.vala"
	_tmp6_ = removed;
#line 866 "/shotwell/src/core/ViewCollection.vala"
	_vala_assert (_tmp6_, "removed");
#line 5472 "ViewCollection.c"
}


static gboolean _view_collection_select_item_marked_action (DataObject* object, GObject* user, gpointer self) {
	gboolean result;
	result = view_collection_select_item ((ViewCollection*) self, object, user);
#line 872 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 5481 "ViewCollection.c"
}


void view_collection_select_marked (ViewCollection* self, Marker* marker) {
	GeeArrayList* selected = NULL;
	GeeArrayList* _tmp0_;
	Marker* _tmp1_;
	GeeArrayList* _tmp2_;
	GeeArrayList* _tmp3_;
	gint _tmp4_;
	gint _tmp5_;
#line 870 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 870 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_MARKER (marker));
#line 871 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 871 "/shotwell/src/core/ViewCollection.vala"
	selected = _tmp0_;
#line 872 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = marker;
#line 872 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = selected;
#line 872 "/shotwell/src/core/ViewCollection.vala"
	data_collection_act_on_marked (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp1_, _view_collection_select_item_marked_action, self, NULL, NULL, G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, G_TYPE_OBJECT, GObject));
#line 874 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = selected;
#line 874 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = gee_abstract_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection));
#line 874 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = _tmp4_;
#line 874 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp5_ > 0) {
#line 5515 "ViewCollection.c"
		GeeArrayList* _tmp6_;
		GeeArrayList* _tmp7_;
#line 875 "/shotwell/src/core/ViewCollection.vala"
		_tmp6_ = selected;
#line 875 "/shotwell/src/core/ViewCollection.vala"
		view_collection_add_many_selected (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GEE_TYPE_COLLECTION, GeeCollection));
#line 876 "/shotwell/src/core/ViewCollection.vala"
		_tmp7_ = selected;
#line 876 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_items_selected_unselected (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, GEE_TYPE_COLLECTION, GeeCollection), NULL);
#line 5526 "ViewCollection.c"
	}
#line 870 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (selected);
#line 5530 "ViewCollection.c"
}


void view_collection_select_all (ViewCollection* self) {
	Marker* marker = NULL;
	Marker* _tmp0_;
#line 881 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 882 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = data_collection_start_marking (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 882 "/shotwell/src/core/ViewCollection.vala"
	marker = _tmp0_;
#line 883 "/shotwell/src/core/ViewCollection.vala"
	marker_mark_all (marker);
#line 884 "/shotwell/src/core/ViewCollection.vala"
	view_collection_select_marked (self, marker);
#line 881 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (marker);
#line 5549 "ViewCollection.c"
}


static gboolean view_collection_select_item (ViewCollection* self, DataObject* object, GObject* user) {
	gboolean result = FALSE;
	DataView* view = NULL;
	DataObject* _tmp0_;
	DataView* _tmp1_;
	DataView* _tmp2_;
	gboolean _tmp3_;
	DataView* _tmp9_;
	DataView* _tmp10_;
	gboolean _tmp11_;
#line 887 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), FALSE);
#line 887 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_OBJECT (object), FALSE);
#line 887 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail ((user == NULL) || G_IS_OBJECT (user), FALSE);
#line 888 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = object;
#line 888 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, TYPE_DATA_VIEW, DataView));
#line 888 "/shotwell/src/core/ViewCollection.vala"
	view = _tmp1_;
#line 889 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = view;
#line 889 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = data_view_is_selected (_tmp2_);
#line 889 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp3_) {
#line 5581 "ViewCollection.c"
		DataView* _tmp4_;
		gboolean _tmp5_;
#line 890 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = view;
#line 890 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = data_view_is_visible (_tmp4_);
#line 890 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp5_) {
#line 5590 "ViewCollection.c"
			DataSet* _tmp6_;
			DataView* _tmp7_;
			gboolean _tmp8_;
#line 891 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = self->priv->selected;
#line 891 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = view;
#line 891 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = data_set_contains (_tmp6_, G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, TYPE_DATA_OBJECT, DataObject));
#line 891 "/shotwell/src/core/ViewCollection.vala"
			_vala_assert (_tmp8_, "selected.contains(view)");
#line 5602 "ViewCollection.c"
		}
#line 893 "/shotwell/src/core/ViewCollection.vala"
		result = TRUE;
#line 893 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (view);
#line 893 "/shotwell/src/core/ViewCollection.vala"
		return result;
#line 5610 "ViewCollection.c"
	}
#line 896 "/shotwell/src/core/ViewCollection.vala"
	_tmp9_ = view;
#line 896 "/shotwell/src/core/ViewCollection.vala"
	data_view_internal_set_selected (_tmp9_, TRUE);
#line 900 "/shotwell/src/core/ViewCollection.vala"
	_tmp10_ = view;
#line 900 "/shotwell/src/core/ViewCollection.vala"
	_tmp11_ = data_view_is_visible (_tmp10_);
#line 900 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp11_) {
#line 5622 "ViewCollection.c"
		GObject* _tmp12_;
		DataView* _tmp13_;
#line 901 "/shotwell/src/core/ViewCollection.vala"
		_tmp12_ = user;
#line 901 "/shotwell/src/core/ViewCollection.vala"
		_tmp13_ = view;
#line 901 "/shotwell/src/core/ViewCollection.vala"
		gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, GEE_TYPE_ARRAY_LIST, GeeArrayList), GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp13_);
#line 5631 "ViewCollection.c"
	}
#line 903 "/shotwell/src/core/ViewCollection.vala"
	result = TRUE;
#line 903 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (view);
#line 903 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 5639 "ViewCollection.c"
}


static gboolean _view_collection_unselect_item_marked_action (DataObject* object, GObject* user, gpointer self) {
	gboolean result;
	result = view_collection_unselect_item ((ViewCollection*) self, object, user);
#line 909 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 5648 "ViewCollection.c"
}


void view_collection_unselect_marked (ViewCollection* self, Marker* marker) {
	GeeArrayList* unselected = NULL;
	GeeArrayList* _tmp0_;
	Marker* _tmp1_;
	GeeArrayList* _tmp2_;
	GeeArrayList* _tmp3_;
	gint _tmp4_;
	gint _tmp5_;
#line 907 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 907 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_MARKER (marker));
#line 908 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 908 "/shotwell/src/core/ViewCollection.vala"
	unselected = _tmp0_;
#line 909 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = marker;
#line 909 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = unselected;
#line 909 "/shotwell/src/core/ViewCollection.vala"
	data_collection_act_on_marked (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp1_, _view_collection_unselect_item_marked_action, self, NULL, NULL, G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, G_TYPE_OBJECT, GObject));
#line 911 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = unselected;
#line 911 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = gee_abstract_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection));
#line 911 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = _tmp4_;
#line 911 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp5_ > 0) {
#line 5682 "ViewCollection.c"
		GeeArrayList* _tmp6_;
		GeeArrayList* _tmp7_;
#line 912 "/shotwell/src/core/ViewCollection.vala"
		_tmp6_ = unselected;
#line 912 "/shotwell/src/core/ViewCollection.vala"
		view_collection_remove_many_selected (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GEE_TYPE_COLLECTION, GeeCollection));
#line 913 "/shotwell/src/core/ViewCollection.vala"
		_tmp7_ = unselected;
#line 913 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_items_selected_unselected (self, NULL, G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, GEE_TYPE_COLLECTION, GeeCollection));
#line 5693 "ViewCollection.c"
	}
#line 907 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (unselected);
#line 5697 "ViewCollection.c"
}


void view_collection_unselect_all (ViewCollection* self) {
	DataSet* _tmp0_;
	gint _tmp1_;
	Marker* marker = NULL;
	Marker* _tmp2_;
	Marker* _tmp3_;
	GeeList* _tmp4_;
	GeeList* _tmp5_;
	Marker* _tmp6_;
#line 918 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 919 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->selected;
#line 919 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = data_set_get_count (_tmp0_);
#line 919 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp1_ == 0) {
#line 920 "/shotwell/src/core/ViewCollection.vala"
		return;
#line 5720 "ViewCollection.c"
	}
#line 922 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = data_collection_start_marking (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 922 "/shotwell/src/core/ViewCollection.vala"
	marker = _tmp2_;
#line 923 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = marker;
#line 923 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = view_collection_get_selected (self);
#line 923 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = _tmp4_;
#line 923 "/shotwell/src/core/ViewCollection.vala"
	marker_mark_many (_tmp3_, G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, GEE_TYPE_COLLECTION, GeeCollection));
#line 923 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (_tmp5_);
#line 925 "/shotwell/src/core/ViewCollection.vala"
	_tmp6_ = marker;
#line 925 "/shotwell/src/core/ViewCollection.vala"
	view_collection_unselect_marked (self, _tmp6_);
#line 918 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (marker);
#line 5742 "ViewCollection.c"
}


void view_collection_unselect_all_but (ViewCollection* self, DataView* exception) {
	Marker* marker = NULL;
	Marker* _tmp0_;
	Marker* _tmp15_;
#line 929 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 929 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_DATA_VIEW (exception));
#line 930 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = data_collection_start_marking (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 930 "/shotwell/src/core/ViewCollection.vala"
	marker = _tmp0_;
#line 5758 "ViewCollection.c"
	{
		GeeIterator* _object_it = NULL;
		GeeCollection* _tmp1_;
		GeeCollection* _tmp2_;
		GeeIterator* _tmp3_;
		GeeIterator* _tmp4_;
#line 931 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = data_collection_get_all (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 931 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = _tmp1_;
#line 931 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_ITERABLE, GeeIterable));
#line 931 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = _tmp3_;
#line 931 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp2_);
#line 931 "/shotwell/src/core/ViewCollection.vala"
		_object_it = _tmp4_;
#line 931 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 5779 "ViewCollection.c"
			GeeIterator* _tmp5_;
			gboolean _tmp6_;
			DataObject* object = NULL;
			GeeIterator* _tmp7_;
			gpointer _tmp8_;
			DataView* view = NULL;
			DataObject* _tmp9_;
			DataView* _tmp10_;
			DataView* _tmp11_;
			DataView* _tmp12_;
#line 931 "/shotwell/src/core/ViewCollection.vala"
			_tmp5_ = _object_it;
#line 931 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = gee_iterator_next (_tmp5_);
#line 931 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp6_) {
#line 931 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 5798 "ViewCollection.c"
			}
#line 931 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = _object_it;
#line 931 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = gee_iterator_get (_tmp7_);
#line 931 "/shotwell/src/core/ViewCollection.vala"
			object = (DataObject*) _tmp8_;
#line 932 "/shotwell/src/core/ViewCollection.vala"
			_tmp9_ = object;
#line 932 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, TYPE_DATA_VIEW, DataView));
#line 932 "/shotwell/src/core/ViewCollection.vala"
			view = _tmp10_;
#line 933 "/shotwell/src/core/ViewCollection.vala"
			_tmp11_ = view;
#line 933 "/shotwell/src/core/ViewCollection.vala"
			_tmp12_ = exception;
#line 933 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp11_ != _tmp12_) {
#line 5818 "ViewCollection.c"
				Marker* _tmp13_;
				DataView* _tmp14_;
#line 934 "/shotwell/src/core/ViewCollection.vala"
				_tmp13_ = marker;
#line 934 "/shotwell/src/core/ViewCollection.vala"
				_tmp14_ = view;
#line 934 "/shotwell/src/core/ViewCollection.vala"
				marker_mark (_tmp13_, G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, TYPE_DATA_OBJECT, DataObject));
#line 5827 "ViewCollection.c"
			}
#line 931 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (view);
#line 931 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (object);
#line 5833 "ViewCollection.c"
		}
#line 931 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_object_it);
#line 5837 "ViewCollection.c"
	}
#line 937 "/shotwell/src/core/ViewCollection.vala"
	_tmp15_ = marker;
#line 937 "/shotwell/src/core/ViewCollection.vala"
	view_collection_unselect_marked (self, _tmp15_);
#line 929 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (marker);
#line 5845 "ViewCollection.c"
}


static gboolean view_collection_unselect_item (ViewCollection* self, DataObject* object, GObject* user) {
	gboolean result = FALSE;
	DataView* view = NULL;
	DataObject* _tmp0_;
	DataView* _tmp1_;
	DataView* _tmp2_;
	gboolean _tmp3_;
	DataView* _tmp7_;
	GObject* _tmp8_;
	DataView* _tmp9_;
#line 940 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), FALSE);
#line 940 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_OBJECT (object), FALSE);
#line 940 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail ((user == NULL) || G_IS_OBJECT (user), FALSE);
#line 941 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = object;
#line 941 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, TYPE_DATA_VIEW, DataView));
#line 941 "/shotwell/src/core/ViewCollection.vala"
	view = _tmp1_;
#line 942 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = view;
#line 942 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = data_view_is_selected (_tmp2_);
#line 942 "/shotwell/src/core/ViewCollection.vala"
	if (!_tmp3_) {
#line 5877 "ViewCollection.c"
		DataSet* _tmp4_;
		DataView* _tmp5_;
		gboolean _tmp6_;
#line 943 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = self->priv->selected;
#line 943 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = view;
#line 943 "/shotwell/src/core/ViewCollection.vala"
		_tmp6_ = data_set_contains (_tmp4_, G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, TYPE_DATA_OBJECT, DataObject));
#line 943 "/shotwell/src/core/ViewCollection.vala"
		_vala_assert (!_tmp6_, "!selected.contains(view)");
#line 945 "/shotwell/src/core/ViewCollection.vala"
		result = TRUE;
#line 945 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (view);
#line 945 "/shotwell/src/core/ViewCollection.vala"
		return result;
#line 5895 "ViewCollection.c"
	}
#line 948 "/shotwell/src/core/ViewCollection.vala"
	_tmp7_ = view;
#line 948 "/shotwell/src/core/ViewCollection.vala"
	data_view_internal_set_selected (_tmp7_, FALSE);
#line 949 "/shotwell/src/core/ViewCollection.vala"
	_tmp8_ = user;
#line 949 "/shotwell/src/core/ViewCollection.vala"
	_tmp9_ = view;
#line 949 "/shotwell/src/core/ViewCollection.vala"
	gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, GEE_TYPE_ARRAY_LIST, GeeArrayList), GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp9_);
#line 951 "/shotwell/src/core/ViewCollection.vala"
	result = TRUE;
#line 951 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (view);
#line 951 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 5913 "ViewCollection.c"
}


void view_collection_unselect_and_select_marked (ViewCollection* self, Marker* unselect, Marker* select) {
	GeeArrayList* unselected = NULL;
	GeeArrayList* _tmp0_;
	Marker* _tmp1_;
	GeeArrayList* selected = NULL;
	GeeArrayList* _tmp2_;
	Marker* _tmp3_;
#line 955 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 955 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_MARKER (unselect));
#line 955 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_MARKER (select));
#line 956 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 956 "/shotwell/src/core/ViewCollection.vala"
	unselected = _tmp0_;
#line 957 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = unselect;
#line 957 "/shotwell/src/core/ViewCollection.vala"
	data_collection_act_on_marked (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp1_, _view_collection_unselect_item_marked_action, self, NULL, NULL, G_TYPE_CHECK_INSTANCE_CAST (unselected, G_TYPE_OBJECT, GObject));
#line 959 "/shotwell/src/core/ViewCollection.vala"
	view_collection_remove_many_selected (self, G_TYPE_CHECK_INSTANCE_CAST (unselected, GEE_TYPE_COLLECTION, GeeCollection));
#line 961 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 961 "/shotwell/src/core/ViewCollection.vala"
	selected = _tmp2_;
#line 962 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = select;
#line 962 "/shotwell/src/core/ViewCollection.vala"
	data_collection_act_on_marked (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp3_, _view_collection_select_item_marked_action, self, NULL, NULL, G_TYPE_CHECK_INSTANCE_CAST (selected, G_TYPE_OBJECT, GObject));
#line 964 "/shotwell/src/core/ViewCollection.vala"
	view_collection_add_many_selected (self, G_TYPE_CHECK_INSTANCE_CAST (selected, GEE_TYPE_COLLECTION, GeeCollection));
#line 966 "/shotwell/src/core/ViewCollection.vala"
	view_collection_notify_items_selected_unselected (self, G_TYPE_CHECK_INSTANCE_CAST (selected, GEE_TYPE_COLLECTION, GeeCollection), G_TYPE_CHECK_INSTANCE_CAST (unselected, GEE_TYPE_COLLECTION, GeeCollection));
#line 955 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (selected);
#line 955 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (unselected);
#line 5956 "ViewCollection.c"
}


static gboolean _view_collection_toggle_item_marked_action (DataObject* object, GObject* user, gpointer self) {
	gboolean result;
	result = view_collection_toggle_item ((ViewCollection*) self, object, user);
#line 973 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 5965 "ViewCollection.c"
}


void view_collection_toggle_marked (ViewCollection* self, Marker* marker) {
	ViewCollectionToggleLists* lists = NULL;
	ViewCollectionToggleLists* _tmp0_;
	Marker* _tmp1_;
	GeeArrayList* _tmp2_;
	GeeArrayList* _tmp3_;
	GeeArrayList* _tmp4_;
	GeeArrayList* _tmp5_;
#line 971 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 971 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_MARKER (marker));
#line 972 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = view_collection_toggle_lists_new ();
#line 972 "/shotwell/src/core/ViewCollection.vala"
	lists = _tmp0_;
#line 973 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = marker;
#line 973 "/shotwell/src/core/ViewCollection.vala"
	data_collection_act_on_marked (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), _tmp1_, _view_collection_toggle_item_marked_action, self, NULL, NULL, G_TYPE_CHECK_INSTANCE_CAST (lists, G_TYPE_OBJECT, GObject));
#line 976 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = lists->selected;
#line 976 "/shotwell/src/core/ViewCollection.vala"
	view_collection_add_many_selected (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_COLLECTION, GeeCollection));
#line 977 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = lists->unselected;
#line 977 "/shotwell/src/core/ViewCollection.vala"
	view_collection_remove_many_selected (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_COLLECTION, GeeCollection));
#line 979 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = lists->selected;
#line 979 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = lists->unselected;
#line 979 "/shotwell/src/core/ViewCollection.vala"
	view_collection_notify_items_selected_unselected (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, GEE_TYPE_COLLECTION, GeeCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, GEE_TYPE_COLLECTION, GeeCollection));
#line 971 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (lists);
#line 6005 "ViewCollection.c"
}


static gboolean view_collection_toggle_item (ViewCollection* self, DataObject* object, GObject* user) {
	gboolean result = FALSE;
	DataView* view = NULL;
	DataObject* _tmp0_;
	DataView* _tmp1_;
	ViewCollectionToggleLists* lists = NULL;
	GObject* _tmp2_;
	ViewCollectionToggleLists* _tmp3_;
	DataView* _tmp4_;
	gboolean _tmp5_;
#line 982 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), FALSE);
#line 982 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_OBJECT (object), FALSE);
#line 982 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail ((user == NULL) || G_IS_OBJECT (user), FALSE);
#line 983 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = object;
#line 983 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, TYPE_DATA_VIEW, DataView));
#line 983 "/shotwell/src/core/ViewCollection.vala"
	view = _tmp1_;
#line 984 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = user;
#line 984 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, VIEW_COLLECTION_TYPE_TOGGLE_LISTS, ViewCollectionToggleLists));
#line 984 "/shotwell/src/core/ViewCollection.vala"
	lists = _tmp3_;
#line 990 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = view;
#line 990 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = data_view_internal_toggle (_tmp4_);
#line 990 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp5_) {
#line 6043 "ViewCollection.c"
		DataView* _tmp6_;
		gboolean _tmp7_;
#line 991 "/shotwell/src/core/ViewCollection.vala"
		_tmp6_ = view;
#line 991 "/shotwell/src/core/ViewCollection.vala"
		_tmp7_ = data_view_is_visible (_tmp6_);
#line 991 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp7_) {
#line 6052 "ViewCollection.c"
			ViewCollectionToggleLists* _tmp8_;
			GeeArrayList* _tmp9_;
			DataView* _tmp10_;
#line 992 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = lists;
#line 992 "/shotwell/src/core/ViewCollection.vala"
			_tmp9_ = _tmp8_->selected;
#line 992 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = view;
#line 992 "/shotwell/src/core/ViewCollection.vala"
			gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp10_);
#line 6064 "ViewCollection.c"
		}
	} else {
		ViewCollectionToggleLists* _tmp11_;
		GeeArrayList* _tmp12_;
		DataView* _tmp13_;
#line 994 "/shotwell/src/core/ViewCollection.vala"
		_tmp11_ = lists;
#line 994 "/shotwell/src/core/ViewCollection.vala"
		_tmp12_ = _tmp11_->unselected;
#line 994 "/shotwell/src/core/ViewCollection.vala"
		_tmp13_ = view;
#line 994 "/shotwell/src/core/ViewCollection.vala"
		gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp13_);
#line 6078 "ViewCollection.c"
	}
#line 997 "/shotwell/src/core/ViewCollection.vala"
	result = TRUE;
#line 997 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (lists);
#line 997 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (view);
#line 997 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 6088 "ViewCollection.c"
}


gint view_collection_get_selected_count (ViewCollection* self) {
	gint result = 0;
	DataSet* _tmp0_;
	gint _tmp1_;
#line 1000 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), 0);
#line 1001 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->selected;
#line 1001 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = data_set_get_count (_tmp0_);
#line 1001 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp1_;
#line 1001 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 6106 "ViewCollection.c"
}


GeeList* view_collection_get_selected (ViewCollection* self) {
	GeeList* result = NULL;
	DataSet* _tmp0_;
	GeeList* _tmp1_;
#line 1004 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 1005 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->selected;
#line 1005 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = data_set_get_all (_tmp0_);
#line 1005 "/shotwell/src/core/ViewCollection.vala"
	result = G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_LIST, GeeList);
#line 1005 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 6124 "ViewCollection.c"
}


DataView* view_collection_get_selected_at (ViewCollection* self, gint index) {
	DataView* result = NULL;
	DataSet* _tmp0_;
	gint _tmp1_;
	DataObject* _tmp2_;
#line 1008 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 1009 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->selected;
#line 1009 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = index;
#line 1009 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = data_set_get_at (_tmp0_, _tmp1_);
#line 1009 "/shotwell/src/core/ViewCollection.vala"
	result = G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, TYPE_DATA_VIEW, DataView);
#line 1009 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 6145 "ViewCollection.c"
}


static gboolean view_collection_is_visible (ViewCollection* self, DataView* view) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	DataSet* _tmp1_;
#line 1012 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), FALSE);
#line 1012 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_VIEW (view), FALSE);
#line 1013 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = self->priv->visible;
#line 1013 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp1_ != NULL) {
#line 6161 "ViewCollection.c"
		DataSet* _tmp2_;
		DataView* _tmp3_;
		gboolean _tmp4_;
#line 1013 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = self->priv->visible;
#line 1013 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = view;
#line 1013 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = data_set_contains (_tmp2_, G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, TYPE_DATA_OBJECT, DataObject));
#line 1013 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = _tmp4_;
#line 6173 "ViewCollection.c"
	} else {
#line 1013 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = TRUE;
#line 6177 "ViewCollection.c"
	}
#line 1013 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp0_;
#line 1013 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 6183 "ViewCollection.c"
}


static gboolean view_collection_add_many_visible (ViewCollection* self, GeeCollection* many) {
	gboolean result = FALSE;
	DataSet* _tmp0_;
	DataSet* _tmp1_;
	GeeCollection* _tmp2_;
	gboolean _tmp3_;
	DataSet* _tmp4_;
	gint _tmp5_;
	gint _tmp6_;
#line 1016 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), FALSE);
#line 1016 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (GEE_IS_COLLECTION (many), FALSE);
#line 1017 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->visible;
#line 1017 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp0_ == NULL) {
#line 1018 "/shotwell/src/core/ViewCollection.vala"
		result = TRUE;
#line 1018 "/shotwell/src/core/ViewCollection.vala"
		return result;
#line 6208 "ViewCollection.c"
	}
#line 1020 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = self->priv->visible;
#line 1020 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = many;
#line 1020 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = data_set_add_many (_tmp1_, _tmp2_);
#line 1020 "/shotwell/src/core/ViewCollection.vala"
	if (!_tmp3_) {
#line 1021 "/shotwell/src/core/ViewCollection.vala"
		result = FALSE;
#line 1021 "/shotwell/src/core/ViewCollection.vala"
		return result;
#line 6222 "ViewCollection.c"
	}
#line 1024 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = self->priv->visible;
#line 1024 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = data_set_get_count (_tmp4_);
#line 1024 "/shotwell/src/core/ViewCollection.vala"
	_tmp6_ = DATA_COLLECTION_CLASS (view_collection_parent_class)->get_count (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 1024 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp5_ == _tmp6_) {
#line 1025 "/shotwell/src/core/ViewCollection.vala"
		_data_set_unref0 (self->priv->visible);
#line 1025 "/shotwell/src/core/ViewCollection.vala"
		self->priv->visible = NULL;
#line 6236 "ViewCollection.c"
	}
#line 1027 "/shotwell/src/core/ViewCollection.vala"
	result = TRUE;
#line 1027 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 6242 "ViewCollection.c"
}


static void view_collection_hide_items (ViewCollection* self, GeeList* to_hide) {
	GeeArrayList* unselected = NULL;
	GeeArrayList* _tmp0_;
	gint count = 0;
	GeeList* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	DataSet* _tmp22_;
	gboolean removed = FALSE;
	DataSet* _tmp24_;
	GeeList* _tmp25_;
	gboolean _tmp26_;
	gboolean _tmp27_;
	GeeArrayList* _tmp28_;
	GeeArrayList* _tmp29_;
	gint _tmp30_;
	gint _tmp31_;
	GeeList* _tmp33_;
	gint _tmp34_;
	gint _tmp35_;
#line 1031 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 1031 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_LIST (to_hide));
#line 1032 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 1032 "/shotwell/src/core/ViewCollection.vala"
	unselected = _tmp0_;
#line 1034 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = to_hide;
#line 1034 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = gee_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_COLLECTION, GeeCollection));
#line 1034 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = _tmp2_;
#line 1034 "/shotwell/src/core/ViewCollection.vala"
	count = _tmp3_;
#line 6282 "ViewCollection.c"
	{
		gint ctr = 0;
#line 1035 "/shotwell/src/core/ViewCollection.vala"
		ctr = 0;
#line 6287 "ViewCollection.c"
		{
			gboolean _tmp4_ = FALSE;
#line 1035 "/shotwell/src/core/ViewCollection.vala"
			_tmp4_ = TRUE;
#line 1035 "/shotwell/src/core/ViewCollection.vala"
			while (TRUE) {
#line 6294 "ViewCollection.c"
				gint _tmp6_;
				gint _tmp7_;
				DataView* view = NULL;
				GeeList* _tmp8_;
				gint _tmp9_;
				gpointer _tmp10_;
				DataView* _tmp11_;
				gboolean _tmp12_;
				DataView* _tmp13_;
				gboolean _tmp14_;
				DataView* _tmp21_;
#line 1035 "/shotwell/src/core/ViewCollection.vala"
				if (!_tmp4_) {
#line 6308 "ViewCollection.c"
					gint _tmp5_;
#line 1035 "/shotwell/src/core/ViewCollection.vala"
					_tmp5_ = ctr;
#line 1035 "/shotwell/src/core/ViewCollection.vala"
					ctr = _tmp5_ + 1;
#line 6314 "ViewCollection.c"
				}
#line 1035 "/shotwell/src/core/ViewCollection.vala"
				_tmp4_ = FALSE;
#line 1035 "/shotwell/src/core/ViewCollection.vala"
				_tmp6_ = ctr;
#line 1035 "/shotwell/src/core/ViewCollection.vala"
				_tmp7_ = count;
#line 1035 "/shotwell/src/core/ViewCollection.vala"
				if (!(_tmp6_ < _tmp7_)) {
#line 1035 "/shotwell/src/core/ViewCollection.vala"
					break;
#line 6326 "ViewCollection.c"
				}
#line 1036 "/shotwell/src/core/ViewCollection.vala"
				_tmp8_ = to_hide;
#line 1036 "/shotwell/src/core/ViewCollection.vala"
				_tmp9_ = ctr;
#line 1036 "/shotwell/src/core/ViewCollection.vala"
				_tmp10_ = gee_list_get (_tmp8_, _tmp9_);
#line 1036 "/shotwell/src/core/ViewCollection.vala"
				view = (DataView*) _tmp10_;
#line 1037 "/shotwell/src/core/ViewCollection.vala"
				_tmp11_ = view;
#line 1037 "/shotwell/src/core/ViewCollection.vala"
				_tmp12_ = data_view_is_visible (_tmp11_);
#line 1037 "/shotwell/src/core/ViewCollection.vala"
				_vala_assert (_tmp12_, "view.is_visible()");
#line 1039 "/shotwell/src/core/ViewCollection.vala"
				_tmp13_ = view;
#line 1039 "/shotwell/src/core/ViewCollection.vala"
				_tmp14_ = data_view_is_selected (_tmp13_);
#line 1039 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp14_) {
#line 6348 "ViewCollection.c"
					DataView* _tmp15_;
					GeeArrayList* _tmp16_;
					DataView* _tmp17_;
#line 1040 "/shotwell/src/core/ViewCollection.vala"
					_tmp15_ = view;
#line 1040 "/shotwell/src/core/ViewCollection.vala"
					data_view_internal_set_selected (_tmp15_, FALSE);
#line 1041 "/shotwell/src/core/ViewCollection.vala"
					_tmp16_ = unselected;
#line 1041 "/shotwell/src/core/ViewCollection.vala"
					_tmp17_ = view;
#line 1041 "/shotwell/src/core/ViewCollection.vala"
					gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp16_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp17_);
#line 6362 "ViewCollection.c"
				} else {
					DataSet* _tmp18_;
					DataView* _tmp19_;
					gboolean _tmp20_;
#line 1043 "/shotwell/src/core/ViewCollection.vala"
					_tmp18_ = self->priv->selected;
#line 1043 "/shotwell/src/core/ViewCollection.vala"
					_tmp19_ = view;
#line 1043 "/shotwell/src/core/ViewCollection.vala"
					_tmp20_ = data_set_contains (_tmp18_, G_TYPE_CHECK_INSTANCE_CAST (_tmp19_, TYPE_DATA_OBJECT, DataObject));
#line 1043 "/shotwell/src/core/ViewCollection.vala"
					_vala_assert (!_tmp20_, "!selected.contains(view)");
#line 6375 "ViewCollection.c"
				}
#line 1046 "/shotwell/src/core/ViewCollection.vala"
				_tmp21_ = view;
#line 1046 "/shotwell/src/core/ViewCollection.vala"
				data_view_internal_set_visible (_tmp21_, FALSE);
#line 1035 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (view);
#line 6383 "ViewCollection.c"
			}
		}
	}
#line 1049 "/shotwell/src/core/ViewCollection.vala"
	_tmp22_ = self->priv->visible;
#line 1049 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp22_ == NULL) {
#line 6391 "ViewCollection.c"
		DataSet* _tmp23_;
#line 1051 "/shotwell/src/core/ViewCollection.vala"
		_tmp23_ = data_collection_get_dataset_copy (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 1051 "/shotwell/src/core/ViewCollection.vala"
		_data_set_unref0 (self->priv->visible);
#line 1051 "/shotwell/src/core/ViewCollection.vala"
		self->priv->visible = _tmp23_;
#line 6399 "ViewCollection.c"
	}
#line 1054 "/shotwell/src/core/ViewCollection.vala"
	_tmp24_ = self->priv->visible;
#line 1054 "/shotwell/src/core/ViewCollection.vala"
	_tmp25_ = to_hide;
#line 1054 "/shotwell/src/core/ViewCollection.vala"
	_tmp26_ = data_set_remove_many (_tmp24_, G_TYPE_CHECK_INSTANCE_CAST (_tmp25_, GEE_TYPE_COLLECTION, GeeCollection));
#line 1054 "/shotwell/src/core/ViewCollection.vala"
	removed = _tmp26_;
#line 1055 "/shotwell/src/core/ViewCollection.vala"
	_tmp27_ = removed;
#line 1055 "/shotwell/src/core/ViewCollection.vala"
	_vala_assert (_tmp27_, "removed");
#line 1057 "/shotwell/src/core/ViewCollection.vala"
	_tmp28_ = unselected;
#line 1057 "/shotwell/src/core/ViewCollection.vala"
	view_collection_remove_many_selected (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp28_, GEE_TYPE_COLLECTION, GeeCollection));
#line 1059 "/shotwell/src/core/ViewCollection.vala"
	_tmp29_ = unselected;
#line 1059 "/shotwell/src/core/ViewCollection.vala"
	_tmp30_ = gee_abstract_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp29_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection));
#line 1059 "/shotwell/src/core/ViewCollection.vala"
	_tmp31_ = _tmp30_;
#line 1059 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp31_ > 0) {
#line 6425 "ViewCollection.c"
		GeeArrayList* _tmp32_;
#line 1060 "/shotwell/src/core/ViewCollection.vala"
		_tmp32_ = unselected;
#line 1060 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_items_selected_unselected (self, NULL, G_TYPE_CHECK_INSTANCE_CAST (_tmp32_, GEE_TYPE_COLLECTION, GeeCollection));
#line 6431 "ViewCollection.c"
	}
#line 1062 "/shotwell/src/core/ViewCollection.vala"
	_tmp33_ = to_hide;
#line 1062 "/shotwell/src/core/ViewCollection.vala"
	_tmp34_ = gee_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp33_, GEE_TYPE_COLLECTION, GeeCollection));
#line 1062 "/shotwell/src/core/ViewCollection.vala"
	_tmp35_ = _tmp34_;
#line 1062 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp35_ > 0) {
#line 6441 "ViewCollection.c"
		GeeList* _tmp36_;
		GeeList* _tmp37_;
#line 1063 "/shotwell/src/core/ViewCollection.vala"
		_tmp36_ = to_hide;
#line 1063 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_items_hidden (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp36_, GEE_TYPE_COLLECTION, GeeCollection));
#line 1064 "/shotwell/src/core/ViewCollection.vala"
		_tmp37_ = to_hide;
#line 1064 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_items_visibility_changed (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp37_, GEE_TYPE_COLLECTION, GeeCollection));
#line 6452 "ViewCollection.c"
	}
#line 1031 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (unselected);
#line 6456 "ViewCollection.c"
}


static void view_collection_show_items (ViewCollection* self, GeeList* to_show) {
	GeeArrayList* added_selected = NULL;
	GeeArrayList* _tmp0_;
	gint count = 0;
	GeeList* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	gboolean added = FALSE;
	GeeList* _tmp21_;
	gboolean _tmp22_;
	gboolean _tmp23_;
	GeeArrayList* _tmp24_;
	GeeList* _tmp25_;
	gint _tmp26_;
	gint _tmp27_;
#line 1069 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 1069 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_LIST (to_show));
#line 1070 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 1070 "/shotwell/src/core/ViewCollection.vala"
	added_selected = _tmp0_;
#line 1072 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = to_show;
#line 1072 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = gee_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_COLLECTION, GeeCollection));
#line 1072 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = _tmp2_;
#line 1072 "/shotwell/src/core/ViewCollection.vala"
	count = _tmp3_;
#line 6491 "ViewCollection.c"
	{
		gint ctr = 0;
#line 1073 "/shotwell/src/core/ViewCollection.vala"
		ctr = 0;
#line 6496 "ViewCollection.c"
		{
			gboolean _tmp4_ = FALSE;
#line 1073 "/shotwell/src/core/ViewCollection.vala"
			_tmp4_ = TRUE;
#line 1073 "/shotwell/src/core/ViewCollection.vala"
			while (TRUE) {
#line 6503 "ViewCollection.c"
				gint _tmp6_;
				gint _tmp7_;
				DataView* view = NULL;
				GeeList* _tmp8_;
				gint _tmp9_;
				gpointer _tmp10_;
				DataView* _tmp11_;
				gboolean _tmp12_;
				DataView* _tmp13_;
				DataView* _tmp14_;
				gboolean _tmp15_;
#line 1073 "/shotwell/src/core/ViewCollection.vala"
				if (!_tmp4_) {
#line 6517 "ViewCollection.c"
					gint _tmp5_;
#line 1073 "/shotwell/src/core/ViewCollection.vala"
					_tmp5_ = ctr;
#line 1073 "/shotwell/src/core/ViewCollection.vala"
					ctr = _tmp5_ + 1;
#line 6523 "ViewCollection.c"
				}
#line 1073 "/shotwell/src/core/ViewCollection.vala"
				_tmp4_ = FALSE;
#line 1073 "/shotwell/src/core/ViewCollection.vala"
				_tmp6_ = ctr;
#line 1073 "/shotwell/src/core/ViewCollection.vala"
				_tmp7_ = count;
#line 1073 "/shotwell/src/core/ViewCollection.vala"
				if (!(_tmp6_ < _tmp7_)) {
#line 1073 "/shotwell/src/core/ViewCollection.vala"
					break;
#line 6535 "ViewCollection.c"
				}
#line 1074 "/shotwell/src/core/ViewCollection.vala"
				_tmp8_ = to_show;
#line 1074 "/shotwell/src/core/ViewCollection.vala"
				_tmp9_ = ctr;
#line 1074 "/shotwell/src/core/ViewCollection.vala"
				_tmp10_ = gee_list_get (_tmp8_, _tmp9_);
#line 1074 "/shotwell/src/core/ViewCollection.vala"
				view = (DataView*) _tmp10_;
#line 1075 "/shotwell/src/core/ViewCollection.vala"
				_tmp11_ = view;
#line 1075 "/shotwell/src/core/ViewCollection.vala"
				_tmp12_ = data_view_is_visible (_tmp11_);
#line 1075 "/shotwell/src/core/ViewCollection.vala"
				_vala_assert (!_tmp12_, "!view.is_visible()");
#line 1077 "/shotwell/src/core/ViewCollection.vala"
				_tmp13_ = view;
#line 1077 "/shotwell/src/core/ViewCollection.vala"
				data_view_internal_set_visible (_tmp13_, TRUE);
#line 1080 "/shotwell/src/core/ViewCollection.vala"
				_tmp14_ = view;
#line 1080 "/shotwell/src/core/ViewCollection.vala"
				_tmp15_ = data_view_is_selected (_tmp14_);
#line 1080 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp15_) {
#line 6561 "ViewCollection.c"
					DataSet* _tmp16_;
					DataView* _tmp17_;
					gboolean _tmp18_;
					GeeArrayList* _tmp19_;
					DataView* _tmp20_;
#line 1081 "/shotwell/src/core/ViewCollection.vala"
					_tmp16_ = self->priv->selected;
#line 1081 "/shotwell/src/core/ViewCollection.vala"
					_tmp17_ = view;
#line 1081 "/shotwell/src/core/ViewCollection.vala"
					_tmp18_ = data_set_contains (_tmp16_, G_TYPE_CHECK_INSTANCE_CAST (_tmp17_, TYPE_DATA_OBJECT, DataObject));
#line 1081 "/shotwell/src/core/ViewCollection.vala"
					_vala_assert (!_tmp18_, "!selected.contains(view)");
#line 1082 "/shotwell/src/core/ViewCollection.vala"
					_tmp19_ = added_selected;
#line 1082 "/shotwell/src/core/ViewCollection.vala"
					_tmp20_ = view;
#line 1082 "/shotwell/src/core/ViewCollection.vala"
					gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp19_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp20_);
#line 6581 "ViewCollection.c"
				}
#line 1073 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (view);
#line 6585 "ViewCollection.c"
			}
		}
	}
#line 1086 "/shotwell/src/core/ViewCollection.vala"
	_tmp21_ = to_show;
#line 1086 "/shotwell/src/core/ViewCollection.vala"
	_tmp22_ = view_collection_add_many_visible (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp21_, GEE_TYPE_COLLECTION, GeeCollection));
#line 1086 "/shotwell/src/core/ViewCollection.vala"
	added = _tmp22_;
#line 1087 "/shotwell/src/core/ViewCollection.vala"
	_tmp23_ = added;
#line 1087 "/shotwell/src/core/ViewCollection.vala"
	_vala_assert (_tmp23_, "added");
#line 1089 "/shotwell/src/core/ViewCollection.vala"
	_tmp24_ = added_selected;
#line 1089 "/shotwell/src/core/ViewCollection.vala"
	view_collection_add_many_selected (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp24_, GEE_TYPE_COLLECTION, GeeCollection));
#line 1091 "/shotwell/src/core/ViewCollection.vala"
	_tmp25_ = to_show;
#line 1091 "/shotwell/src/core/ViewCollection.vala"
	_tmp26_ = gee_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp25_, GEE_TYPE_COLLECTION, GeeCollection));
#line 1091 "/shotwell/src/core/ViewCollection.vala"
	_tmp27_ = _tmp26_;
#line 1091 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp27_ > 0) {
#line 6611 "ViewCollection.c"
		GeeList* _tmp28_;
		GeeList* _tmp29_;
#line 1092 "/shotwell/src/core/ViewCollection.vala"
		_tmp28_ = to_show;
#line 1092 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_items_shown (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp28_, GEE_TYPE_COLLECTION, GeeCollection));
#line 1093 "/shotwell/src/core/ViewCollection.vala"
		_tmp29_ = to_show;
#line 1093 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_items_visibility_changed (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp29_, GEE_TYPE_COLLECTION, GeeCollection));
#line 6622 "ViewCollection.c"
	}
#line 1069 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (added_selected);
#line 6626 "ViewCollection.c"
}


gboolean view_collection_has_view_for_source (ViewCollection* self, DataSource* source) {
	gboolean result = FALSE;
	DataSource* _tmp0_;
	DataView* _tmp1_;
	DataView* _tmp2_;
	gboolean _tmp3_;
#line 1098 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), FALSE);
#line 1098 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_SOURCE (source), FALSE);
#line 1099 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = source;
#line 1099 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = view_collection_get_view_for_source (self, _tmp0_);
#line 1099 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = _tmp1_;
#line 1099 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = _tmp2_ != NULL;
#line 1099 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (_tmp2_);
#line 1099 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp3_;
#line 1099 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 6654 "ViewCollection.c"
}


DataView* view_collection_get_view_for_source (ViewCollection* self, DataSource* source) {
	DataView* result = NULL;
	GeeHashMap* _tmp0_;
	DataSource* _tmp1_;
	gpointer _tmp2_;
#line 1103 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 1103 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_SOURCE (source), NULL);
#line 1104 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->source_map;
#line 1104 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = source;
#line 1104 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp1_);
#line 1104 "/shotwell/src/core/ViewCollection.vala"
	result = (DataView*) _tmp2_;
#line 1104 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 6677 "ViewCollection.c"
}


gboolean view_collection_has_view_for_source_with_filtered (ViewCollection* self, DataSource* source) {
	gboolean result = FALSE;
	DataSource* _tmp0_;
	DataView* _tmp1_;
	DataView* _tmp2_;
	gboolean _tmp3_;
#line 1108 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), FALSE);
#line 1108 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_SOURCE (source), FALSE);
#line 1109 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = source;
#line 1109 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = view_collection_get_view_for_source_filtered (self, _tmp0_);
#line 1109 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = _tmp1_;
#line 1109 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = _tmp2_ != NULL;
#line 1109 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (_tmp2_);
#line 1109 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp3_;
#line 1109 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 6705 "ViewCollection.c"
}


DataView* view_collection_get_view_for_source_filtered (ViewCollection* self, DataSource* source) {
	DataView* result = NULL;
	DataView* view = NULL;
	GeeHashMap* _tmp0_;
	DataSource* _tmp1_;
	gpointer _tmp2_;
	gboolean _tmp3_ = FALSE;
	DataView* _tmp4_;
#line 1113 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 1113 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_SOURCE (source), NULL);
#line 1114 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->source_map;
#line 1114 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = source;
#line 1114 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), _tmp1_);
#line 1114 "/shotwell/src/core/ViewCollection.vala"
	view = (DataView*) _tmp2_;
#line 1116 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = view;
#line 1116 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp4_ != NULL) {
#line 6733 "ViewCollection.c"
		DataView* _tmp5_;
		gboolean _tmp6_;
#line 1116 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = view;
#line 1116 "/shotwell/src/core/ViewCollection.vala"
		_tmp6_ = view_collection_is_in_filter (self, _tmp5_);
#line 1116 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = !_tmp6_;
#line 6742 "ViewCollection.c"
	} else {
#line 1116 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = FALSE;
#line 6746 "ViewCollection.c"
	}
#line 1116 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp3_) {
#line 1117 "/shotwell/src/core/ViewCollection.vala"
		result = NULL;
#line 1117 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (view);
#line 1117 "/shotwell/src/core/ViewCollection.vala"
		return result;
#line 6756 "ViewCollection.c"
	}
#line 1118 "/shotwell/src/core/ViewCollection.vala"
	result = view;
#line 1118 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 6762 "ViewCollection.c"
}


GeeCollection* view_collection_get_sources (ViewCollection* self) {
	GeeCollection* result = NULL;
	GeeHashMap* _tmp0_;
	GeeSet* _tmp1_;
	GeeSet* _tmp2_;
	GeeSet* _tmp3_;
	GeeSet* _tmp4_;
	GeeSet* _tmp5_;
	GeeCollection* _tmp6_;
#line 1122 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 1123 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->source_map;
#line 1123 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = gee_abstract_map_get_keys (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap));
#line 1123 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = _tmp1_;
#line 1123 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = _tmp2_;
#line 1123 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = gee_set_get_read_only_view (_tmp3_);
#line 1123 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = _tmp4_;
#line 1123 "/shotwell/src/core/ViewCollection.vala"
	_tmp6_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, GEE_TYPE_COLLECTION, GeeCollection);
#line 1123 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (_tmp3_);
#line 1123 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp6_;
#line 1123 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 6797 "ViewCollection.c"
}


gboolean view_collection_has_source_of_type (ViewCollection* self, GType t) {
	gboolean result = FALSE;
	GType _tmp0_;
	gboolean _tmp1_;
#line 1127 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), FALSE);
#line 1128 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = t;
#line 1128 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = g_type_is_a (_tmp0_, TYPE_DATA_SOURCE);
#line 1128 "/shotwell/src/core/ViewCollection.vala"
	_vala_assert (_tmp1_, "t.is_a(typeof(DataSource))");
#line 6813 "ViewCollection.c"
	{
		GeeIterator* _source_it = NULL;
		GeeHashMap* _tmp2_;
		GeeSet* _tmp3_;
		GeeSet* _tmp4_;
		GeeSet* _tmp5_;
		GeeIterator* _tmp6_;
		GeeIterator* _tmp7_;
#line 1130 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = self->priv->source_map;
#line 1130 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = gee_abstract_map_get_keys (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap));
#line 1130 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = _tmp3_;
#line 1130 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = _tmp4_;
#line 1130 "/shotwell/src/core/ViewCollection.vala"
		_tmp6_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, GEE_TYPE_ITERABLE, GeeIterable));
#line 1130 "/shotwell/src/core/ViewCollection.vala"
		_tmp7_ = _tmp6_;
#line 1130 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp5_);
#line 1130 "/shotwell/src/core/ViewCollection.vala"
		_source_it = _tmp7_;
#line 1130 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 6840 "ViewCollection.c"
			GeeIterator* _tmp8_;
			gboolean _tmp9_;
			DataSource* source = NULL;
			GeeIterator* _tmp10_;
			gpointer _tmp11_;
			DataSource* _tmp12_;
			GType _tmp13_;
			GType _tmp14_;
			gboolean _tmp15_;
#line 1130 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = _source_it;
#line 1130 "/shotwell/src/core/ViewCollection.vala"
			_tmp9_ = gee_iterator_next (_tmp8_);
#line 1130 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp9_) {
#line 1130 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 6858 "ViewCollection.c"
			}
#line 1130 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = _source_it;
#line 1130 "/shotwell/src/core/ViewCollection.vala"
			_tmp11_ = gee_iterator_get (_tmp10_);
#line 1130 "/shotwell/src/core/ViewCollection.vala"
			source = (DataSource*) _tmp11_;
#line 1131 "/shotwell/src/core/ViewCollection.vala"
			_tmp12_ = source;
#line 1131 "/shotwell/src/core/ViewCollection.vala"
			_tmp13_ = G_TYPE_FROM_INSTANCE (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, G_TYPE_OBJECT, GObject));
#line 1131 "/shotwell/src/core/ViewCollection.vala"
			_tmp14_ = t;
#line 1131 "/shotwell/src/core/ViewCollection.vala"
			_tmp15_ = g_type_is_a (_tmp13_, _tmp14_);
#line 1131 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp15_) {
#line 1132 "/shotwell/src/core/ViewCollection.vala"
				result = TRUE;
#line 1132 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (source);
#line 1132 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (_source_it);
#line 1132 "/shotwell/src/core/ViewCollection.vala"
				return result;
#line 6884 "ViewCollection.c"
			}
#line 1130 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (source);
#line 6888 "ViewCollection.c"
		}
#line 1130 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_source_it);
#line 6892 "ViewCollection.c"
	}
#line 1135 "/shotwell/src/core/ViewCollection.vala"
	result = FALSE;
#line 1135 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 6898 "ViewCollection.c"
}


gint view_collection_get_sources_of_type_count (ViewCollection* self, GType t) {
	gint result = 0;
	GType _tmp0_;
	gboolean _tmp1_;
	gint count = 0;
#line 1138 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), 0);
#line 1139 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = t;
#line 1139 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = g_type_is_a (_tmp0_, TYPE_DATA_SOURCE);
#line 1139 "/shotwell/src/core/ViewCollection.vala"
	_vala_assert (_tmp1_, "t.is_a(typeof(DataSource))");
#line 1141 "/shotwell/src/core/ViewCollection.vala"
	count = 0;
#line 6917 "ViewCollection.c"
	{
		GeeIterator* _object_it = NULL;
		GeeCollection* _tmp2_;
		GeeCollection* _tmp3_;
		GeeIterator* _tmp4_;
		GeeIterator* _tmp5_;
#line 1142 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = data_collection_get_all (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 1142 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = _tmp2_;
#line 1142 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ITERABLE, GeeIterable));
#line 1142 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = _tmp4_;
#line 1142 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp3_);
#line 1142 "/shotwell/src/core/ViewCollection.vala"
		_object_it = _tmp5_;
#line 1142 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 6938 "ViewCollection.c"
			GeeIterator* _tmp6_;
			gboolean _tmp7_;
			DataObject* object = NULL;
			GeeIterator* _tmp8_;
			gpointer _tmp9_;
			DataObject* _tmp10_;
			DataSource* _tmp11_;
			DataSource* _tmp12_;
			GType _tmp13_;
			GType _tmp14_;
			gboolean _tmp15_;
			gboolean _tmp16_;
#line 1142 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = _object_it;
#line 1142 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = gee_iterator_next (_tmp6_);
#line 1142 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp7_) {
#line 1142 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 6959 "ViewCollection.c"
			}
#line 1142 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = _object_it;
#line 1142 "/shotwell/src/core/ViewCollection.vala"
			_tmp9_ = gee_iterator_get (_tmp8_);
#line 1142 "/shotwell/src/core/ViewCollection.vala"
			object = (DataObject*) _tmp9_;
#line 1143 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = object;
#line 1143 "/shotwell/src/core/ViewCollection.vala"
			_tmp11_ = data_view_get_source (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, TYPE_DATA_VIEW, DataView));
#line 1143 "/shotwell/src/core/ViewCollection.vala"
			_tmp12_ = _tmp11_;
#line 1143 "/shotwell/src/core/ViewCollection.vala"
			_tmp13_ = G_TYPE_FROM_INSTANCE (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, G_TYPE_OBJECT, GObject));
#line 1143 "/shotwell/src/core/ViewCollection.vala"
			_tmp14_ = t;
#line 1143 "/shotwell/src/core/ViewCollection.vala"
			_tmp15_ = g_type_is_a (_tmp13_, _tmp14_);
#line 1143 "/shotwell/src/core/ViewCollection.vala"
			_tmp16_ = _tmp15_;
#line 1143 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_tmp12_);
#line 1143 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp16_) {
#line 6985 "ViewCollection.c"
				gint _tmp17_;
#line 1144 "/shotwell/src/core/ViewCollection.vala"
				_tmp17_ = count;
#line 1144 "/shotwell/src/core/ViewCollection.vala"
				count = _tmp17_ + 1;
#line 6991 "ViewCollection.c"
			}
#line 1142 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (object);
#line 6995 "ViewCollection.c"
		}
#line 1142 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_object_it);
#line 6999 "ViewCollection.c"
	}
#line 1147 "/shotwell/src/core/ViewCollection.vala"
	result = count;
#line 1147 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 7005 "ViewCollection.c"
}


GeeList* view_collection_get_sources_of_type (ViewCollection* self, GType t) {
	GeeList* result = NULL;
	GType _tmp0_;
	gboolean _tmp1_;
	GeeList* sources = NULL;
#line 1150 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 1151 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = t;
#line 1151 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = g_type_is_a (_tmp0_, TYPE_DATA_SOURCE);
#line 1151 "/shotwell/src/core/ViewCollection.vala"
	_vala_assert (_tmp1_, "t.is_a(typeof(DataSource))");
#line 1153 "/shotwell/src/core/ViewCollection.vala"
	sources = NULL;
#line 7024 "ViewCollection.c"
	{
		GeeIterator* _object_it = NULL;
		GeeCollection* _tmp2_;
		GeeCollection* _tmp3_;
		GeeIterator* _tmp4_;
		GeeIterator* _tmp5_;
#line 1154 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = data_collection_get_all (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 1154 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = _tmp2_;
#line 1154 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ITERABLE, GeeIterable));
#line 1154 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = _tmp4_;
#line 1154 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp3_);
#line 1154 "/shotwell/src/core/ViewCollection.vala"
		_object_it = _tmp5_;
#line 1154 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 7045 "ViewCollection.c"
			GeeIterator* _tmp6_;
			gboolean _tmp7_;
			DataObject* object = NULL;
			GeeIterator* _tmp8_;
			gpointer _tmp9_;
			DataSource* source = NULL;
			DataObject* _tmp10_;
			DataSource* _tmp11_;
			DataSource* _tmp12_;
			GType _tmp13_;
			GType _tmp14_;
			gboolean _tmp15_;
#line 1154 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = _object_it;
#line 1154 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = gee_iterator_next (_tmp6_);
#line 1154 "/shotwell/src/core/ViewCollection.vala"
			if (!_tmp7_) {
#line 1154 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 7066 "ViewCollection.c"
			}
#line 1154 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = _object_it;
#line 1154 "/shotwell/src/core/ViewCollection.vala"
			_tmp9_ = gee_iterator_get (_tmp8_);
#line 1154 "/shotwell/src/core/ViewCollection.vala"
			object = (DataObject*) _tmp9_;
#line 1155 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = object;
#line 1155 "/shotwell/src/core/ViewCollection.vala"
			_tmp11_ = data_view_get_source (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, TYPE_DATA_VIEW, DataView));
#line 1155 "/shotwell/src/core/ViewCollection.vala"
			source = _tmp11_;
#line 1156 "/shotwell/src/core/ViewCollection.vala"
			_tmp12_ = source;
#line 1156 "/shotwell/src/core/ViewCollection.vala"
			_tmp13_ = G_TYPE_FROM_INSTANCE (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, G_TYPE_OBJECT, GObject));
#line 1156 "/shotwell/src/core/ViewCollection.vala"
			_tmp14_ = t;
#line 1156 "/shotwell/src/core/ViewCollection.vala"
			_tmp15_ = g_type_is_a (_tmp13_, _tmp14_);
#line 1156 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp15_) {
#line 7090 "ViewCollection.c"
				GeeList* _tmp16_;
				GeeList* _tmp18_;
				DataSource* _tmp19_;
#line 1157 "/shotwell/src/core/ViewCollection.vala"
				_tmp16_ = sources;
#line 1157 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp16_ == NULL) {
#line 7098 "ViewCollection.c"
					GeeArrayList* _tmp17_;
#line 1158 "/shotwell/src/core/ViewCollection.vala"
					_tmp17_ = gee_array_list_new (TYPE_DATA_SOURCE, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 1158 "/shotwell/src/core/ViewCollection.vala"
					_g_object_unref0 (sources);
#line 1158 "/shotwell/src/core/ViewCollection.vala"
					sources = G_TYPE_CHECK_INSTANCE_CAST (_tmp17_, GEE_TYPE_LIST, GeeList);
#line 7106 "ViewCollection.c"
				}
#line 1160 "/shotwell/src/core/ViewCollection.vala"
				_tmp18_ = sources;
#line 1160 "/shotwell/src/core/ViewCollection.vala"
				_tmp19_ = source;
#line 1160 "/shotwell/src/core/ViewCollection.vala"
				gee_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp18_, GEE_TYPE_COLLECTION, GeeCollection), _tmp19_);
#line 7114 "ViewCollection.c"
			}
#line 1154 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (source);
#line 1154 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (object);
#line 7120 "ViewCollection.c"
		}
#line 1154 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_object_it);
#line 7124 "ViewCollection.c"
	}
#line 1164 "/shotwell/src/core/ViewCollection.vala"
	result = sources;
#line 1164 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 7130 "ViewCollection.c"
}


GeeList* view_collection_get_selected_sources (ViewCollection* self) {
	GeeList* result = NULL;
	GeeList* sources = NULL;
	GeeArrayList* _tmp0_;
	gint count = 0;
	DataSet* _tmp1_;
	gint _tmp2_;
#line 1167 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 1168 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = gee_array_list_new (TYPE_DATA_SOURCE, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 1168 "/shotwell/src/core/ViewCollection.vala"
	sources = G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_LIST, GeeList);
#line 1170 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = self->priv->selected;
#line 1170 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = data_set_get_count (_tmp1_);
#line 1170 "/shotwell/src/core/ViewCollection.vala"
	count = _tmp2_;
#line 7153 "ViewCollection.c"
	{
		gint ctr = 0;
#line 1171 "/shotwell/src/core/ViewCollection.vala"
		ctr = 0;
#line 7158 "ViewCollection.c"
		{
			gboolean _tmp3_ = FALSE;
#line 1171 "/shotwell/src/core/ViewCollection.vala"
			_tmp3_ = TRUE;
#line 1171 "/shotwell/src/core/ViewCollection.vala"
			while (TRUE) {
#line 7165 "ViewCollection.c"
				gint _tmp5_;
				gint _tmp6_;
				GeeList* _tmp7_;
				DataSet* _tmp8_;
				gint _tmp9_;
				DataObject* _tmp10_;
				DataView* _tmp11_;
				DataSource* _tmp12_;
				DataSource* _tmp13_;
#line 1171 "/shotwell/src/core/ViewCollection.vala"
				if (!_tmp3_) {
#line 7177 "ViewCollection.c"
					gint _tmp4_;
#line 1171 "/shotwell/src/core/ViewCollection.vala"
					_tmp4_ = ctr;
#line 1171 "/shotwell/src/core/ViewCollection.vala"
					ctr = _tmp4_ + 1;
#line 7183 "ViewCollection.c"
				}
#line 1171 "/shotwell/src/core/ViewCollection.vala"
				_tmp3_ = FALSE;
#line 1171 "/shotwell/src/core/ViewCollection.vala"
				_tmp5_ = ctr;
#line 1171 "/shotwell/src/core/ViewCollection.vala"
				_tmp6_ = count;
#line 1171 "/shotwell/src/core/ViewCollection.vala"
				if (!(_tmp5_ < _tmp6_)) {
#line 1171 "/shotwell/src/core/ViewCollection.vala"
					break;
#line 7195 "ViewCollection.c"
				}
#line 1172 "/shotwell/src/core/ViewCollection.vala"
				_tmp7_ = sources;
#line 1172 "/shotwell/src/core/ViewCollection.vala"
				_tmp8_ = self->priv->selected;
#line 1172 "/shotwell/src/core/ViewCollection.vala"
				_tmp9_ = ctr;
#line 1172 "/shotwell/src/core/ViewCollection.vala"
				_tmp10_ = data_set_get_at (_tmp8_, _tmp9_);
#line 1172 "/shotwell/src/core/ViewCollection.vala"
				_tmp11_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, TYPE_DATA_VIEW, DataView);
#line 1172 "/shotwell/src/core/ViewCollection.vala"
				_tmp12_ = data_view_get_source (_tmp11_);
#line 1172 "/shotwell/src/core/ViewCollection.vala"
				_tmp13_ = _tmp12_;
#line 1172 "/shotwell/src/core/ViewCollection.vala"
				gee_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, GEE_TYPE_COLLECTION, GeeCollection), _tmp13_);
#line 1172 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (_tmp13_);
#line 1172 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (_tmp11_);
#line 7217 "ViewCollection.c"
			}
		}
	}
#line 1174 "/shotwell/src/core/ViewCollection.vala"
	result = sources;
#line 1174 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 7225 "ViewCollection.c"
}


DataSource* view_collection_get_selected_source_at (ViewCollection* self, gint index) {
	DataSource* result = NULL;
	DataObject* object = NULL;
	DataSet* _tmp0_;
	gint _tmp1_;
	DataObject* _tmp2_;
	DataSource* _tmp3_ = NULL;
	DataObject* _tmp4_;
#line 1177 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 1178 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->selected;
#line 1178 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = index;
#line 1178 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = data_set_get_at (_tmp0_, _tmp1_);
#line 1178 "/shotwell/src/core/ViewCollection.vala"
	object = _tmp2_;
#line 1180 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = object;
#line 1180 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp4_ != NULL) {
#line 7251 "ViewCollection.c"
		DataObject* _tmp5_;
		DataSource* _tmp6_;
#line 1180 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = object;
#line 1180 "/shotwell/src/core/ViewCollection.vala"
		_tmp6_ = data_view_get_source (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, TYPE_DATA_VIEW, DataView));
#line 1180 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp3_);
#line 1180 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = _tmp6_;
#line 7262 "ViewCollection.c"
	} else {
#line 1180 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp3_);
#line 1180 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = NULL;
#line 7268 "ViewCollection.c"
	}
#line 1180 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp3_;
#line 1180 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (object);
#line 1180 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 7276 "ViewCollection.c"
}


GeeList* view_collection_get_selected_sources_of_type (ViewCollection* self, GType t) {
	GeeList* result = NULL;
	GeeList* sources = NULL;
#line 1183 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), NULL);
#line 1184 "/shotwell/src/core/ViewCollection.vala"
	sources = NULL;
#line 7287 "ViewCollection.c"
	{
		GeeList* _view_list = NULL;
		GeeList* _tmp0_;
		gint _view_size = 0;
		GeeList* _tmp1_;
		gint _tmp2_;
		gint _tmp3_;
		gint _view_index = 0;
#line 1185 "/shotwell/src/core/ViewCollection.vala"
		_tmp0_ = view_collection_get_selected (self);
#line 1185 "/shotwell/src/core/ViewCollection.vala"
		_view_list = _tmp0_;
#line 1185 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = _view_list;
#line 1185 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = gee_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_COLLECTION, GeeCollection));
#line 1185 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = _tmp2_;
#line 1185 "/shotwell/src/core/ViewCollection.vala"
		_view_size = _tmp3_;
#line 1185 "/shotwell/src/core/ViewCollection.vala"
		_view_index = -1;
#line 1185 "/shotwell/src/core/ViewCollection.vala"
		while (TRUE) {
#line 7312 "ViewCollection.c"
			gint _tmp4_;
			gint _tmp5_;
			gint _tmp6_;
			DataView* view = NULL;
			GeeList* _tmp7_;
			gint _tmp8_;
			gpointer _tmp9_;
			DataSource* source = NULL;
			DataView* _tmp10_;
			DataSource* _tmp11_;
			DataSource* _tmp12_;
			GType _tmp13_;
			GType _tmp14_;
			gboolean _tmp15_;
#line 1185 "/shotwell/src/core/ViewCollection.vala"
			_tmp4_ = _view_index;
#line 1185 "/shotwell/src/core/ViewCollection.vala"
			_view_index = _tmp4_ + 1;
#line 1185 "/shotwell/src/core/ViewCollection.vala"
			_tmp5_ = _view_index;
#line 1185 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = _view_size;
#line 1185 "/shotwell/src/core/ViewCollection.vala"
			if (!(_tmp5_ < _tmp6_)) {
#line 1185 "/shotwell/src/core/ViewCollection.vala"
				break;
#line 7339 "ViewCollection.c"
			}
#line 1185 "/shotwell/src/core/ViewCollection.vala"
			_tmp7_ = _view_list;
#line 1185 "/shotwell/src/core/ViewCollection.vala"
			_tmp8_ = _view_index;
#line 1185 "/shotwell/src/core/ViewCollection.vala"
			_tmp9_ = gee_list_get (_tmp7_, _tmp8_);
#line 1185 "/shotwell/src/core/ViewCollection.vala"
			view = (DataView*) _tmp9_;
#line 1186 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = view;
#line 1186 "/shotwell/src/core/ViewCollection.vala"
			_tmp11_ = data_view_get_source (_tmp10_);
#line 1186 "/shotwell/src/core/ViewCollection.vala"
			source = _tmp11_;
#line 1187 "/shotwell/src/core/ViewCollection.vala"
			_tmp12_ = source;
#line 1187 "/shotwell/src/core/ViewCollection.vala"
			_tmp13_ = G_TYPE_FROM_INSTANCE (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, G_TYPE_OBJECT, GObject));
#line 1187 "/shotwell/src/core/ViewCollection.vala"
			_tmp14_ = t;
#line 1187 "/shotwell/src/core/ViewCollection.vala"
			_tmp15_ = g_type_is_a (_tmp13_, _tmp14_);
#line 1187 "/shotwell/src/core/ViewCollection.vala"
			if (_tmp15_) {
#line 7365 "ViewCollection.c"
				GeeList* _tmp16_;
				GeeList* _tmp18_;
				DataSource* _tmp19_;
#line 1188 "/shotwell/src/core/ViewCollection.vala"
				_tmp16_ = sources;
#line 1188 "/shotwell/src/core/ViewCollection.vala"
				if (_tmp16_ == NULL) {
#line 7373 "ViewCollection.c"
					GeeArrayList* _tmp17_;
#line 1189 "/shotwell/src/core/ViewCollection.vala"
					_tmp17_ = gee_array_list_new (TYPE_DATA_SOURCE, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 1189 "/shotwell/src/core/ViewCollection.vala"
					_g_object_unref0 (sources);
#line 1189 "/shotwell/src/core/ViewCollection.vala"
					sources = G_TYPE_CHECK_INSTANCE_CAST (_tmp17_, GEE_TYPE_LIST, GeeList);
#line 7381 "ViewCollection.c"
				}
#line 1191 "/shotwell/src/core/ViewCollection.vala"
				_tmp18_ = sources;
#line 1191 "/shotwell/src/core/ViewCollection.vala"
				_tmp19_ = source;
#line 1191 "/shotwell/src/core/ViewCollection.vala"
				gee_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp18_, GEE_TYPE_COLLECTION, GeeCollection), _tmp19_);
#line 7389 "ViewCollection.c"
			}
#line 1185 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (source);
#line 1185 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (view);
#line 7395 "ViewCollection.c"
		}
#line 1185 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_view_list);
#line 7399 "ViewCollection.c"
	}
#line 1195 "/shotwell/src/core/ViewCollection.vala"
	result = sources;
#line 1195 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 7405 "ViewCollection.c"
}


gint view_collection_index_of_source (ViewCollection* self, DataSource* source) {
	gint result = 0;
	DataView* view = NULL;
	DataSource* _tmp0_;
	DataView* _tmp1_;
	gint _tmp2_ = 0;
	DataView* _tmp3_;
#line 1199 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), 0);
#line 1199 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_SOURCE (source), 0);
#line 1200 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = source;
#line 1200 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = view_collection_get_view_for_source (self, _tmp0_);
#line 1200 "/shotwell/src/core/ViewCollection.vala"
	view = _tmp1_;
#line 1202 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = view;
#line 1202 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp3_ != NULL) {
#line 7430 "ViewCollection.c"
		DataView* _tmp4_;
		gint _tmp5_;
#line 1202 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = view;
#line 1202 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = data_collection_index_of (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, TYPE_DATA_OBJECT, DataObject));
#line 1202 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = _tmp5_;
#line 7439 "ViewCollection.c"
	} else {
#line 1202 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = -1;
#line 7443 "ViewCollection.c"
	}
#line 1202 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp2_;
#line 1202 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (view);
#line 1202 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 7451 "ViewCollection.c"
}


void view_collection_internal_notify_view_altered (ViewCollection* self, DataView* view) {
	gboolean _tmp0_;
#line 1206 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 1206 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_DATA_VIEW (view));
#line 1207 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = data_collection_are_notifications_frozen (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 1207 "/shotwell/src/core/ViewCollection.vala"
	if (!_tmp0_) {
#line 7465 "ViewCollection.c"
		DataView* _tmp1_;
		DataView* _tmp2_;
		GeeCollection* _tmp3_;
		GeeCollection* _tmp4_;
#line 1208 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = view;
#line 1208 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_item_view_altered (self, _tmp1_);
#line 1209 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = view;
#line 1209 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = data_collection_get_singleton (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, TYPE_DATA_OBJECT, DataObject));
#line 1209 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_COLLECTION, GeeCollection);
#line 1209 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_views_altered (self, _tmp4_);
#line 1209 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp4_);
#line 7484 "ViewCollection.c"
	} else {
		GeeHashSet* _tmp5_;
		GeeHashSet* _tmp7_;
		DataView* _tmp8_;
#line 1211 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = self->priv->frozen_views_altered;
#line 1211 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp5_ == NULL) {
#line 7493 "ViewCollection.c"
			GeeHashSet* _tmp6_;
#line 1212 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = gee_hash_set_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 1212 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (self->priv->frozen_views_altered);
#line 1212 "/shotwell/src/core/ViewCollection.vala"
			self->priv->frozen_views_altered = _tmp6_;
#line 7501 "ViewCollection.c"
		}
#line 1213 "/shotwell/src/core/ViewCollection.vala"
		_tmp7_ = self->priv->frozen_views_altered;
#line 1213 "/shotwell/src/core/ViewCollection.vala"
		_tmp8_ = view;
#line 1213 "/shotwell/src/core/ViewCollection.vala"
		gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp8_);
#line 7509 "ViewCollection.c"
	}
}


void view_collection_internal_notify_geometry_altered (ViewCollection* self, DataView* view) {
	gboolean _tmp0_;
#line 1218 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_COLLECTION (self));
#line 1218 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_DATA_VIEW (view));
#line 1219 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = data_collection_are_notifications_frozen (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 1219 "/shotwell/src/core/ViewCollection.vala"
	if (!_tmp0_) {
#line 7524 "ViewCollection.c"
		DataView* _tmp1_;
		DataView* _tmp2_;
		GeeCollection* _tmp3_;
		GeeCollection* _tmp4_;
#line 1220 "/shotwell/src/core/ViewCollection.vala"
		_tmp1_ = view;
#line 1220 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_item_geometry_altered (self, _tmp1_);
#line 1221 "/shotwell/src/core/ViewCollection.vala"
		_tmp2_ = view;
#line 1221 "/shotwell/src/core/ViewCollection.vala"
		_tmp3_ = data_collection_get_singleton (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, TYPE_DATA_OBJECT, DataObject));
#line 1221 "/shotwell/src/core/ViewCollection.vala"
		_tmp4_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_COLLECTION, GeeCollection);
#line 1221 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_geometries_altered (self, _tmp4_);
#line 1221 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (_tmp4_);
#line 7543 "ViewCollection.c"
	} else {
		GeeHashSet* _tmp5_;
		GeeHashSet* _tmp7_;
		DataView* _tmp8_;
#line 1223 "/shotwell/src/core/ViewCollection.vala"
		_tmp5_ = self->priv->frozen_geometries_altered;
#line 1223 "/shotwell/src/core/ViewCollection.vala"
		if (_tmp5_ == NULL) {
#line 7552 "ViewCollection.c"
			GeeHashSet* _tmp6_;
#line 1224 "/shotwell/src/core/ViewCollection.vala"
			_tmp6_ = gee_hash_set_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 1224 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (self->priv->frozen_geometries_altered);
#line 1224 "/shotwell/src/core/ViewCollection.vala"
			self->priv->frozen_geometries_altered = _tmp6_;
#line 7560 "ViewCollection.c"
		}
#line 1225 "/shotwell/src/core/ViewCollection.vala"
		_tmp7_ = self->priv->frozen_geometries_altered;
#line 1225 "/shotwell/src/core/ViewCollection.vala"
		_tmp8_ = view;
#line 1225 "/shotwell/src/core/ViewCollection.vala"
		gee_abstract_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection), _tmp8_);
#line 7568 "ViewCollection.c"
	}
}


static void view_collection_real_notify_thawed (DataCollection* base) {
	ViewCollection * self;
	GeeHashSet* _tmp0_;
	GeeHashSet* _tmp9_;
#line 1229 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (base, TYPE_VIEW_COLLECTION, ViewCollection);
#line 1230 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->priv->frozen_views_altered;
#line 1230 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp0_ != NULL) {
#line 7583 "ViewCollection.c"
		GeeHashSet* _tmp8_;
		{
			GeeIterator* _view_it = NULL;
			GeeHashSet* _tmp1_;
			GeeIterator* _tmp2_;
#line 1231 "/shotwell/src/core/ViewCollection.vala"
			_tmp1_ = self->priv->frozen_views_altered;
#line 1231 "/shotwell/src/core/ViewCollection.vala"
			_tmp2_ = gee_abstract_collection_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection));
#line 1231 "/shotwell/src/core/ViewCollection.vala"
			_view_it = _tmp2_;
#line 1231 "/shotwell/src/core/ViewCollection.vala"
			while (TRUE) {
#line 7597 "ViewCollection.c"
				GeeIterator* _tmp3_;
				gboolean _tmp4_;
				DataView* view = NULL;
				GeeIterator* _tmp5_;
				gpointer _tmp6_;
				DataView* _tmp7_;
#line 1231 "/shotwell/src/core/ViewCollection.vala"
				_tmp3_ = _view_it;
#line 1231 "/shotwell/src/core/ViewCollection.vala"
				_tmp4_ = gee_iterator_next (_tmp3_);
#line 1231 "/shotwell/src/core/ViewCollection.vala"
				if (!_tmp4_) {
#line 1231 "/shotwell/src/core/ViewCollection.vala"
					break;
#line 7612 "ViewCollection.c"
				}
#line 1231 "/shotwell/src/core/ViewCollection.vala"
				_tmp5_ = _view_it;
#line 1231 "/shotwell/src/core/ViewCollection.vala"
				_tmp6_ = gee_iterator_get (_tmp5_);
#line 1231 "/shotwell/src/core/ViewCollection.vala"
				view = (DataView*) _tmp6_;
#line 1232 "/shotwell/src/core/ViewCollection.vala"
				_tmp7_ = view;
#line 1232 "/shotwell/src/core/ViewCollection.vala"
				view_collection_notify_item_view_altered (self, _tmp7_);
#line 1231 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (view);
#line 7626 "ViewCollection.c"
			}
#line 1231 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_view_it);
#line 7630 "ViewCollection.c"
		}
#line 1233 "/shotwell/src/core/ViewCollection.vala"
		_tmp8_ = self->priv->frozen_views_altered;
#line 1233 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_views_altered (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, GEE_TYPE_COLLECTION, GeeCollection));
#line 1234 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (self->priv->frozen_views_altered);
#line 1234 "/shotwell/src/core/ViewCollection.vala"
		self->priv->frozen_views_altered = NULL;
#line 7640 "ViewCollection.c"
	}
#line 1237 "/shotwell/src/core/ViewCollection.vala"
	_tmp9_ = self->priv->frozen_geometries_altered;
#line 1237 "/shotwell/src/core/ViewCollection.vala"
	if (_tmp9_ != NULL) {
#line 7646 "ViewCollection.c"
		GeeHashSet* _tmp17_;
		{
			GeeIterator* _view_it = NULL;
			GeeHashSet* _tmp10_;
			GeeIterator* _tmp11_;
#line 1238 "/shotwell/src/core/ViewCollection.vala"
			_tmp10_ = self->priv->frozen_geometries_altered;
#line 1238 "/shotwell/src/core/ViewCollection.vala"
			_tmp11_ = gee_abstract_collection_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, GEE_TYPE_ABSTRACT_COLLECTION, GeeAbstractCollection));
#line 1238 "/shotwell/src/core/ViewCollection.vala"
			_view_it = _tmp11_;
#line 1238 "/shotwell/src/core/ViewCollection.vala"
			while (TRUE) {
#line 7660 "ViewCollection.c"
				GeeIterator* _tmp12_;
				gboolean _tmp13_;
				DataView* view = NULL;
				GeeIterator* _tmp14_;
				gpointer _tmp15_;
				DataView* _tmp16_;
#line 1238 "/shotwell/src/core/ViewCollection.vala"
				_tmp12_ = _view_it;
#line 1238 "/shotwell/src/core/ViewCollection.vala"
				_tmp13_ = gee_iterator_next (_tmp12_);
#line 1238 "/shotwell/src/core/ViewCollection.vala"
				if (!_tmp13_) {
#line 1238 "/shotwell/src/core/ViewCollection.vala"
					break;
#line 7675 "ViewCollection.c"
				}
#line 1238 "/shotwell/src/core/ViewCollection.vala"
				_tmp14_ = _view_it;
#line 1238 "/shotwell/src/core/ViewCollection.vala"
				_tmp15_ = gee_iterator_get (_tmp14_);
#line 1238 "/shotwell/src/core/ViewCollection.vala"
				view = (DataView*) _tmp15_;
#line 1239 "/shotwell/src/core/ViewCollection.vala"
				_tmp16_ = view;
#line 1239 "/shotwell/src/core/ViewCollection.vala"
				view_collection_notify_item_geometry_altered (self, _tmp16_);
#line 1238 "/shotwell/src/core/ViewCollection.vala"
				_g_object_unref0 (view);
#line 7689 "ViewCollection.c"
			}
#line 1238 "/shotwell/src/core/ViewCollection.vala"
			_g_object_unref0 (_view_it);
#line 7693 "ViewCollection.c"
		}
#line 1240 "/shotwell/src/core/ViewCollection.vala"
		_tmp17_ = self->priv->frozen_geometries_altered;
#line 1240 "/shotwell/src/core/ViewCollection.vala"
		view_collection_notify_geometries_altered (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp17_, GEE_TYPE_COLLECTION, GeeCollection));
#line 1241 "/shotwell/src/core/ViewCollection.vala"
		_g_object_unref0 (self->priv->frozen_geometries_altered);
#line 1241 "/shotwell/src/core/ViewCollection.vala"
		self->priv->frozen_geometries_altered = NULL;
#line 7703 "ViewCollection.c"
	}
#line 1244 "/shotwell/src/core/ViewCollection.vala"
	DATA_COLLECTION_CLASS (view_collection_parent_class)->notify_thawed (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 7707 "ViewCollection.c"
}


gboolean view_collection_are_items_filtered_out (ViewCollection* self) {
	gboolean result = FALSE;
	gint _tmp0_;
	gint _tmp1_;
#line 1247 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (self), FALSE);
#line 1248 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = DATA_COLLECTION_CLASS (view_collection_parent_class)->get_count (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 1248 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = data_collection_get_count (G_TYPE_CHECK_INSTANCE_CAST (self, TYPE_DATA_COLLECTION, DataCollection));
#line 1248 "/shotwell/src/core/ViewCollection.vala"
	result = _tmp0_ != _tmp1_;
#line 1248 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 7725 "ViewCollection.c"
}


static void view_collection_real_items_selected (ViewCollection* self, GeeIterable* selected) {
#line 75 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_ITERABLE (selected));
#line 7732 "ViewCollection.c"
}


static void view_collection_real_items_unselected (ViewCollection* self, GeeIterable* unselected) {
#line 79 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_ITERABLE (unselected));
#line 7739 "ViewCollection.c"
}


static void view_collection_real_items_state_changed (ViewCollection* self, GeeIterable* changed) {
#line 83 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_ITERABLE (changed));
#line 7746 "ViewCollection.c"
}


static void view_collection_real_selection_group_altered (ViewCollection* self) {
}


static void view_collection_real_items_shown (ViewCollection* self, GeeCollection* visible) {
#line 94 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_COLLECTION (visible));
#line 7757 "ViewCollection.c"
}


static void view_collection_real_items_hidden (ViewCollection* self, GeeCollection* hidden) {
#line 98 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_COLLECTION (hidden));
#line 7764 "ViewCollection.c"
}


static void view_collection_real_items_visibility_changed (ViewCollection* self, GeeCollection* changed) {
#line 102 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_COLLECTION (changed));
#line 7771 "ViewCollection.c"
}


static void view_collection_real_item_view_altered (ViewCollection* self, DataView* view) {
#line 106 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_DATA_VIEW (view));
#line 7778 "ViewCollection.c"
}


static void view_collection_real_item_geometry_altered (ViewCollection* self, DataView* view) {
#line 110 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_DATA_VIEW (view));
#line 7785 "ViewCollection.c"
}


static void view_collection_real_views_altered (ViewCollection* self, GeeCollection* views) {
#line 113 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_COLLECTION (views));
#line 7792 "ViewCollection.c"
}


static void view_collection_real_geometries_altered (ViewCollection* self, GeeCollection* views) {
#line 116 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (GEE_IS_COLLECTION (views));
#line 7799 "ViewCollection.c"
}


static void view_collection_real_view_filter_installed (ViewCollection* self, ViewFilter* filer) {
#line 119 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_FILTER (filer));
#line 7806 "ViewCollection.c"
}


static void g_cclosure_user_marshal_VOID__VIEW_FILTER (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data) {
	typedef void (*GMarshalFunc_VOID__VIEW_FILTER) (gpointer data1, gpointer arg_1, gpointer data2);
	register GMarshalFunc_VOID__VIEW_FILTER callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (n_param_values == 2);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	if (G_CCLOSURE_SWAP_DATA (closure)) {
#line 21 "/shotwell/src/core/ViewCollection.vala"
		data1 = closure->data;
#line 21 "/shotwell/src/core/ViewCollection.vala"
		data2 = param_values->data[0].v_pointer;
#line 7825 "ViewCollection.c"
	} else {
#line 21 "/shotwell/src/core/ViewCollection.vala"
		data1 = param_values->data[0].v_pointer;
#line 21 "/shotwell/src/core/ViewCollection.vala"
		data2 = closure->data;
#line 7831 "ViewCollection.c"
	}
#line 21 "/shotwell/src/core/ViewCollection.vala"
	callback = (GMarshalFunc_VOID__VIEW_FILTER) (marshal_data ? marshal_data : cc->callback);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	callback (data1, value_get_view_filter (param_values + 1), data2);
#line 7837 "ViewCollection.c"
}


static void view_collection_real_view_filter_removed (ViewCollection* self, ViewFilter* filer) {
#line 122 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (IS_VIEW_FILTER (filer));
#line 7844 "ViewCollection.c"
}


ViewCollectionMonitor* view_collection_monitor_construct (GType object_type) {
	ViewCollectionMonitor* self = NULL;
#line 22 "/shotwell/src/core/ViewCollection.vala"
	self = (ViewCollectionMonitor*) g_type_create_instance (object_type);
#line 22 "/shotwell/src/core/ViewCollection.vala"
	return self;
#line 7854 "ViewCollection.c"
}


ViewCollectionMonitor* view_collection_monitor_new (void) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
	return view_collection_monitor_construct (VIEW_COLLECTION_TYPE_MONITOR);
#line 7861 "ViewCollection.c"
}


static void view_collection_value_monitor_init (GValue* value) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
	value->data[0].v_pointer = NULL;
#line 7868 "ViewCollection.c"
}


static void view_collection_value_monitor_free_value (GValue* value) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
	if (value->data[0].v_pointer) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		view_collection_monitor_unref (value->data[0].v_pointer);
#line 7877 "ViewCollection.c"
	}
}


static void view_collection_value_monitor_copy_value (const GValue* src_value, GValue* dest_value) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
	if (src_value->data[0].v_pointer) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		dest_value->data[0].v_pointer = view_collection_monitor_ref (src_value->data[0].v_pointer);
#line 7887 "ViewCollection.c"
	} else {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		dest_value->data[0].v_pointer = NULL;
#line 7891 "ViewCollection.c"
	}
}


static gpointer view_collection_value_monitor_peek_pointer (const GValue* value) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
	return value->data[0].v_pointer;
#line 7899 "ViewCollection.c"
}


static gchar* view_collection_value_monitor_collect_value (GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
	if (collect_values[0].v_pointer) {
#line 7906 "ViewCollection.c"
		ViewCollectionMonitor * object;
		object = collect_values[0].v_pointer;
#line 22 "/shotwell/src/core/ViewCollection.vala"
		if (object->parent_instance.g_class == NULL) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 7913 "ViewCollection.c"
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 7917 "ViewCollection.c"
		}
#line 22 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = view_collection_monitor_ref (object);
#line 7921 "ViewCollection.c"
	} else {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = NULL;
#line 7925 "ViewCollection.c"
	}
#line 22 "/shotwell/src/core/ViewCollection.vala"
	return NULL;
#line 7929 "ViewCollection.c"
}


static gchar* view_collection_value_monitor_lcopy_value (const GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	ViewCollectionMonitor ** object_p;
	object_p = collect_values[0].v_pointer;
#line 22 "/shotwell/src/core/ViewCollection.vala"
	if (!object_p) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
#line 7940 "ViewCollection.c"
	}
#line 22 "/shotwell/src/core/ViewCollection.vala"
	if (!value->data[0].v_pointer) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		*object_p = NULL;
#line 7946 "ViewCollection.c"
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		*object_p = value->data[0].v_pointer;
#line 7950 "ViewCollection.c"
	} else {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		*object_p = view_collection_monitor_ref (value->data[0].v_pointer);
#line 7954 "ViewCollection.c"
	}
#line 22 "/shotwell/src/core/ViewCollection.vala"
	return NULL;
#line 7958 "ViewCollection.c"
}


GParamSpec* view_collection_param_spec_monitor (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags) {
	ViewCollectionParamSpecMonitor* spec;
#line 22 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (g_type_is_a (object_type, VIEW_COLLECTION_TYPE_MONITOR), NULL);
#line 22 "/shotwell/src/core/ViewCollection.vala"
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
#line 22 "/shotwell/src/core/ViewCollection.vala"
	G_PARAM_SPEC (spec)->value_type = object_type;
#line 22 "/shotwell/src/core/ViewCollection.vala"
	return G_PARAM_SPEC (spec);
#line 7972 "ViewCollection.c"
}


gpointer view_collection_value_get_monitor (const GValue* value) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, VIEW_COLLECTION_TYPE_MONITOR), NULL);
#line 22 "/shotwell/src/core/ViewCollection.vala"
	return value->data[0].v_pointer;
#line 7981 "ViewCollection.c"
}


void view_collection_value_set_monitor (GValue* value, gpointer v_object) {
	ViewCollectionMonitor * old;
#line 22 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, VIEW_COLLECTION_TYPE_MONITOR));
#line 22 "/shotwell/src/core/ViewCollection.vala"
	old = value->data[0].v_pointer;
#line 22 "/shotwell/src/core/ViewCollection.vala"
	if (v_object) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, VIEW_COLLECTION_TYPE_MONITOR));
#line 22 "/shotwell/src/core/ViewCollection.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 22 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = v_object;
#line 22 "/shotwell/src/core/ViewCollection.vala"
		view_collection_monitor_ref (value->data[0].v_pointer);
#line 8001 "ViewCollection.c"
	} else {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = NULL;
#line 8005 "ViewCollection.c"
	}
#line 22 "/shotwell/src/core/ViewCollection.vala"
	if (old) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		view_collection_monitor_unref (old);
#line 8011 "ViewCollection.c"
	}
}


void view_collection_value_take_monitor (GValue* value, gpointer v_object) {
	ViewCollectionMonitor * old;
#line 22 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, VIEW_COLLECTION_TYPE_MONITOR));
#line 22 "/shotwell/src/core/ViewCollection.vala"
	old = value->data[0].v_pointer;
#line 22 "/shotwell/src/core/ViewCollection.vala"
	if (v_object) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, VIEW_COLLECTION_TYPE_MONITOR));
#line 22 "/shotwell/src/core/ViewCollection.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 22 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = v_object;
#line 8030 "ViewCollection.c"
	} else {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = NULL;
#line 8034 "ViewCollection.c"
	}
#line 22 "/shotwell/src/core/ViewCollection.vala"
	if (old) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		view_collection_monitor_unref (old);
#line 8040 "ViewCollection.c"
	}
}


static void view_collection_monitor_class_init (ViewCollectionMonitorClass * klass) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
	view_collection_monitor_parent_class = g_type_class_peek_parent (klass);
#line 22 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionMonitorClass *) klass)->finalize = view_collection_monitor_finalize;
#line 8050 "ViewCollection.c"
}


static void view_collection_monitor_instance_init (ViewCollectionMonitor * self) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
	self->ref_count = 1;
#line 8057 "ViewCollection.c"
}


static void view_collection_monitor_finalize (ViewCollectionMonitor * obj) {
	ViewCollectionMonitor * self;
#line 22 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, VIEW_COLLECTION_TYPE_MONITOR, ViewCollectionMonitor);
#line 22 "/shotwell/src/core/ViewCollection.vala"
	g_signal_handlers_destroy (self);
#line 8067 "ViewCollection.c"
}


GType view_collection_monitor_get_type (void) {
	static volatile gsize view_collection_monitor_type_id__volatile = 0;
	if (g_once_init_enter (&view_collection_monitor_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { view_collection_value_monitor_init, view_collection_value_monitor_free_value, view_collection_value_monitor_copy_value, view_collection_value_monitor_peek_pointer, "p", view_collection_value_monitor_collect_value, "p", view_collection_value_monitor_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (ViewCollectionMonitorClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) view_collection_monitor_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ViewCollectionMonitor), 0, (GInstanceInitFunc) view_collection_monitor_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType view_collection_monitor_type_id;
		view_collection_monitor_type_id = g_type_register_fundamental (g_type_fundamental_next (), "ViewCollectionMonitor", &g_define_type_info, &g_define_type_fundamental_info, 0);
		g_once_init_leave (&view_collection_monitor_type_id__volatile, view_collection_monitor_type_id);
	}
	return view_collection_monitor_type_id__volatile;
}


gpointer view_collection_monitor_ref (gpointer instance) {
	ViewCollectionMonitor * self;
	self = instance;
#line 22 "/shotwell/src/core/ViewCollection.vala"
	g_atomic_int_inc (&self->ref_count);
#line 22 "/shotwell/src/core/ViewCollection.vala"
	return instance;
#line 8092 "ViewCollection.c"
}


void view_collection_monitor_unref (gpointer instance) {
	ViewCollectionMonitor * self;
	self = instance;
#line 22 "/shotwell/src/core/ViewCollection.vala"
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
#line 22 "/shotwell/src/core/ViewCollection.vala"
		VIEW_COLLECTION_MONITOR_GET_CLASS (self)->finalize (self);
#line 22 "/shotwell/src/core/ViewCollection.vala"
		g_type_free_instance ((GTypeInstance *) self);
#line 8105 "ViewCollection.c"
	}
}


static void _view_collection_on_sources_added_data_collection_items_added (DataCollection* _sender, GeeIterable* added, gpointer self) {
#line 44 "/shotwell/src/core/ViewCollection.vala"
	view_collection_on_sources_added ((ViewCollection*) self, _sender, added);
#line 8113 "ViewCollection.c"
}


static void _view_collection_on_sources_removed_data_collection_items_removed (DataCollection* _sender, GeeIterable* removed, gpointer self) {
#line 45 "/shotwell/src/core/ViewCollection.vala"
	view_collection_on_sources_removed ((ViewCollection*) self, removed);
#line 8120 "ViewCollection.c"
}


static void _view_collection_on_sources_altered_data_collection_items_altered (DataCollection* _sender, GeeMap* items, gpointer self) {
#line 46 "/shotwell/src/core/ViewCollection.vala"
	view_collection_on_sources_altered ((ViewCollection*) self, _sender, items);
#line 8127 "ViewCollection.c"
}


static gpointer _view_manager_ref0 (gpointer self) {
#line 35 "/shotwell/src/core/ViewCollection.vala"
	return self ? view_manager_ref (self) : NULL;
#line 8134 "ViewCollection.c"
}


static gpointer _alteration_ref0 (gpointer self) {
#line 36 "/shotwell/src/core/ViewCollection.vala"
	return self ? alteration_ref (self) : NULL;
#line 8141 "ViewCollection.c"
}


static ViewCollectionMonitorImpl* view_collection_monitor_impl_construct (GType object_type, ViewCollection* owner, SourceCollection* sources, ViewManager* manager, Alteration* prereq) {
	ViewCollectionMonitorImpl* self = NULL;
	ViewCollection* _tmp0_;
	ViewCollection* _tmp1_;
	SourceCollection* _tmp2_;
	SourceCollection* _tmp3_;
	ViewManager* _tmp4_;
	ViewManager* _tmp5_;
	Alteration* _tmp6_;
	Alteration* _tmp7_;
	SourceCollection* _tmp8_;
	ViewCollection* _tmp9_;
	SourceCollection* _tmp10_;
	ViewCollection* _tmp11_;
	SourceCollection* _tmp12_;
	ViewCollection* _tmp13_;
#line 31 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_COLLECTION (owner), NULL);
#line 31 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_SOURCE_COLLECTION (sources), NULL);
#line 31 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_MANAGER (manager), NULL);
#line 31 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail ((prereq == NULL) || IS_ALTERATION (prereq), NULL);
#line 31 "/shotwell/src/core/ViewCollection.vala"
	self = (ViewCollectionMonitorImpl*) view_collection_monitor_construct (object_type);
#line 33 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = owner;
#line 33 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = _data_collection_ref0 (_tmp0_);
#line 33 "/shotwell/src/core/ViewCollection.vala"
	_data_collection_unref0 (self->owner);
#line 33 "/shotwell/src/core/ViewCollection.vala"
	self->owner = _tmp1_;
#line 34 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = sources;
#line 34 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = _data_collection_ref0 (_tmp2_);
#line 34 "/shotwell/src/core/ViewCollection.vala"
	_data_collection_unref0 (self->sources);
#line 34 "/shotwell/src/core/ViewCollection.vala"
	self->sources = _tmp3_;
#line 35 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = manager;
#line 35 "/shotwell/src/core/ViewCollection.vala"
	_tmp5_ = _view_manager_ref0 (_tmp4_);
#line 35 "/shotwell/src/core/ViewCollection.vala"
	_view_manager_unref0 (self->manager);
#line 35 "/shotwell/src/core/ViewCollection.vala"
	self->manager = _tmp5_;
#line 36 "/shotwell/src/core/ViewCollection.vala"
	_tmp6_ = prereq;
#line 36 "/shotwell/src/core/ViewCollection.vala"
	_tmp7_ = _alteration_ref0 (_tmp6_);
#line 36 "/shotwell/src/core/ViewCollection.vala"
	_alteration_unref0 (self->prereq);
#line 36 "/shotwell/src/core/ViewCollection.vala"
	self->prereq = _tmp7_;
#line 38 "/shotwell/src/core/ViewCollection.vala"
	_tmp8_ = sources;
#line 38 "/shotwell/src/core/ViewCollection.vala"
	_tmp9_ = owner;
#line 38 "/shotwell/src/core/ViewCollection.vala"
	g_signal_connect (G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, TYPE_DATA_COLLECTION, DataCollection), "items-added", (GCallback) _view_collection_on_sources_added_data_collection_items_added, _tmp9_);
#line 39 "/shotwell/src/core/ViewCollection.vala"
	_tmp10_ = sources;
#line 39 "/shotwell/src/core/ViewCollection.vala"
	_tmp11_ = owner;
#line 39 "/shotwell/src/core/ViewCollection.vala"
	g_signal_connect (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, TYPE_DATA_COLLECTION, DataCollection), "items-removed", (GCallback) _view_collection_on_sources_removed_data_collection_items_removed, _tmp11_);
#line 40 "/shotwell/src/core/ViewCollection.vala"
	_tmp12_ = sources;
#line 40 "/shotwell/src/core/ViewCollection.vala"
	_tmp13_ = owner;
#line 40 "/shotwell/src/core/ViewCollection.vala"
	g_signal_connect (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, TYPE_DATA_COLLECTION, DataCollection), "items-altered", (GCallback) _view_collection_on_sources_altered_data_collection_items_altered, _tmp13_);
#line 31 "/shotwell/src/core/ViewCollection.vala"
	return self;
#line 8223 "ViewCollection.c"
}


static ViewCollectionMonitorImpl* view_collection_monitor_impl_new (ViewCollection* owner, SourceCollection* sources, ViewManager* manager, Alteration* prereq) {
#line 31 "/shotwell/src/core/ViewCollection.vala"
	return view_collection_monitor_impl_construct (VIEW_COLLECTION_TYPE_MONITOR_IMPL, owner, sources, manager, prereq);
#line 8230 "ViewCollection.c"
}


static void view_collection_monitor_impl_class_init (ViewCollectionMonitorImplClass * klass) {
#line 25 "/shotwell/src/core/ViewCollection.vala"
	view_collection_monitor_impl_parent_class = g_type_class_peek_parent (klass);
#line 25 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionMonitorClass *) klass)->finalize = view_collection_monitor_impl_finalize;
#line 8239 "ViewCollection.c"
}


static void view_collection_monitor_impl_instance_init (ViewCollectionMonitorImpl * self) {
}


static void view_collection_monitor_impl_finalize (ViewCollectionMonitor * obj) {
	ViewCollectionMonitorImpl * self;
	SourceCollection* _tmp0_;
	ViewCollection* _tmp1_;
	guint _tmp2_;
	SourceCollection* _tmp3_;
	ViewCollection* _tmp4_;
	guint _tmp5_;
	SourceCollection* _tmp6_;
	ViewCollection* _tmp7_;
	guint _tmp8_;
#line 25 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, VIEW_COLLECTION_TYPE_MONITOR_IMPL, ViewCollectionMonitorImpl);
#line 44 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = self->sources;
#line 44 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = self->owner;
#line 44 "/shotwell/src/core/ViewCollection.vala"
	g_signal_parse_name ("items-added", TYPE_DATA_COLLECTION, &_tmp2_, NULL, FALSE);
#line 44 "/shotwell/src/core/ViewCollection.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, TYPE_DATA_COLLECTION, DataCollection), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp2_, 0, NULL, (GCallback) _view_collection_on_sources_added_data_collection_items_added, _tmp1_);
#line 45 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = self->sources;
#line 45 "/shotwell/src/core/ViewCollection.vala"
	_tmp4_ = self->owner;
#line 45 "/shotwell/src/core/ViewCollection.vala"
	g_signal_parse_name ("items-removed", TYPE_DATA_COLLECTION, &_tmp5_, NULL, FALSE);
#line 45 "/shotwell/src/core/ViewCollection.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, TYPE_DATA_COLLECTION, DataCollection), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp5_, 0, NULL, (GCallback) _view_collection_on_sources_removed_data_collection_items_removed, _tmp4_);
#line 46 "/shotwell/src/core/ViewCollection.vala"
	_tmp6_ = self->sources;
#line 46 "/shotwell/src/core/ViewCollection.vala"
	_tmp7_ = self->owner;
#line 46 "/shotwell/src/core/ViewCollection.vala"
	g_signal_parse_name ("items-altered", TYPE_DATA_COLLECTION, &_tmp8_, NULL, FALSE);
#line 46 "/shotwell/src/core/ViewCollection.vala"
	g_signal_handlers_disconnect_matched (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, TYPE_DATA_COLLECTION, DataCollection), G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp8_, 0, NULL, (GCallback) _view_collection_on_sources_altered_data_collection_items_altered, _tmp7_);
#line 26 "/shotwell/src/core/ViewCollection.vala"
	_data_collection_unref0 (self->owner);
#line 27 "/shotwell/src/core/ViewCollection.vala"
	_data_collection_unref0 (self->sources);
#line 28 "/shotwell/src/core/ViewCollection.vala"
	_view_manager_unref0 (self->manager);
#line 29 "/shotwell/src/core/ViewCollection.vala"
	_alteration_unref0 (self->prereq);
#line 25 "/shotwell/src/core/ViewCollection.vala"
	VIEW_COLLECTION_MONITOR_CLASS (view_collection_monitor_impl_parent_class)->finalize (obj);
#line 8294 "ViewCollection.c"
}


static GType view_collection_monitor_impl_get_type (void) {
	static volatile gsize view_collection_monitor_impl_type_id__volatile = 0;
	if (g_once_init_enter (&view_collection_monitor_impl_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ViewCollectionMonitorImplClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) view_collection_monitor_impl_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ViewCollectionMonitorImpl), 0, (GInstanceInitFunc) view_collection_monitor_impl_instance_init, NULL };
		GType view_collection_monitor_impl_type_id;
		view_collection_monitor_impl_type_id = g_type_register_static (VIEW_COLLECTION_TYPE_MONITOR, "ViewCollectionMonitorImpl", &g_define_type_info, 0);
		g_once_init_leave (&view_collection_monitor_impl_type_id__volatile, view_collection_monitor_impl_type_id);
	}
	return view_collection_monitor_impl_type_id__volatile;
}


static ViewCollectionToggleLists* view_collection_toggle_lists_construct (GType object_type) {
	ViewCollectionToggleLists * self = NULL;
#line 50 "/shotwell/src/core/ViewCollection.vala"
	self = (ViewCollectionToggleLists*) g_object_new (object_type, NULL);
#line 50 "/shotwell/src/core/ViewCollection.vala"
	return self;
#line 8316 "ViewCollection.c"
}


static ViewCollectionToggleLists* view_collection_toggle_lists_new (void) {
#line 50 "/shotwell/src/core/ViewCollection.vala"
	return view_collection_toggle_lists_construct (VIEW_COLLECTION_TYPE_TOGGLE_LISTS);
#line 8323 "ViewCollection.c"
}


static void view_collection_toggle_lists_class_init (ViewCollectionToggleListsClass * klass) {
#line 50 "/shotwell/src/core/ViewCollection.vala"
	view_collection_toggle_lists_parent_class = g_type_class_peek_parent (klass);
#line 50 "/shotwell/src/core/ViewCollection.vala"
	G_OBJECT_CLASS (klass)->finalize = view_collection_toggle_lists_finalize;
#line 8332 "ViewCollection.c"
}


static void view_collection_toggle_lists_instance_init (ViewCollectionToggleLists * self) {
	GeeArrayList* _tmp0_;
	GeeArrayList* _tmp1_;
#line 51 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 51 "/shotwell/src/core/ViewCollection.vala"
	self->selected = _tmp0_;
#line 52 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = gee_array_list_new (TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 52 "/shotwell/src/core/ViewCollection.vala"
	self->unselected = _tmp1_;
#line 8347 "ViewCollection.c"
}


static void view_collection_toggle_lists_finalize (GObject * obj) {
	ViewCollectionToggleLists * self;
#line 50 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, VIEW_COLLECTION_TYPE_TOGGLE_LISTS, ViewCollectionToggleLists);
#line 51 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (self->selected);
#line 52 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (self->unselected);
#line 50 "/shotwell/src/core/ViewCollection.vala"
	G_OBJECT_CLASS (view_collection_toggle_lists_parent_class)->finalize (obj);
#line 8361 "ViewCollection.c"
}


static GType view_collection_toggle_lists_get_type (void) {
	static volatile gsize view_collection_toggle_lists_type_id__volatile = 0;
	if (g_once_init_enter (&view_collection_toggle_lists_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ViewCollectionToggleListsClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) view_collection_toggle_lists_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ViewCollectionToggleLists), 0, (GInstanceInitFunc) view_collection_toggle_lists_instance_init, NULL };
		GType view_collection_toggle_lists_type_id;
		view_collection_toggle_lists_type_id = g_type_register_static (G_TYPE_OBJECT, "ViewCollectionToggleLists", &g_define_type_info, 0);
		g_once_init_leave (&view_collection_toggle_lists_type_id__volatile, view_collection_toggle_lists_type_id);
	}
	return view_collection_toggle_lists_type_id__volatile;
}


static void view_collection_class_init (ViewCollectionClass * klass) {
#line 21 "/shotwell/src/core/ViewCollection.vala"
	view_collection_parent_class = g_type_class_peek_parent (klass);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->finalize = view_collection_finalize;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	g_type_class_add_private (klass, sizeof (ViewCollectionPrivate));
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->notify_items_selected_unselected = (void (*) (ViewCollection *, GeeCollection*, GeeCollection*)) view_collection_real_notify_items_selected_unselected;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->notify_selection_group_altered = (void (*) (ViewCollection *)) view_collection_real_notify_selection_group_altered;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->notify_item_view_altered = (void (*) (ViewCollection *, DataView*)) view_collection_real_notify_item_view_altered;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->notify_views_altered = (void (*) (ViewCollection *, GeeCollection*)) view_collection_real_notify_views_altered;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->notify_item_geometry_altered = (void (*) (ViewCollection *, DataView*)) view_collection_real_notify_item_geometry_altered;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->notify_geometries_altered = (void (*) (ViewCollection *, GeeCollection*)) view_collection_real_notify_geometries_altered;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->notify_items_shown = (void (*) (ViewCollection *, GeeCollection*)) view_collection_real_notify_items_shown;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->notify_items_hidden = (void (*) (ViewCollection *, GeeCollection*)) view_collection_real_notify_items_hidden;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->notify_items_visibility_changed = (void (*) (ViewCollection *, GeeCollection*)) view_collection_real_notify_items_visibility_changed;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->notify_view_filter_installed = (void (*) (ViewCollection *, ViewFilter*)) view_collection_real_notify_view_filter_installed;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->notify_view_filter_removed = (void (*) (ViewCollection *, ViewFilter*)) view_collection_real_notify_view_filter_removed;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->clear = (void (*) (DataCollection *)) view_collection_real_clear;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->close = (void (*) (DataCollection *)) view_collection_real_close;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->valid_type = (gboolean (*) (DataCollection *, DataObject*)) view_collection_real_valid_type;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->add = (gboolean (*) (DataCollection *, DataObject*)) view_collection_real_add;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->add_many = (GeeCollection* (*) (DataCollection *, GeeCollection*, ProgressMonitor, void*)) view_collection_real_add_many;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->notify_items_added = (void (*) (DataCollection *, GeeIterable*)) view_collection_real_notify_items_added;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->notify_items_removed = (void (*) (DataCollection *, GeeIterable*)) view_collection_real_notify_items_removed;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->items_altered = (void (*) (DataCollection *, GeeMap*)) view_collection_real_items_altered;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->set_comparator = (void (*) (DataCollection *, Comparator, void*, ComparatorPredicate, void*)) view_collection_real_set_comparator;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->reset_comparator = (void (*) (DataCollection *)) view_collection_real_reset_comparator;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->get_all = (GeeCollection* (*) (DataCollection *)) view_collection_real_get_all;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->get_count = (gint (*) (DataCollection *)) view_collection_real_get_count;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->get_at = (DataObject* (*) (DataCollection *, gint)) view_collection_real_get_at;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->index_of = (gint (*) (DataCollection *, DataObject*)) view_collection_real_index_of;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->contains = (gboolean (*) (DataCollection *, DataObject*)) view_collection_real_contains;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->get_first = (DataView* (*) (ViewCollection *)) view_collection_real_get_first;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->get_first_unrejected = (DataView* (*) (ViewCollection *)) view_collection_real_get_first_unrejected;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->get_last = (DataView* (*) (ViewCollection *)) view_collection_real_get_last;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->get_next = (DataView* (*) (ViewCollection *, DataView*)) view_collection_real_get_next;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->get_previous = (DataView* (*) (ViewCollection *, DataView*)) view_collection_real_get_previous;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((DataCollectionClass *) klass)->notify_thawed = (void (*) (DataCollection *)) view_collection_real_notify_thawed;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->items_selected = view_collection_real_items_selected;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->items_unselected = view_collection_real_items_unselected;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->items_state_changed = view_collection_real_items_state_changed;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->selection_group_altered = view_collection_real_selection_group_altered;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->items_shown = view_collection_real_items_shown;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->items_hidden = view_collection_real_items_hidden;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->items_visibility_changed = view_collection_real_items_visibility_changed;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->item_view_altered = view_collection_real_item_view_altered;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->item_geometry_altered = view_collection_real_item_geometry_altered;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->views_altered = view_collection_real_views_altered;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->geometries_altered = view_collection_real_geometries_altered;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->view_filter_installed = view_collection_real_view_filter_installed;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	((ViewCollectionClass *) klass)->view_filter_removed = view_collection_real_view_filter_removed;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	view_collection_signals[VIEW_COLLECTION_ITEMS_SELECTED_SIGNAL] = g_signal_new ("items-selected", TYPE_VIEW_COLLECTION, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (ViewCollectionClass, items_selected), NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, GEE_TYPE_ITERABLE);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	view_collection_signals[VIEW_COLLECTION_ITEMS_UNSELECTED_SIGNAL] = g_signal_new ("items-unselected", TYPE_VIEW_COLLECTION, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (ViewCollectionClass, items_unselected), NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, GEE_TYPE_ITERABLE);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	view_collection_signals[VIEW_COLLECTION_ITEMS_STATE_CHANGED_SIGNAL] = g_signal_new ("items-state-changed", TYPE_VIEW_COLLECTION, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (ViewCollectionClass, items_state_changed), NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, GEE_TYPE_ITERABLE);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	view_collection_signals[VIEW_COLLECTION_SELECTION_GROUP_ALTERED_SIGNAL] = g_signal_new ("selection-group-altered", TYPE_VIEW_COLLECTION, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (ViewCollectionClass, selection_group_altered), NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	view_collection_signals[VIEW_COLLECTION_ITEMS_SHOWN_SIGNAL] = g_signal_new ("items-shown", TYPE_VIEW_COLLECTION, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (ViewCollectionClass, items_shown), NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, GEE_TYPE_COLLECTION);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	view_collection_signals[VIEW_COLLECTION_ITEMS_HIDDEN_SIGNAL] = g_signal_new ("items-hidden", TYPE_VIEW_COLLECTION, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (ViewCollectionClass, items_hidden), NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, GEE_TYPE_COLLECTION);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	view_collection_signals[VIEW_COLLECTION_ITEMS_VISIBILITY_CHANGED_SIGNAL] = g_signal_new ("items-visibility-changed", TYPE_VIEW_COLLECTION, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (ViewCollectionClass, items_visibility_changed), NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, GEE_TYPE_COLLECTION);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	view_collection_signals[VIEW_COLLECTION_ITEM_VIEW_ALTERED_SIGNAL] = g_signal_new ("item-view-altered", TYPE_VIEW_COLLECTION, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (ViewCollectionClass, item_view_altered), NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, TYPE_DATA_VIEW);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	view_collection_signals[VIEW_COLLECTION_ITEM_GEOMETRY_ALTERED_SIGNAL] = g_signal_new ("item-geometry-altered", TYPE_VIEW_COLLECTION, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (ViewCollectionClass, item_geometry_altered), NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, TYPE_DATA_VIEW);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	view_collection_signals[VIEW_COLLECTION_VIEWS_ALTERED_SIGNAL] = g_signal_new ("views-altered", TYPE_VIEW_COLLECTION, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (ViewCollectionClass, views_altered), NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, GEE_TYPE_COLLECTION);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	view_collection_signals[VIEW_COLLECTION_GEOMETRIES_ALTERED_SIGNAL] = g_signal_new ("geometries-altered", TYPE_VIEW_COLLECTION, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (ViewCollectionClass, geometries_altered), NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, GEE_TYPE_COLLECTION);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	view_collection_signals[VIEW_COLLECTION_VIEW_FILTER_INSTALLED_SIGNAL] = g_signal_new ("view-filter-installed", TYPE_VIEW_COLLECTION, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (ViewCollectionClass, view_filter_installed), NULL, NULL, g_cclosure_user_marshal_VOID__VIEW_FILTER, G_TYPE_NONE, 1, TYPE_VIEW_FILTER);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	view_collection_signals[VIEW_COLLECTION_VIEW_FILTER_REMOVED_SIGNAL] = g_signal_new ("view-filter-removed", TYPE_VIEW_COLLECTION, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (ViewCollectionClass, view_filter_removed), NULL, NULL, g_cclosure_user_marshal_VOID__VIEW_FILTER, G_TYPE_NONE, 1, TYPE_VIEW_FILTER);
#line 8500 "ViewCollection.c"
}


static void view_collection_instance_init (ViewCollection * self) {
	GeeHashMultiMap* _tmp0_;
	GeeHashSet* _tmp1_;
	DataSet* _tmp2_;
	GeeHashMap* _tmp3_;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	self->priv = VIEW_COLLECTION_GET_PRIVATE (self);
#line 59 "/shotwell/src/core/ViewCollection.vala"
	_tmp0_ = gee_hash_multi_map_new (TYPE_SOURCE_COLLECTION, (GBoxedCopyFunc) data_collection_ref, (GDestroyNotify) data_collection_unref, VIEW_COLLECTION_TYPE_MONITOR_IMPL, (GBoxedCopyFunc) view_collection_monitor_ref, (GDestroyNotify) view_collection_monitor_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 59 "/shotwell/src/core/ViewCollection.vala"
	self->priv->monitors = _tmp0_;
#line 61 "/shotwell/src/core/ViewCollection.vala"
	self->priv->mirroring = NULL;
#line 62 "/shotwell/src/core/ViewCollection.vala"
	self->priv->mirroring_ctor = NULL;
#line 62 "/shotwell/src/core/ViewCollection.vala"
	self->priv->mirroring_ctor_target = self;
#line 63 "/shotwell/src/core/ViewCollection.vala"
	self->priv->should_mirror = NULL;
#line 63 "/shotwell/src/core/ViewCollection.vala"
	self->priv->should_mirror_target = self;
#line 64 "/shotwell/src/core/ViewCollection.vala"
	_tmp1_ = gee_hash_set_new (TYPE_VIEW_FILTER, (GBoxedCopyFunc) view_filter_ref, (GDestroyNotify) view_filter_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 64 "/shotwell/src/core/ViewCollection.vala"
	self->priv->filters = G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_SET, GeeSet);
#line 65 "/shotwell/src/core/ViewCollection.vala"
	_tmp2_ = data_set_new ();
#line 65 "/shotwell/src/core/ViewCollection.vala"
	self->priv->selected = _tmp2_;
#line 66 "/shotwell/src/core/ViewCollection.vala"
	self->priv->visible = NULL;
#line 67 "/shotwell/src/core/ViewCollection.vala"
	self->priv->frozen_views_altered = NULL;
#line 68 "/shotwell/src/core/ViewCollection.vala"
	self->priv->frozen_geometries_altered = NULL;
#line 72 "/shotwell/src/core/ViewCollection.vala"
	_tmp3_ = gee_hash_map_new (TYPE_DATA_SOURCE, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, TYPE_DATA_VIEW, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 72 "/shotwell/src/core/ViewCollection.vala"
	self->priv->source_map = _tmp3_;
#line 8543 "ViewCollection.c"
}


static void view_collection_finalize (DataCollection * obj) {
	ViewCollection * self;
#line 21 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_VIEW_COLLECTION, ViewCollection);
#line 59 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (self->priv->monitors);
#line 61 "/shotwell/src/core/ViewCollection.vala"
	_data_collection_unref0 (self->priv->mirroring);
#line 64 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (self->priv->filters);
#line 65 "/shotwell/src/core/ViewCollection.vala"
	_data_set_unref0 (self->priv->selected);
#line 66 "/shotwell/src/core/ViewCollection.vala"
	_data_set_unref0 (self->priv->visible);
#line 67 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (self->priv->frozen_views_altered);
#line 68 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (self->priv->frozen_geometries_altered);
#line 72 "/shotwell/src/core/ViewCollection.vala"
	_g_object_unref0 (self->priv->source_map);
#line 21 "/shotwell/src/core/ViewCollection.vala"
	DATA_COLLECTION_CLASS (view_collection_parent_class)->finalize (obj);
#line 8569 "ViewCollection.c"
}


GType view_collection_get_type (void) {
	static volatile gsize view_collection_type_id__volatile = 0;
	if (g_once_init_enter (&view_collection_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ViewCollectionClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) view_collection_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ViewCollection), 0, (GInstanceInitFunc) view_collection_instance_init, NULL };
		GType view_collection_type_id;
		view_collection_type_id = g_type_register_static (TYPE_DATA_COLLECTION, "ViewCollection", &g_define_type_info, 0);
		g_once_init_leave (&view_collection_type_id__volatile, view_collection_type_id);
	}
	return view_collection_type_id__volatile;
}


static gboolean view_manager_real_include_in_view (ViewManager* self, DataSource* source) {
	gboolean result = FALSE;
#line 1258 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_DATA_SOURCE (source), FALSE);
#line 1259 "/shotwell/src/core/ViewCollection.vala"
	result = TRUE;
#line 1259 "/shotwell/src/core/ViewCollection.vala"
	return result;
#line 8593 "ViewCollection.c"
}


gboolean view_manager_include_in_view (ViewManager* self, DataSource* source) {
#line 1258 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_MANAGER (self), FALSE);
#line 1258 "/shotwell/src/core/ViewCollection.vala"
	return VIEW_MANAGER_GET_CLASS (self)->include_in_view (self, source);
#line 8602 "ViewCollection.c"
}


static DataView* view_manager_real_create_view (ViewManager* self, DataSource* source) {
#line 1264 "/shotwell/src/core/ViewCollection.vala"
	g_critical ("Type `%s' does not implement abstract method `view_manager_create_view'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 1264 "/shotwell/src/core/ViewCollection.vala"
	return NULL;
#line 8611 "ViewCollection.c"
}


DataView* view_manager_create_view (ViewManager* self, DataSource* source) {
#line 1264 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_MANAGER (self), NULL);
#line 1264 "/shotwell/src/core/ViewCollection.vala"
	return VIEW_MANAGER_GET_CLASS (self)->create_view (self, source);
#line 8620 "ViewCollection.c"
}


ViewManager* view_manager_construct (GType object_type) {
	ViewManager* self = NULL;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	self = (ViewManager*) g_type_create_instance (object_type);
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	return self;
#line 8630 "ViewCollection.c"
}


static void value_view_manager_init (GValue* value) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	value->data[0].v_pointer = NULL;
#line 8637 "ViewCollection.c"
}


static void value_view_manager_free_value (GValue* value) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	if (value->data[0].v_pointer) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		view_manager_unref (value->data[0].v_pointer);
#line 8646 "ViewCollection.c"
	}
}


static void value_view_manager_copy_value (const GValue* src_value, GValue* dest_value) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	if (src_value->data[0].v_pointer) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		dest_value->data[0].v_pointer = view_manager_ref (src_value->data[0].v_pointer);
#line 8656 "ViewCollection.c"
	} else {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		dest_value->data[0].v_pointer = NULL;
#line 8660 "ViewCollection.c"
	}
}


static gpointer value_view_manager_peek_pointer (const GValue* value) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	return value->data[0].v_pointer;
#line 8668 "ViewCollection.c"
}


static gchar* value_view_manager_collect_value (GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	if (collect_values[0].v_pointer) {
#line 8675 "ViewCollection.c"
		ViewManager * object;
		object = collect_values[0].v_pointer;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		if (object->parent_instance.g_class == NULL) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 8682 "ViewCollection.c"
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 8686 "ViewCollection.c"
		}
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = view_manager_ref (object);
#line 8690 "ViewCollection.c"
	} else {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = NULL;
#line 8694 "ViewCollection.c"
	}
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	return NULL;
#line 8698 "ViewCollection.c"
}


static gchar* value_view_manager_lcopy_value (const GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	ViewManager ** object_p;
	object_p = collect_values[0].v_pointer;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	if (!object_p) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
#line 8709 "ViewCollection.c"
	}
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	if (!value->data[0].v_pointer) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		*object_p = NULL;
#line 8715 "ViewCollection.c"
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		*object_p = value->data[0].v_pointer;
#line 8719 "ViewCollection.c"
	} else {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		*object_p = view_manager_ref (value->data[0].v_pointer);
#line 8723 "ViewCollection.c"
	}
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	return NULL;
#line 8727 "ViewCollection.c"
}


GParamSpec* param_spec_view_manager (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags) {
	ParamSpecViewManager* spec;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (g_type_is_a (object_type, TYPE_VIEW_MANAGER), NULL);
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	G_PARAM_SPEC (spec)->value_type = object_type;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	return G_PARAM_SPEC (spec);
#line 8741 "ViewCollection.c"
}


gpointer value_get_view_manager (const GValue* value) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_VIEW_MANAGER), NULL);
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	return value->data[0].v_pointer;
#line 8750 "ViewCollection.c"
}


void value_set_view_manager (GValue* value, gpointer v_object) {
	ViewManager * old;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_VIEW_MANAGER));
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	old = value->data[0].v_pointer;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	if (v_object) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TYPE_VIEW_MANAGER));
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = v_object;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		view_manager_ref (value->data[0].v_pointer);
#line 8770 "ViewCollection.c"
	} else {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = NULL;
#line 8774 "ViewCollection.c"
	}
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	if (old) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		view_manager_unref (old);
#line 8780 "ViewCollection.c"
	}
}


void value_take_view_manager (GValue* value, gpointer v_object) {
	ViewManager * old;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_VIEW_MANAGER));
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	old = value->data[0].v_pointer;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	if (v_object) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TYPE_VIEW_MANAGER));
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = v_object;
#line 8799 "ViewCollection.c"
	} else {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = NULL;
#line 8803 "ViewCollection.c"
	}
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	if (old) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		view_manager_unref (old);
#line 8809 "ViewCollection.c"
	}
}


static void view_manager_class_init (ViewManagerClass * klass) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	view_manager_parent_class = g_type_class_peek_parent (klass);
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	((ViewManagerClass *) klass)->finalize = view_manager_finalize;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	((ViewManagerClass *) klass)->include_in_view = (gboolean (*) (ViewManager *, DataSource*)) view_manager_real_include_in_view;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	((ViewManagerClass *) klass)->create_view = (DataView* (*) (ViewManager *, DataSource*)) view_manager_real_create_view;
#line 8823 "ViewCollection.c"
}


static void view_manager_instance_init (ViewManager * self) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	self->ref_count = 1;
#line 8830 "ViewCollection.c"
}


static void view_manager_finalize (ViewManager * obj) {
	ViewManager * self;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_VIEW_MANAGER, ViewManager);
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	g_signal_handlers_destroy (self);
#line 8840 "ViewCollection.c"
}


GType view_manager_get_type (void) {
	static volatile gsize view_manager_type_id__volatile = 0;
	if (g_once_init_enter (&view_manager_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { value_view_manager_init, value_view_manager_free_value, value_view_manager_copy_value, value_view_manager_peek_pointer, "p", value_view_manager_collect_value, "p", value_view_manager_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (ViewManagerClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) view_manager_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ViewManager), 0, (GInstanceInitFunc) view_manager_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType view_manager_type_id;
		view_manager_type_id = g_type_register_fundamental (g_type_fundamental_next (), "ViewManager", &g_define_type_info, &g_define_type_fundamental_info, G_TYPE_FLAG_ABSTRACT);
		g_once_init_leave (&view_manager_type_id__volatile, view_manager_type_id);
	}
	return view_manager_type_id__volatile;
}


gpointer view_manager_ref (gpointer instance) {
	ViewManager * self;
	self = instance;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	g_atomic_int_inc (&self->ref_count);
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	return instance;
#line 8865 "ViewCollection.c"
}


void view_manager_unref (gpointer instance) {
	ViewManager * self;
	self = instance;
#line 1254 "/shotwell/src/core/ViewCollection.vala"
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		VIEW_MANAGER_GET_CLASS (self)->finalize (self);
#line 1254 "/shotwell/src/core/ViewCollection.vala"
		g_type_free_instance ((GTypeInstance *) self);
#line 8878 "ViewCollection.c"
	}
}


static gboolean view_filter_real_predicate (ViewFilter* self, DataView* view) {
	gboolean _tmp0_ = FALSE;
#line 1286 "/shotwell/src/core/ViewCollection.vala"
	g_critical ("Type `%s' does not implement abstract method `view_filter_predicate'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 1286 "/shotwell/src/core/ViewCollection.vala"
	return _tmp0_;
#line 8889 "ViewCollection.c"
}


gboolean view_filter_predicate (ViewFilter* self, DataView* view) {
#line 1286 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (IS_VIEW_FILTER (self), FALSE);
#line 1286 "/shotwell/src/core/ViewCollection.vala"
	return VIEW_FILTER_GET_CLASS (self)->predicate (self, view);
#line 8898 "ViewCollection.c"
}


ViewFilter* view_filter_construct (GType object_type) {
	ViewFilter* self = NULL;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	self = (ViewFilter*) g_type_create_instance (object_type);
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	return self;
#line 8908 "ViewCollection.c"
}


static void view_filter_real_refresh (ViewFilter* self) {
}


static void value_view_filter_init (GValue* value) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	value->data[0].v_pointer = NULL;
#line 8919 "ViewCollection.c"
}


static void value_view_filter_free_value (GValue* value) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	if (value->data[0].v_pointer) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		view_filter_unref (value->data[0].v_pointer);
#line 8928 "ViewCollection.c"
	}
}


static void value_view_filter_copy_value (const GValue* src_value, GValue* dest_value) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	if (src_value->data[0].v_pointer) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		dest_value->data[0].v_pointer = view_filter_ref (src_value->data[0].v_pointer);
#line 8938 "ViewCollection.c"
	} else {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		dest_value->data[0].v_pointer = NULL;
#line 8942 "ViewCollection.c"
	}
}


static gpointer value_view_filter_peek_pointer (const GValue* value) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	return value->data[0].v_pointer;
#line 8950 "ViewCollection.c"
}


static gchar* value_view_filter_collect_value (GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	if (collect_values[0].v_pointer) {
#line 8957 "ViewCollection.c"
		ViewFilter * object;
		object = collect_values[0].v_pointer;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		if (object->parent_instance.g_class == NULL) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 8964 "ViewCollection.c"
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 8968 "ViewCollection.c"
		}
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = view_filter_ref (object);
#line 8972 "ViewCollection.c"
	} else {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = NULL;
#line 8976 "ViewCollection.c"
	}
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	return NULL;
#line 8980 "ViewCollection.c"
}


static gchar* value_view_filter_lcopy_value (const GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	ViewFilter ** object_p;
	object_p = collect_values[0].v_pointer;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	if (!object_p) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
#line 8991 "ViewCollection.c"
	}
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	if (!value->data[0].v_pointer) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		*object_p = NULL;
#line 8997 "ViewCollection.c"
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		*object_p = value->data[0].v_pointer;
#line 9001 "ViewCollection.c"
	} else {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		*object_p = view_filter_ref (value->data[0].v_pointer);
#line 9005 "ViewCollection.c"
	}
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	return NULL;
#line 9009 "ViewCollection.c"
}


GParamSpec* param_spec_view_filter (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags) {
	ParamSpecViewFilter* spec;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (g_type_is_a (object_type, TYPE_VIEW_FILTER), NULL);
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	G_PARAM_SPEC (spec)->value_type = object_type;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	return G_PARAM_SPEC (spec);
#line 9023 "ViewCollection.c"
}


gpointer value_get_view_filter (const GValue* value) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_VIEW_FILTER), NULL);
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	return value->data[0].v_pointer;
#line 9032 "ViewCollection.c"
}


void value_set_view_filter (GValue* value, gpointer v_object) {
	ViewFilter * old;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_VIEW_FILTER));
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	old = value->data[0].v_pointer;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	if (v_object) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TYPE_VIEW_FILTER));
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = v_object;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		view_filter_ref (value->data[0].v_pointer);
#line 9052 "ViewCollection.c"
	} else {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = NULL;
#line 9056 "ViewCollection.c"
	}
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	if (old) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		view_filter_unref (old);
#line 9062 "ViewCollection.c"
	}
}


void value_take_view_filter (GValue* value, gpointer v_object) {
	ViewFilter * old;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_VIEW_FILTER));
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	old = value->data[0].v_pointer;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	if (v_object) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TYPE_VIEW_FILTER));
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = v_object;
#line 9081 "ViewCollection.c"
	} else {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		value->data[0].v_pointer = NULL;
#line 9085 "ViewCollection.c"
	}
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	if (old) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		view_filter_unref (old);
#line 9091 "ViewCollection.c"
	}
}


static void view_filter_class_init (ViewFilterClass * klass) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	view_filter_parent_class = g_type_class_peek_parent (klass);
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	((ViewFilterClass *) klass)->finalize = view_filter_finalize;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	((ViewFilterClass *) klass)->predicate = (gboolean (*) (ViewFilter *, DataView*)) view_filter_real_predicate;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	((ViewFilterClass *) klass)->refresh = view_filter_real_refresh;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	view_filter_signals[VIEW_FILTER_REFRESH_SIGNAL] = g_signal_new ("refresh", TYPE_VIEW_FILTER, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (ViewFilterClass, refresh), NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 9107 "ViewCollection.c"
}


static void view_filter_instance_init (ViewFilter * self) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	self->ref_count = 1;
#line 9114 "ViewCollection.c"
}


static void view_filter_finalize (ViewFilter * obj) {
	ViewFilter * self;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_VIEW_FILTER, ViewFilter);
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	g_signal_handlers_destroy (self);
#line 9124 "ViewCollection.c"
}


GType view_filter_get_type (void) {
	static volatile gsize view_filter_type_id__volatile = 0;
	if (g_once_init_enter (&view_filter_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { value_view_filter_init, value_view_filter_free_value, value_view_filter_copy_value, value_view_filter_peek_pointer, "p", value_view_filter_collect_value, "p", value_view_filter_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (ViewFilterClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) view_filter_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ViewFilter), 0, (GInstanceInitFunc) view_filter_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType view_filter_type_id;
		view_filter_type_id = g_type_register_fundamental (g_type_fundamental_next (), "ViewFilter", &g_define_type_info, &g_define_type_fundamental_info, G_TYPE_FLAG_ABSTRACT);
		g_once_init_leave (&view_filter_type_id__volatile, view_filter_type_id);
	}
	return view_filter_type_id__volatile;
}


gpointer view_filter_ref (gpointer instance) {
	ViewFilter * self;
	self = instance;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	g_atomic_int_inc (&self->ref_count);
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	return instance;
#line 9149 "ViewCollection.c"
}


void view_filter_unref (gpointer instance) {
	ViewFilter * self;
	self = instance;
#line 1279 "/shotwell/src/core/ViewCollection.vala"
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		VIEW_FILTER_GET_CLASS (self)->finalize (self);
#line 1279 "/shotwell/src/core/ViewCollection.vala"
		g_type_free_instance ((GTypeInstance *) self);
#line 9162 "ViewCollection.c"
	}
}



